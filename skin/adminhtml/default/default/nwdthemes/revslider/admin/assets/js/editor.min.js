window.HelpGuide={addOnsHelp:[],verifyObject:function(e){return e&&"object"==typeof e&&!Array.isArray(e)},add:function(e){HelpGuide.verifyObject(e)&&(HelpGuide.allHelpPaths?HelpGuide.extendHelpAddOns([e],!0):HelpGuide.addOnsHelp[HelpGuide.addOnsHelp.length]=e)},activate:function(e){HelpGuide.allHelpPaths&&HelpGuide.toggleHelpAddOn(e,!0)},deactivate:function(e){HelpGuide.allHelpPaths&&HelpGuide.toggleHelpAddOn(e)}},function(e){e(function(){var t;e(".help_wrap").one("click",function(t){e.getScript(RVS.ENV.plugin_url+"admin/assets/js/modules/help.js")}),e(".tooltip_wrap").on("click",function(){var i=e(this).data("scriptready");t&&!i||(t?e(document).trigger("start-tooltips"):e.getScript(RVS.ENV.plugin_url+"admin/assets/js/modules/tooltip.js"),t=!0)}),window.RsTooltips=function(t,i,a){window.RsTooltipList=i,revSliderToolTips&&t&&e(".tooltip_wrap").data("tooltip-definitions",a).click()}})}($nwd_jQuery),function(e){e(function(){var t,i,a,r,s,o,n,l,d,c,S,p,u,R,V,m,f,y,h,v=50,g=50,_=10;RVS.DOC=void 0===RVS.DOC?e(document):RVS.DOC;var L={editlayer:function(){var t;switch(this.dataset.type){case"content":t=["#gst_layer_1"];break;case"image":t=["#gst_layer_1","#image_layer_media_library_button"];break;case"style":t=["#gst_layer_3"];break;case"advstyle":t=["#gst_layer_6"];break;case"size":t=["#gst_layer_2"];break;case"hover":t=["#gst_layer_9"];break;case"scroll":t=["#gst_layer_8"];break;case"responsive":t=["#gst_layer_13"];break;case"animation":t=["#gst_layer_4"];break;case"actions":t=["#gst_layer_5"]}r=!0,t.unshift("#module_layers_trigger");for(var i=t.length,a=0;a<i;a++)try{e(t[a]).click()}catch(e){}r=!0},editbg:function(){var t;switch(this.dataset.type){case"content":t=["#gst_slide_1"];break;case"image":t=["#gst_slide_1","#slide_bg_image_btn"];break;case"objectlibrary":t=["#gst_slide_1","#slide_object_library_btn"]}r=!0,t.unshift("#module_slide_trigger");for(var i=t.length,a=0;a<i;a++)try{e(t[a]).click()}catch(e){}r=!1},duplicatelayer:function(){RVS.DOC.trigger("do_duplicate_layer")},deletelayer:function(){RVS.DOC.trigger("do_delete_layer")},hidelayer:function(){RVS.F.showHideLayers()},locklayer:function(){RVS.F.lockUnlockLayers()},copylayer:function(){if(u=!1,p=!1,s=!0,o="Paste Layer(s)",RVS.selLayers&&1===RVS.selLayers.length){var e=RVS.L[t.dataset.uid].type;if(e&&-1===e.search(/column|row|zone/)){var i=RVS.H[t.dataset.uid],a=i.w_height,r=i.w_width;r="auto"===r?i.w.outerWidth(!0):-1!==r.search("%")?i.w.closest(".layer_grid").width()*(.01*parseInt(r,10)):parseInt(r,10),a="auto"===a?i.w.outerHeight(!0):-1!==a.search("%")?i.h.closest(".layer_grid").height()*(.01*parseInt(a,10)):parseInt(a,10);var n=RVS.S.shrink[RVS.screen];p={w:.5*(r*=n),h:.5*(a*=n),keys:Object.keys(RVS.H)}}}V=RVS.S.slideId,RVS.DOC.trigger("do_copy_layer")},copylayersettings:function(){u=!1;var e=this.dataset.type,i=this.dataset.title,a=RVS.L[t.dataset.uid];a?(s=-1===e.search("idle")?[e,RVS.F.safeExtend(!0,{},a[e]),i,RVS.selLayers[0]]:[e,b(a.idle,e),i],o="Paste "+i):console.log("Wrong object path when copying layer style/settings")},copybg:function(){s=!1;var e,t=RVS.SLIDER[RVS.S.slideId].slide,i=this.dataset.title,a=this.dataset.type;switch(a){case"background":delete(e=RVS.F.safeExtend(!0,{},t.bg)).mediaFilter,u=[a,e,i];break;case"animation":u=[a,w(t.timeline),i];break;case"filter":u=[a,t.bg.mediaFilter,i];break;case"onscroll":u=[a,RVS.F.safeExtend(!0,{},t.effects),i];break;case"panzoom":e=RVS.F.safeExtend(!0,{},t.panzoom),t=t.bg,e.bg={position:t.position,positionX:t.positionX,positionY:t.positionY},u=[a,e,i]}o="Paste "+i},paste:function(i){s?function(i){if(!s||!1===s)return void console.log("pasting from layer copy failed");var a;if(!0===s){if(RVS.DOC.trigger("do_paste_layer"),!p||V!==RVS.S.slideId)return;for(var r=Object.keys(RVS.H),o=r.length,n=0;n<o;n++)if(-1===p.keys.indexOf(r[n])){a=r[n];break}return void(a&&function(e,t){var i=RVS.L[t].position,a=i.horizontal[RVS.screen].v,r=i.vertical[RVS.screen].v,s=RVS.H[t].w.closest(".layer_grid"),o=s.offset(),n=Math.round(e.pageX-o.left-p.w),l=Math.round(e.pageY-o.top-p.h),d=n,c=l;switch(a){case"right":d=s.width()-n;break;case"center":d=Math.round(.5*s.width()-p.w)}switch(r){case"bottom":c=s.height()-l;break;case"center":c=Math.round(.5*s.height()-p.h)}var S,u,R,V,m,f=RVS.F.safeExtend(!0,{},i.horizontal),y=RVS.F.safeExtend(!0,{},i.vertical),h=4,v=RVS.V.sizes.slice().reverse();for(;RVS.screen!==v[0];)v.shift();for(m=0;m<4;m++)f[RVS.V.sizes[m]].e=!1;for(h=v.length,u=h-1,d+="px",c+="px",m=0;m<h;m++)V=v[m],R=m===u,((S=RVS.screen===V||R)||i.x[V].e)&&(i.x[V]={v:d,e:!0,u:"px"}),(S||i.y[V].e)&&(i.y[V]={v:c,e:!0,u:"px"}),pH=RVS.F.safeExtend(!0,{},f),pV=RVS.F.safeExtend(!0,{},y),S&&(pH[V].e=!0,pV[V].e=!0),i.horizontal[V]=RVS.F.safeExtend(!0,{},pH[V]),i.vertical[V]=RVS.F.safeExtend(!0,{},pV[V]);v=RVS.V.sizes.slice();for(;RVS.screen!==v[0];)v.shift();v.length&&v.shift();for(h=v.length,m=0;m<h;m++)V=v[m],i.x[V].e=!1,i.y[V].e=!1,i.horizontal[V]=RVS.F.safeExtend(!0,{},f[V]),i.vertical[V]=RVS.F.safeExtend(!0,{},y[V]);for(var g in RVS.L)RVS.L.hasOwnProperty(g)&&"zone"!==RVS.L[g].type&&RVS.F.drawHTMLLayer({uid:g});RVS.S.clickedLayer=t}(i,a))}var l=s[0],d=s[1],c=s[3];if(RVS.F.openBackupGroup({id:"pasteLayerSettings",txt:"Paste Layer "+s[2],icon:"file_download"}),-1===l.search("idle"))"timeline"===l&&(RVS.TL[RVS.S.slideId].layers[RVS.selLayers[0]]=RVS.F.safeExtend(!0,{},RVS.TL[RVS.S.slideId].layers[c])),RVS.F.updateLayerObj({path:l,val:d}),"timeline"===l&&(RVS.F.reDrawListElements(),e(t).click());else for(var S in d)d.hasOwnProperty(S)&&RVS.F.updateLayerObj({path:"idle."+S,val:d[S]});RVS.F.updateInputFields(),RVS.F.closeBackupGroup({id:"pasteLayerSettings"}),RVS.S.clickedLayer=null}(i):function(){if(!u||!1===u)return void console.log("pasting from bg copy failed");var t,i=u[0],a=u[1],r=RVS.SLIDER[RVS.S.slideId].slide;switch(RVS.F.openBackupGroup({id:"pasteBgSettings",txt:"Paste BG "+u[2],icon:"file_download"}),i){case"background":RVS.F.safeExtend(!0,r.bg,a),t="#form_slidebg_source";break;case"animation":RVS.F.safeExtend(!0,r.timeline,a),t="#form_slide_transition";break;case"filter":r.bg.mediaFilter=a,t="#form_slidebg_filters";break;case"onscroll":RVS.F.safeExtend(!0,r.effects,a),t="#form_slide_onscroll";break;case"panzoom":RVS.F.safeExtend(!0,r.panzoom,a),t="#form_slidebg_kenburn"}RVS.F.updateEasyInputs({container:t,path:RVS.S.slideId+".slide.",trigger:"init"}),"panzoom"===i?function(t,i){t.position=i.position,t.positionX=i.positionX,t.positionY=i.positionY,RVS.F.updateEasyInputs({container:e("#slide_bg_settings_wrapper"),path:RVS.S.slideId+".slide.",trigger:"init"}),e("#sl_pz_set").change()}(r.bg,a.bg):"animation"===i&&RVS.F.updateSlideAnimation();RVS.F.closeBackupGroup({id:"pasteBgSettings"}),RVS.DOC.trigger("updateslidebasic")}()},disable:function(){y.remove(),S.remove(),h.off(".rcmenu"),e("body").off(".rcmenu"),e("#main_hor_toolbar, #the_right_toolbar, #timeline_settings").off(".rcmenu"),n=m=i=a=l=f=t=s=u=R=y=S=h=void 0}};function w(e){for(var t,i=["transition","duration","easeIn","easeOut","slots","rotation"],a=i.length,r={},s=0;s<a;s++)r[t=i[s]]=RVS.F.safeExtend(!0,{},e[t]);return r}function b(e,t){for(var i,a,r=(i="idle"===t?["fontSize","lineHeight","fontWeight","letterSpacing","fontStyle","textDecoration","textTransform","selectable","fontFamily","color","backgroundColor","backgroundImage","backgroundImageId","backgroundPosition","backgroundSize","backgroundRepeat","margin","padding","borderColor","borderStyle","borderWidth","borderRadius"]:["rotationX","rotationY","rotationZ","opacity","boxShadow","textShadow","filter","spikeUse","spikeLeft","spikeLeftWidth","spikeRight","spikeRightWidth","cornerLeft","cornerRight"]).length,s={},o=0;o<r;o++)(a=e[i[o]])&&(Array.isArray(a)?a=JSON.parse(JSON.stringify(a)):"object"==typeof a&&(a=RVS.F.safeExtend(!0,{},a)),s[i[o]]=a);return s}function F(e){var t=this.dataset.rcevent;return t&&L[t]&&L[this.dataset.rcevent].call(this,e),!1}function I(){c&&(c=!1,S.hide(),y.hide())}function x(e,t){return(t.match(/(^|\s)rc-\align-\S+/g)||[]).join(" ")}function k(t){c&&!r&&("rc_layer_menu"===t.target.id||e(t.target).closest("#rc_layer_menu").length||I())}function T(e,t){D.call(t)}function D(){var t,r,p,V,L,w,b;d||function(){S=e('<div class="tool_dd_wrap rc-menu-wrap" id="rc_layer_menu"><div class="toolbar_dd_subdrop_wrap"><div class="rc-menu-item rc-menu-single"><i class="material-icons">edit</i>Edit</div><div class="toolbar_dd_subdrop"><div class="rc-menu-item rc-menu-layer-edit" data-type="content" data-rcevent="editlayer"><i class="material-icons">edit</i>Content</div><div class="rc-menu-item rc-menu-layer-edit" data-type="image" data-rcevent="editlayer"><i class="material-icons">edit</i>Image</div><div class="rc-menu-item" data-type="style" data-rcevent="editlayer"><i class="material-icons">color_lens</i>Base Style</div><div class="rc-menu-item" data-type="advstyle" data-rcevent="editlayer"><i class="material-icons">invert_colors</i>Adv. Style</div><div class="rc-menu-item" data-type="hover" data-rcevent="editlayer"><i class="material-icons">mouse</i>Hover Style</div><div class="rc-menu-item" data-type="sizepos" data-rcevent="editlayer"><i class="material-icons">open_with</i>Size & Position</div><div class="rc-menu-item" data-type="responsive" data-rcevent="editlayer"><i class="material-icons">photo_size_select_large</i>Responsivity</div><div class="rc-menu-item" data-type="animation" data-rcevent="editlayer"><i class="material-icons">play_arrow</i>Animation</div><div class="rc-menu-item" data-type="scroll" data-rcevent="editlayer"><i class="material-icons">system_update_alt</i>On Scroll</div><div class="rc-menu-item" data-type="actions" data-rcevent="editlayer"><i class="material-icons">touch_app</i>Actions</div></div></div><div class="toolbar_dd_subdrop_wrap"><div class="rc-menu-item" data-type="layer" data-rcevent="copylayer"><i class="material-icons" data-title="Layer(s)">content_paste</i>Copy</div><div class="toolbar_dd_subdrop"><div class="rc-menu-item" data-type="layer" data-rcevent="copylayer"><i class="material-icons" data-title="Layers(s)">layers</i>Selected Layers</div><div class="rc-menu-item rc-menu-single" data-type="idle" data-rcevent="copylayersettings" data-title="Base Style"><i class="material-icons">color_lens</i>Base Style</div><div class="rc-menu-item rc-menu-single" data-type="idleadv" data-rcevent="copylayersettings" data-title="Adv. Style"><i class="material-icons">invert_colors</i>Adv. Style</div><div class="rc-menu-item rc-menu-single" data-type="hover" data-rcevent="copylayersettings" data-title="Hover Style"><i class="material-icons">mouse</i>Hover Style</div><div class="rc-menu-item rc-menu-single" data-type="size" data-rcevent="copylayersettings" data-title="Size"><i class="material-icons">aspect_ratio</i>Size</div><div class="rc-menu-item rc-menu-single" data-type="position" data-rcevent="copylayersettings" data-title="Position"><i class="material-icons">open_with</i>Position</div><div class="rc-menu-item rc-menu-single" data-type="behavior" data-rcevent="copylayersettings" data-title="Responsivity"><i class="material-icons">photo_size_select_large</i>Responsivity</div><div class="rc-menu-item rc-menu-single" data-type="timeline" data-rcevent="copylayersettings" data-title="Animation"><i class="material-icons">play_arrow</i>Animation</div><div class="rc-menu-item rc-menu-single" data-type="effects" data-rcevent="copylayersettings" data-title="On Scroll"><i class="material-icons">system_update_alt</i>On Scroll</div><div class="rc-menu-item rc-menu-single" data-type="actions" data-rcevent="copylayersettings" data-title="Actions"><i class="material-icons">touch_app</i>Actions</div></div></div><div id="rc_paste_layer" class="rc-menu-item" data-rcevent="paste"><i class="material-icons">file_download</i><span class="rc-menu-paste">Paste</span></div><div class="rc-menu-item" data-rcevent="duplicatelayer"><i class="material-icons">content_copy</i>Duplicate</div><div class="rc-menu-item" data-rcevent="deletelayer"><i class="material-icons">delete</i>Delete</div><div class="rc-menu-item" data-rcevent="hidelayer"><i class="material-icons">visibility</i>Show/Hide</div><div class="rc-menu-item" data-rcevent="locklayer"><i class="material-icons">lock_outline</i>Lock/Unlock</div><div class="rc-menu-item" data-rcevent="disable"><i class="material-icons">toggle_off</i>Disable Menu</div></div>').on("mouseleave",I),y=e('<div class="tool_dd_wrap rc-menu-wrap" id="rc_bg_menu"><div class="rc-menu-item rc-menu-bg-edit" data-type="content" data-rcevent="editbg"><i class="material-icons">edit</i>Edit</div><div class="toolbar_dd_subdrop_wrap rc-menu-bg-edit" data-type="image"><div class="rc-menu-item"><i class="material-icons">edit</i>Edit</div><div class="toolbar_dd_subdrop"><div class="rc-menu-item" data-type="image" data-rcevent="editbg" data-title="Background"><i class="material-icons">style</i>Media Library</div><div class="rc-menu-item" data-type="objectlibrary" data-rcevent="editbg" data-title="Animation"><i class="material-icons">camera_enhance</i>Object Library</div></div></div><div class="toolbar_dd_subdrop_wrap"><div class="rc-menu-item"><i class="material-icons">content_paste</i>Copy</div><div class="toolbar_dd_subdrop"><div class="rc-menu-item" data-type="background" data-rcevent="copybg" data-title="Background"><i class="material-icons">color_lens</i>Background</div><div class="rc-menu-item" data-type="animation" data-rcevent="copybg" data-title="Animation"><i class="material-icons">invert_colors</i>Animation</div><div class="rc-menu-item" data-type="filter" data-rcevent="copybg" data-title="Filter"><i class="material-icons">blur_on</i>Filter</div><div class="rc-menu-item" data-type="onscroll" data-rcevent="copybg" data-title="On Scroll"><i class="material-icons">system_update_alt</i>On Scroll</div><div id="rc_menu_panzoom" class="rc-menu-item" data-type="panzoom" data-rcevent="copybg" data-title="Ken Burns"><i class="material-icons">leak_add</i>Ken Burns</div></div></div><div id="rc_paste_bg" class="rc-menu-item" data-rcevent="paste"><i class="material-icons">file_download</i><span class="rc-menu-paste">Paste</span></div><div class="rc-menu-item" data-rcevent="disable"><i class="material-icons">toggle_off</i>Disable Menu</div></div>').on("mouseleave",I),n=S.find("#rc_paste_layer"),m=y.find("#rc_paste_bg");var t=e("body").on("click.rcmenu",".rc-menu-item:not(.rc-menu-title)",F).on("click.rcmenu",k);e("#main_hor_toolbar, #the_right_toolbar, #timeline_settings").on("mouseover.rcmenu",I),t.append(S).append(y),i=e(".rc-menu-single"),a=i.parents(".toolbar_dd_subdrop_wrap"),l=e(".rc-menu-paste"),f=e("#rc_menu_panzoom"),h=RVS.WIN.on("resize.rcmenu",I),d=!0}(),e(this).hasClass("_lc_")?(y.hide(),function(){var t=this.className.split("_lc_type_");t=-1!==(t=t[1].split(" ")[0]).search(/text|button|video|audio/)?"content":"image"===t&&"image",e(".rc-menu-layer-edit").hide(),t&&e('.rc-menu-layer-edit[data-type="'+t+'"').show(),s?(n.removeClass("disabled"),l.text(o)):(n.addClass("disabled"),l.text("Paste"))}.call(this),t=S.removeClass(x),r=RVS.selLayers&&1===RVS.selLayers.length?"removeClass":"addClass",i[r]("disabled"),a[r]("disabled")):(S.hide(),function(){e(".rc-menu-bg-edit").hide();var t="image"===RVS.SLIDER[RVS.S.slideId].slide.bg.type?"image":"content";t&&e('.rc-menu-bg-edit[data-type="'+t+'"]').show(),!0===s||u?(m.removeClass("disabled"),l.text(o)):(m.addClass("disabled"),l.text("Paste"))}(),t=y.removeClass(x),p=RVS.SLIDER[RVS.S.slideId].slide.bg.type,f[r="image"===p||"external"===p?"show":"hide"]()),R.pageX<h.width()-t.width()-v?w=R.pageX+_:(w=R.pageX-t.width()-_,V="rc-align-right"),R.pageY<h.height()-t.height()-g?b=R.pageY+_:(b=R.pageY-t.height()-_,L="rc-align-bottom"),V&&t.addClass(V),L&&t.addClass(L),t.css({left:w,top:b}).show(),c=!0,R=!1}e("body").on("contextmenu.rcmenu",".layer_grid, ._lc_",function(i){if(R)return!1;t=this,R=i;var a=e(this);return a.hasClass("_lc_")&&!a.hasClass("selected")?(RVS.DOC.one("layerselectioncomplete.rcmenu",T),a.click(),!1):(D.call(this),!1)})})}($nwd_jQuery),function(e){!function(){var t,i,a,r,s,o,n,l,d,c=["chars","words","lines"],S=[];function p(e){var t=RVS.F.safeExtend(!0,{},e);return delete t.borderWidth,delete t.borderStyle,delete t.borderColor,delete t.backgroundColor,delete t.background,delete t.backgroundImage,t}function u(e){var t;for(var i in e)e.hasOwnProperty(i)&&"string"==typeof e[i]&&e[i].indexOf("|")>=0&&((t=void 0===t?{}:t)[i]=e[i].replace("[","").replace("]","").split("|"),delete e[i]);return void 0!==t&&(e.cycle=t),e}function R(e,t){var i=e.length-1,a=[];switch(t){case"forward":case"random":for(var r=0;r<=i;r++)a.push(r);"random"===t&&(a=function(e){for(var t,i,a=e.length;0!==a;)i=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[i],e[i]=t;return e}(a));break;case"backward":for(r=0;r<=i;r++)a.push(i-r);break;case"middletoedge":var s=Math.ceil(i/2),o=s-1,n=s+1;a.push(s);for(r=0;r<s;r++)o>=0&&a.push(o),n<=i&&a.push(n),o--,n++;break;case"edgetomiddle":for(o=i,n=0,r=0;r<=Math.floor(i/2);r++)a.push(o),n<o&&a.push(n),o--,n++;break;default:for(r=0;r<=i;r++)a.push(r)}var l=[];for(var d in a)a.hasOwnProperty(d)&&l.push(e[a[d]]);return l}function V(e,t,i){if(void 0!==e&&e.indexOf("block")>=0){var a={};switch(0===t.find(".tp-blockmask_in").length&&(t.append('<div class="tp-blockmask_in"></div>'),t.append('<div class="tp-blockmask_out"></div>')),i=void 0===i?punchgs.Power3.easeInOut:i,a.ft=[{scaleY:1,scaleX:0,transformOrigin:"0% 50%"},{scaleY:1,scaleX:1,ease:i,immediateRender:!1}],a.t={scaleY:1,scaleX:0,transformOrigin:"100% 50%",ease:i,immediateRender:!1},a.bmask_in=t.find(".tp-blockmask_in"),a.bmask_out=t.find(".tp-blockmask_out"),a.type="block",e){case"blocktoleft":case"blockfromright":a.ft[0].transformOrigin="100% 50%",a.t.transformOrigin="0% 50%";break;case"blockfromtop":case"blocktobottom":a.ft=[{scaleX:1,scaleY:0,transformOrigin:"50% 0%"},{scaleX:1,scaleY:1,ease:i,immediateRender:!1}],a.t={scaleX:1,scaleY:0,transformOrigin:"50% 100%",ease:i,immediateRender:!1};break;case"blocktotop":case"blockfrombottom":a.ft=[{scaleX:1,scaleY:0,transformOrigin:"50% 100%"},{scaleX:1,scaleY:1,ease:i,immediateRender:!1}],a.t={scaleX:1,scaleY:0,transformOrigin:"50% 0%",ease:i,immediateRender:!1}}return a.ft[1].overwrite="auto",a.t.overwrite="auto",a}return t.find(".tp-blockmask").remove(),!1}function m(t){var i=void 0===t.source?RVS.F.safeExtend(!0,{},t.frame.transform):RVS.F.safeExtend(!0,{},t.frame[t.source]),a=RVS.H[t.layerid].w.height(),r=RVS.H[t.layerid].w.width(),s=RVS.H[t.layerid].w.position(),o="slide"===RVS.L[t.layerid].behavior.baseAlign?RVS.S.layer_grid_offset.left:0,n=-1===RVS.L[t.layerid].group.puid?RVS.S.lgh:void 0===RVS.H[RVS.L[t.layerid].group.puid]?RVS.S.lgh:RVS.H[RVS.L[t.layerid].group.puid].w.height(),l=-1===RVS.L[t.layerid].group.puid?RVS.S.lgw:void 0===RVS.H[RVS.L[t.layerid].group.puid]?RVS.S.lgw:RVS.H[RVS.L[t.layerid].group.puid].w.width(),d={originX:"50%",originY:"50%",originZ:"0"};for(var c in i)if(i.hasOwnProperty(c))if(i[c]="object"==typeof i[c]?i[c][RVS.screen].v:i[c],"inherit"===i[c]||"delay"===c||"direction"===c||"use"===c||"fuse"===c)delete i[c];else if("originX"===c||"originY"===c||"originZ"===c)d[c]=i[c],delete i[c];else if(e.isNumeric(i[c],0))i[c]=i[c];else if(i[c].match(/[\{\}]/g)){i[c]=i[c].replace(/[\{&&\}]+/g,"");var S=i[c].match(/%/g)?"%":"",p=parseFloat(i[c].split(",")[0]),u=parseFloat(i[c].split(",")[1]);if(void 0!==t.splitAmount&&t.splitAmount>1){i[c]="["+(Math.random()*(u-p)+p)+S;for(var R=0;R<t.splitAmount;R++)i[c]=i[c]+"|"+(Math.random()*(u-p)+p)+S;i[c]=i[c]+"]"}else i[c]=Math.random()*(u-p)+p+S}else switch(i[c]=i[c].replace(/[\[&&\]]+/g,""),i[c].match(/%/g)&&e.isNumeric(parseInt(i[c],0))&&("x"==c?i[c]=r*parseInt(i[c],0)/100:"y"==c&&(i[c]=a*parseInt(i[c],0)/100)),i[c]){case"top":i[c]=0-a-s.top;break;case"bottom":i[c]=n-s.top;break;case"left":i[c]=o-r-s.left;break;case"right":i[c]=l-s.left;break;case"middle":case"center":"x"===c?i[c]=l/2-s.left-r/2:"y"===c&&(i[c]=n/2-s.top-a/2)}if(i.transformOrigin=d.originX+" "+d.originY+" "+d.originZ,i.clip&&RVS.L[t.layerid].timeline.clipPath.use){var V="rectangle"==RVS.L[t.layerid].timeline.clipPath.type,m=parseInt(i.clip,0),f=100-parseInt(i.clipB,0),y=Math.round(m/2);switch(RVS.L[t.layerid].timeline.clipPath.origin){case"invh":i.clipPath="polygon(0% 0%, 0% 100%, "+m+"% 100%, "+m+"% 0%, 100% 0%, 100% 100%, "+f+"% 100%, "+f+"% 0%, 0% 0%)";break;case"invv":i.clipPath="polygon(100% 0%, 0% 0%, 0% "+m+"%, 100% "+m+"%, 100% 100%, 0% 100%, 0% "+f+"%, 100% "+f+"%, 100% 0%)";break;case"cv":i.clipPath=V?"polygon("+(50-y)+"% 0%, "+(50+y)+"% 0%, "+(50+y)+"% 100%, "+(50-y)+"% 100%)":"circle("+m+"% at 50% 50%)";break;case"ch":i.clipPath=V?"polygon(0% "+(50-y)+"%, 0% "+(50+y)+"%, 100% "+(50+y)+"%, 100% "+(50-y)+"%)":"circle("+m+"% at 50% 50%)";break;case"l":i.clipPath=V?"polygon(0% 0%, "+m+"% 0%, "+m+"% 100%, 0% 100%)":"circle("+m+"% at 0% 50%)";break;case"r":i.clipPath=V?"polygon("+(100-m)+"% 0%, 100% 0%, 100% 100%, "+(100-m)+"% 100%)":"circle("+m+"% at 100% 50%)";break;case"t":i.clipPath=V?"polygon(0% 0%, 100% 0%, 100% "+m+"%, 0% "+m+"%)":"circle("+m+"% at 50% 0%)";break;case"b":i.clipPath=V?"polygon(0% 100%, 100% 100%, 100% "+(100-m)+"%, 0% "+(100-m)+"%)":"circle("+m+"% at 50% 100%)";break;case"lt":i.clipPath=V?"polygon(0% 0%,"+2*m+"% 0%, 0% "+2*m+"%)":"circle("+m+"% at 0% 0%)";break;case"lb":i.clipPath=V?"polygon(0% "+(100-2*m)+"%, 0% 100%,"+2*m+"% 100%)":"circle("+m+"% at 0% 100%)";break;case"rt":i.clipPath=V?"polygon("+(100-2*m)+"% 0%, 100% 0%, 100% "+2*m+"%)":"circle("+m+"% at 100% 0%)";break;case"rb":i.clipPath=V?"polygon("+(100-2*m)+"% 100%, 100% 100%, 100% "+(100-2*m)+"%)":"circle("+m+"% at 100% 100%)";break;case"clr":i.clipPath=V?"polygon(0% 0%, 0% "+m+"%, "+(100-m)+"% 100%, 100% 100%, 100% "+(100-m)+"%, "+m+"% 0%)":"circle("+m+"% at 50% 50%)";break;case"crl":i.clipPath=V?"polygon(0% "+(100-m)+"%, 0% 100%, "+m+"% 100%, 100% "+m+"%, 100% 0%, "+(100-m)+"% 0%)":"circle("+m+"% at 50% 50%)"}i["-webkit-clip-path"]=i.clipPath,delete i.clip}else i.clip&&(i.clipPath=RVS.L[t.layerid].idle.spikeUse?"polygon("+RVS.F.getClipPaths(RVS.L[t.layerid].idle.spikeLeft,0,parseFloat(RVS.L[t.layerid].idle.spikeLeftWidth))+","+RVS.F.getClipPaths(RVS.L[t.layerid].idle.spikeRight,100,100-parseFloat(RVS.L[t.layerid].idle.spikeRightWidth),!0)+")":"none",i["-webkit-clip-path"]=i.clipPath,delete i.clip);return void 0!==t.frame&&void 0!==t.frame.filter&&t.frame.filter.use?(i["-webkit-filter"]="blur("+(parseInt(t.frame.filter.blur,0)||0)+"px) grayscale("+(parseInt(t.frame.filter.grayscale,0)||0)+"%) brightness("+(parseInt(t.frame.filter.brightness,0)||100)+"%)",i.filter="blur("+(parseInt(t.frame.filter.blur,0)||0)+"px) grayscale("+(parseInt(t.frame.filter.grayscale,0)||0)+"%) brightness("+(parseInt(t.frame.filter.brightness,0)||100)+"%)"):e.inArray(t.source,["chars","words","lines"])>=0&&t.frame[t.source].fuse?(i["-webkit-filter"]="blur("+(parseInt(t.frame[t.source].blur,0)||0)+"px) grayscale("+(parseInt(t.frame[t.source].grayscale,0)||0)+"%) brightness("+(parseInt(t.frame[t.source].brightness,0)||100)+"%)",i.filter="blur("+(parseInt(t.frame[t.source].blur,0)||0)+"px) grayscale("+(parseInt(t.frame[t.source].grayscale,0)||0)+"%) brightness("+(parseInt(t.frame[t.source].brightness,0)||100)+"%)"):t.sessionFilterUsed||void 0===t.sessionFilterUsed?(i["-webkit-filter"]="blur(0px) grayscale(0%) brightness(100%)",i.filter="blur(0px) grayscale(0%) brightness(100%)"):(i["-webkit-filter"]="none",i.filter="none"),i.ease=void 0!==i.ease?i.ease:void 0===i.ease&&void 0!==t.ease||void 0!==i.ease&&void 0!==t.ease&&"inherit"===i.ease?t.ease:t.frame.timeline.ease,i.ease=void 0===i.ease||"default"===i.ease?punchgs.Power3.easeInOut:i.ease,i.force3D="auto",i}function f(e){var t=Math.floor(e/6e3),i=Math.floor(Math.ceil(e-6e3*t)/100),a=Math.round(e-100*i-6e3*t);return 0==t?t="00":t<10&&(t="0"+t.toString()),0==i?i="00":i<10&&(i="0"+i.toString()),0==a?a="00":a<10&&(a="0"+a.toString()),{m:t.toString(),s:i.toString(),ms:a.toString()}}RVS.F.initTimeLineModules=function(){RVS.DOC.on("click","#maxtime",function(){e(".slide_submodule_trigger.selected").removeClass("selected"),RVS.F.mainMode({mode:"slidelayout",forms:["*slidelayout**mode__slidestyle*#form_slide_progress"],set:!0,uncollapse:!0,slide:RVS.S.slideId})}),RVS.DOC.on("updateAllLayerFrames",RVS.F.updateAllLayerFrames),RVS.DOC.on("updateSlideLoopRange",function(){RVS.SLIDER[RVS.S.slideId].slide.timeline.loop.set&&RVS.F.updateSlideLoopTimes({cont:!0,pos:!0,start:RVS.SLIDER[RVS.S.slideId].slide.timeline.loop.start/10,end:RVS.SLIDER[RVS.S.slideId].slide.timeline.loop.end/10})}),RVS.DOC.on("updateFixedScrollRange",function(){RVS.SLIDER.settings.scrolltimeline.set&&RVS.SLIDER.settings.scrolltimeline.fixed&&RVS.F.updateFixedScrollTimes({cont:!0,pos:!0,start:parseInt(RVS.SLIDER.settings.scrolltimeline.fixedStart)/10,end:parseInt(RVS.SLIDER.settings.scrolltimeline.fixedEnd)/10})}),RVS.DOC.on("click","#the_slide_timeline",function(){return RVS.F.selectLayers({overwrite:!0}),e(".slide_submodule_trigger.selected").removeClass("selected"),RVS.F.mainMode({mode:"slidelayout",forms:["*slidelayout**mode__slidestyle*#form_slide_transition"],set:!0,uncollapse:!0,slide:RVS.S.slideId}),!1}),RVS.DOC.on("click","#tl_multiplicator",function(){e(".tl_multip_wrap").toggleClass("selected"),e(".tl_multip_wrap").hasClass("selected")&&e(".tl_magnifying_wrap").removeClass("selected")}),RVS.DOC.on("click","#tl_framemagnet",function(){e(".tl_magnifying_wrap").toggleClass("selected"),e(".tl_magnifying_wrap").hasClass("selected")&&e(".tl_multip_wrap").removeClass("selected")}),RVS.DOC.on("magnetframes",function(e,t){void 0!==t&&void 0!==t.val&&(o=t.val)}),RVS.DOC.on("click","#gsf_ok",function(){var t=parseInt(document.getElementById("general_speed_factor").value,0);if(e.isNumeric(t)&&100!==t){for(var i in t/=100,RVS.F.openBackupGroup({id:"frame",txt:"General Timings",icon:"access_time"}),RVS.L)if(void 0!==RVS.L[i].timeline)for(var a in RVS.L[i].timeline.frames){if(!RVS.L[i].timeline.frames.hasOwnProperty(a))continue;let r=RVS.L[i].timeline.frames[a];e.isNumeric(parseInt(r.timeline.start,0))&&RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+i+".timeline.frames."+a+".timeline.start",val:Math.round(parseInt(r.timeline.start,0)*t)}),e.isNumeric(parseInt(r.timeline.speed,0))&&RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+i+".timeline.frames."+a+".timeline.speed",val:Math.round(parseInt(r.timeline.speed,0)*t)}),r.words.use&&e.isNumeric(parseInt(r.words.delay,0))&&RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+i+".timeline.frames."+a+".words.delay",val:Math.round(parseInt(r.words.delay,0)*t)}),r.chars.use&&e.isNumeric(parseInt(r.chars.delay,0))&&RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+i+".timeline.frames."+a+".chars.delay",val:Math.round(parseInt(r.chars.delay,0)*t)}),r.lines.use&&e.isNumeric(parseInt(r.lines.delay,0))&&RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+i+".timeline.frames."+a+".lines.delay",val:Math.round(parseInt(r.lines.delay,0)*t)})}RVS.F.updateSliderObj({path:RVS.S.slideId+".slide.timeline.delay",val:10*Math.round(RVS.F.getSlideLength()*t)}),e.isNumeric(RVS.SLIDER[RVS.S.slideId].slide.timeline.duration[0])&&RVS.F.updateSliderObj({path:RVS.S.slideId+".slide.timeline.duration.0",val:Math.round(RVS.SLIDER[RVS.S.slideId].slide.timeline.duration[0]*t)}),RVS.F.updateAllLayerFrames(),RVS.F.updateSlideFrames(),RVS.F.closeBackupGroup({id:"frame"}),RVS.DOC.trigger("updateMaxTime")}document.getElementById("general_speed_factor").value="100%"}),RVS.DOC.on("updateMaxTime",function(e,t){RVS.F.updateMaxTime({pos:!0,cont:!0});var i=RVS.F.getLayersEndWithSlide(),a=RVS.F.getSlideLength();for(var r in i)i.hasOwnProperty(r)&&i[r].endWithSlide&&(RVS.L[r].timeline.frames.frame_999.timeline.start=10*a,RVS.F.updateLayerFrame({layerid:r,frame:"frame_999",maxtime:a}))}),RVS.DOC.on("windowresized",function(){RVS.TL.hasOwnProperty("cache")&&(RVS.TL.timelineStartedFromPlayStop=!1,RVS.TL.cache.main=0,RVS.F.updateCurTime({pos:!0,cont:!0,force:!0,left:0,refreshMainTimeLine:!0,caller:"GoToIdle"}),RVS.F.updateCurTime({pos:!0,cont:!0,force:!0,left:0,refreshMainTimeLine:!0,caller:"GoToIdle"}))}),RVS.DOC.on("updateSlideTransitionTimeLine",function(){RVS.F.updateSlideFrames()}),RVS.DOC.on("playTimeLine",function(){RVS.F.changeSwitchState({el:document.getElementById("timline_process"),state:"stop"}),RVS.TL.timelineStartedFromPlayStop=!0,RVS.F.buildMainTimeLine();var e=RVS.TL[RVS.S.slideId]&&RVS.TL[RVS.S.slideId].main?RVS.TL[RVS.S.slideId].main.time():0;RVS.F.updateTimeLine({force:!0,state:"time",time:e,timeline:"main",forceFullLayerRender:!0,updateCurTime:!0}),RVS.F.updateTimeLine({state:"play",timeline:"main",force:!1})}),RVS.DOC.on("stopTimeLine",function(){RVS.TL.cache.main=0,RVS.TL.timelineStartedFromPlayStop=!1,RVS.F.updateCurTime({pos:!0,cont:!0,force:!0,left:0,refreshMainTimeLine:!0,caller:"GoToIdle"}),RVS.F.buildMainTimeLine(),RVS.F.updateCurTime({pos:!0,cont:!0,force:!0,left:0,refreshMainTimeLine:!0,caller:"GoToIdle"})}),RVS.DOC.on("previewLayerAnimation",function(){for(var e in RVS.S.shwLayerAnim=!0,RVS.F.changeSwitchState({el:document.getElementById("layer_simulator"),state:"stop"}),RVS.F.changeSwitchState({el:document.getElementById("layer_simulator_loop"),state:"stop"}),RVS.selLayers)RVS.selLayers.hasOwnProperty(e)&&(RVS.F.renderLayerAnimation({layerid:RVS.selLayers[e]}),RVS.F.playLayerAnimation({layerid:RVS.selLayers[e]}))}),RVS.DOC.on("previewStopLayerAnimation",function(){RVS.S.shwLayerAnim=!1,RVS.F.changeSwitchState({el:document.getElementById("layer_simulator"),state:"play"}),RVS.F.changeSwitchState({el:document.getElementById("layer_simulator_loop"),state:"play"}),RVS.F.stopAllLayerAnimation()}),RVS.DOC.on("click","#copy_keyframe",function(){1==RVS.selLayers.length&&void 0!==RVS.S.keyFrame&&(d=RVS.F.safeExtend(!0,{},RVS.L[RVS.selLayers[0]].timeline.frames[RVS.S.keyFrame]),e("#paste_keyframe").show())}),RVS.DOC.on("click","#paste_keyframe",function(){if(1==RVS.selLayers.length&&void 0!==RVS.S.keyFrame){var e=RVS.F.getPrevNextFrame({layerid:RVS.selLayers[0],frame:RVS.S.keyFrame});if(e.next.start>=e.cur.end+d.timeline.frameLength){var t=RVS.L[RVS.selLayers[0]].timeline.frames[RVS.S.keyFrame];d.timeline.actionTriggered=t.timeline.actionTriggered,d.timeline.start=t.timeline.start,d.timeline.startRelative=t.timeline.startRelative,RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+RVS.selLayers[0]+".timeline.frames."+RVS.S.keyFrame,val:d}),RVS.DOC.trigger("updateKeyFramesList"),RVS.F.updateAllLayerFrames(),RVS.F.updateInputFields()}else RVS.F.showInfo({content:RVS_LANG.framesizecannotbeextended,type:"warning",showdelay:0,hidedelay:2,hideon:"",event:""})}}),RVS.TL.c.layertime=e("#layer_simulator_time"),RVS.TL.c.layerprogress=e("#layer_animation_progressarrow")},RVS.F.animateSlide=function(e,t,i,a){return y(e,t,i,a)},RVS.F.buildMainTimeLine=function(e){RVS.TL[RVS.S.slideId].main=new punchgs.TimelineMax({paused:!0}),RVS.F.buildSlideAnimation({animation:RVS.SLIDER[RVS.S.slideId].slide.timeline.transition[RVS.S.slideTrans]}),RVS.TL[RVS.S.slideId].main.add(RVS.TL[RVS.S.slideId].slide,0),RVS.TL[RVS.S.slideId].main.add("end",RVS.F.getSlideLength()/100),RVS.TL[RVS.S.slideId].main.add(new punchgs.TweenLite.set(window,{a:0}),"end"),RVS.SLIDER[RVS.S.slideId].slide.panzoom.set&&void 0!==RVS.TL[RVS.S.slideId].panzoom&&RVS.TL[RVS.S.slideId].main.add(RVS.TL[RVS.S.slideId].panzoom,0),e&&(e.time||e.progress)&&RVS.F.updateTimeLine({timeline:"main",state:"time",time:e.tim}),RVS.TL[RVS.S.slideId].main.eventCallback("onUpdate",function(){RVS.F.updateCurTime({pos:!0,cont:!0,left:100*this._time,refreshMainTimeLine:!1,caller:"buildMainTimeLine"})}),RVS.TL[RVS.S.slideId].main.eventCallback("onComplete",function(){RVS.TL.timelineStartedFromPlayStop&&(RVS.TL.timelineStartedFromPlayStop=!1,RVS.TL.cache.main=0,RVS.F.updateCurTime({pos:!0,cont:!0,force:!0,left:0,refreshMainTimeLine:!0,caller:"GoToIdle"}))})},RVS.F.updateFramesZIndexes=function(e){var t=1e3;for(var i in void 0===RVS.L[e.layerid].timeline.frameOrder&&RVS.F.getFrameOrder({layerid:e.layerid}),RVS.L[e.layerid].timeline.frameOrder)RVS.L[e.layerid].timeline.frameOrder.hasOwnProperty(i)&&"frame_0"!==RVS.L[e.layerid].timeline.frameOrder[i].id&&(punchgs.TweenLite.set("#"+RVS.S.slideId+"_"+e.layerid+"_"+RVS.L[e.layerid].timeline.frameOrder[i].id,{zIndex:t}),t--)},RVS.F.addFrame=function(t){var i="frame_1"===t.frame?'<ffbefore data-frame="frame_0"></ffbefore><ffafter data-frame="frame_1"></ffafter>':"",a={wrap:t.container,bg:t.container.find("framebg").first(),frame:e('<framewrap id="'+RVS.S.slideId+"_"+t.layerid+"_"+t.frame+'" data-layertype="'+t.layertype+'" data-layerid="'+t.layerid+'" data-frame="'+t.frame+'" class="frame_'+t.frame+'"><frame><framedelay>2500</framedelay><startloop><i class="material-icons">chevron_right</i></startloop><endloop><i class="material-icons">chevron_left</i></endloop>'+i+"<marker></marker><frameinfo></frameinfo></frame></framewrap>")};return t.container.append(a.frame),a.info=a.frame.find("frameinfo").first(),a.framedelay=a.frame.find("framedelay").first(),a.sloop=a.frame.find("startloop"),a.eloop=a.frame.find("endloop"),void 0!==t.resize&&a.frame.resizable({handles:t.resize,minWidth:5,start:t.start,stop:t.stopresize,resize:t.onresize}),void 0!==t.ondrag&&(a.frame.draggable({axis:"x",delay:200,start:t.start,stop:t.stopdrag,drag:t.ondrag}),a.bg.draggable({axis:"x",delay:200,start:t.start,stop:t.stopdrag,drag:t.ondrag})),a},RVS.F.buildSlideFrames=function(){RVS.TL.fref=void 0===RVS.TL.fref?RVS.F.addFrame({container:e("#slide_frame_container .frameswrap"),frame:"0",resize:"e",layerid:"",start:function(e,t){RVS.F.selectFirstActiveTransition(),a=(a=RVS.TL[RVS.S.slideId]&&RVS.TL[RVS.S.slideId].main?RVS.TL[RVS.S.slideId].main.time():0)<.0015?"idle":a,r=t.element.find("frameinfo"),s=RVS.F.getSlideLength(),RVS.TL.inDrag=!0},onresize:function(e,t){t.size.width=t.size.width<=s?t.size.width:s,RVS.F.updateSliderObj({path:RVS.S.slideId+".slide.timeline.duration.0",val:10*t.size.width,ignoreBackup:!0}),RVS.F.buildMainTimeLine({time:a}),r[0].innerHTML=10*t.size.width},stopresize:function(e,t){RVS.F.backup({path:RVS.S.slideId+".slide.timeline.duration.0",lastkey:"speed",val:10*t.size.width,old:10*t.originalSize.width}),RVS.F.selectFirstActiveTransition(),RVS.F.buildMainTimeLine({time:a}),RVS.F.timelineDragsStop()}}):RVS.TL.fref,RVS.F.updateSlideFrames()},RVS.F.updateSlideFrames=function(e){(e=void 0===e?{}:e).slidedelay=void 0===e.slidedelay?RVS.F.getSlideLength():e.slidedelay;var t=RVS.F.getSlideAnimParams("duration");t="default"===t||"Default"===t||"Random"===t?"Default":parseInt(t,0)/10,e.animspeed=void 0===e.animspeed?t:e.animspeed,punchgs.TweenLite.set(RVS.TL.fref.wrap,{width:e.slidedelay}),punchgs.TweenLite.set(RVS.TL.fref.frame,{width:e.animspeed}),RVS.TL.fref.info[0].innerHTML=10*e.animspeed},RVS.F.addLayerFrames=function(e,t){RVS.TL[RVS.S.slideId].layers=void 0===RVS.TL[RVS.S.slideId].layers?{}:RVS.TL[RVS.S.slideId].layers,RVS.TL[RVS.S.slideId].layers[e.uid]=void 0===RVS.TL[RVS.S.slideId].layers[e.uid]?{}:RVS.TL[RVS.S.slideId].layers[e.uid];var i=10*RVS.F.getSlideLength();for(var a in void 0===e.timeline.frameOrder&&RVS.F.getFrameOrder({layerid:e.uid}),e.timeline.frameOrder)if(e.timeline.frameOrder.hasOwnProperty(a)){var r=e.timeline.frameOrder[a].id;"frame_0"!==r&&(e.timeline.frames.frame_999.timeline.start=0===e.timeline.frames.frame_999.timeline.start||e.timeline.frames.frame_999.timeline.start>i?i:e.timeline.frames.frame_999.timeline.start,RVS.F.addLayerFrameOnDemand(e,t,r))}RVS.F.updateFramesZIndexes({layerid:e.uid})},RVS.F.addLayerFrameOnDemand=function(e,t,i){RVS.F.addLayerFrame({frame:e.timeline.frames[i],frameindex:i,layerid:e.uid,layertype:e.type,framecontainer:RVS.TL[RVS.S.slideId].layers[e.uid],wrap:t.find(".frameswrap").first()}),RVS.F.updateLayerFrame({layerid:e.uid,frame:i})},RVS.F.getLayerAliasAndFrame=function(e){var t=e.frame.replace("_"," ").replace("f","F");return t=RVS.F.sanitize_input(RVS.L[e.layerid].alias)+" "+t},RVS.F.setChildrenTimelines=function(e){if(void 0!==e.childLayers)for(var t in e.childLayers)if(e.childLayers.hasOwnProperty(t)){var i=e.childLayers[t];for(var a in i.frames)if(i.frames.hasOwnProperty(a)&&"frame_0"!==a){var r=RVS.F.getPrevNextFrame({layerid:t,frame:a}),o=i.frames[a]/10-e.difference;r.prev.end/10>=o?o=r.prev.end/10:r.next.start/10<=o+r.cur.framelength/10&&(o=r.next.start/10-r.cur.framelength/10),o>s&&(o=s),void 0===i.endWithSlide?RVS.SLIDER[RVS.S.slideId].layers[t].timeline.frames[a].timeline.start=10*o:i.endWithSlide?RVS.SLIDER[RVS.S.slideId].layers[t].timeline.frames[a].timeline.start=10*o:i.frames[a]>10*s&&"frame_999"===a&&!i.endWithSlide&&(RVS.SLIDER[RVS.S.slideId].layers[t].timeline.frames[a].timeline.start=Math.max(r.prev.end,10*s)),RVS.F.updateLayerFrame({layerid:t,frame:a,maxtime:s})}}},RVS.F.moveChildrenTimelines=function(e){if(void 0!==e.childLayers)for(var t in e.childLayers)if(e.childLayers.hasOwnProperty(t)&&(1!=o||t===n.layerid)){var i=e.childLayers[t],a=i.forder.length-1;for(var r in i.forder)if(i.forder.hasOwnProperty(r)){var l=-1===e.order?i.forder[a-r]:i.forder[r];if("frame_0"!==l){var d=RVS.F.getPrevNextFrame({layerid:t,frame:l}),c=i.frames[l]/10-e.difference;d.prev.frameid===n.frame&&e.thend&&d.prev&&(c=c<e.thend?e.thend:c),0>c&&(c=0),d.next.start/10<c+d.cur.framelength/10&&(c=d.next.start/10-d.cur.framelength/10),c>s&&(c=s),(void 0===i.endWithSlide||i.endWithSlide)&&(RVS.SLIDER[RVS.S.slideId].layers[t].timeline.frames[l].timeline.start=10*c),i.frames[l]>10*s&&"frame_999"===l&&!i.endWithSlide&&(RVS.SLIDER[RVS.S.slideId].layers[t].timeline.frames[l].timeline.start=Math.max(d.prev.end,10*s)),RVS.F.updateLayerFrame({layerid:t,frame:l,maxtime:s})}}}},RVS.F.backupChildren=function(e){if(void 0!==e.childLayers)for(var t in e.childLayers)if(e.childLayers.hasOwnProperty(t)){var i=e.childLayers[t];for(var a in i.frames)i.frames.hasOwnProperty(a)&&RVS.F.backup({path:RVS.S.slideId+".layers."+t+".timeline.frames."+a+".timeline.start",lastkey:"start",val:RVS.SLIDER[RVS.S.slideId].layers[t].timeline.frames[a].timeline.start,old:i.frames[a]})}},RVS.F.getFirstFrame=function(e){return void 0===RVS.L[e.layerid].timeline.frameOrder&&RVS.F.getFrameOrder({layerid:e.layerid}),"frame_0"===RVS.L[e.layerid].timeline.frameOrder[0].id?RVS.L[e.layerid].timeline.frameOrder[1].id:RVS.L[e.layerid].timeline.frameOrder[0].id},RVS.F.addLayerFrame=function(t){t.framecontainer[t.frameindex]=RVS.F.addFrame({container:t.wrap,frame:t.frameindex,layerid:t.layerid,layertype:t.layertype,resize:"w,e",start:function(t,i){if(RVS.TL.inDrag=!0,RVS.TL.tS.addClass("frame_in_drag"),RVS.TL.timeBeforeFrameChange=RVS.TL[RVS.S.slideId].main.time(),"true"!==(n=void 0===i.element?{licontainer:document.getElementById("tllayerlist_element_"+RVS.S.slideId+"_"+i.helper[0].dataset.layerid),layerid:i.helper[0].dataset.layerid,frame:i.helper[0].dataset.frame,type:i.helper[0].dataset.layertype,bg:i.helper[0].dataset.bg}:{layerid:i.element[0].dataset.layerid,frame:i.element[0].dataset.frame,type:i.element[0].dataset.layertype,bg:i.element[0].dataset.bg}).bg?(n.frameName=RVS.F.getLayerAliasAndFrame(n),l=RVS.F.getPrevNextFrame(n),n.path=RVS.F.getLayerObjPath(n)):(n.layerwidth=i.helper.width(),n.frame="All Frames",l=RVS.F.getPrevNextFrame({layerid:n.layerid,frame:RVS.F.getFirstFrame({layerid:n.layerid})}),n.frameName=RVS.F.getLayerAliasAndFrame(n)),s=RVS.F.getSlideLength(),(n.bg&&"dragstart"==t.type&&e.inArray(n.type,["column","row","group"])>=0||"dragstart"==t.type&&n.frame==RVS.F.getFirstFrame({layerid:n.layerid})&&e.inArray(n.type,["column","row","group"])>=0)&&(n.childLayers=RVS.F.getLayerChildren({layerid:n.layerid})),n.bg?n.childLayers=RVS.F.getLayerFrames({layerid:n.layerid,extend:n.childLayers}):n.childLayers=RVS.F.getLayerFrames({layerid:n.layerid,extend:n.childLayers,afterStart:l.cur.start,include999:!0}),1==o||2==o)for(var a in n.childLayers)if(n.childLayers.hasOwnProperty(a))for(var r in n.childLayers[a].forder=[],n.childLayers[a].frames)n.childLayers[a].frames.hasOwnProperty(r)&&n.childLayers[a].forder.push(r);if(RVS.F.updateFrameTime({pos:!0,cont:!0,left:l.cur.start-.31}),"frame_1"===n.frame)for(var a in e(n.licontainer).addClass("frame_1_indrag"),n.childLayers)n.childLayers.hasOwnProperty(a)&&(n.childLayers[a].hiddenc=document.getElementById("frame_unvisible_start_"+RVS.S.slideId+"_"+a))},ondrag:function(t,i){for(var a in i.position.left>window.lastCachedUiPosition&&(1==o||2==o)&&RVS.F.moveChildrenTimelines({thend:i.position.left+n.framelength/10,order:-1,childLayers:n.childLayers,difference:i.originalPosition.left-i.position.left}),l=RVS.F.getPrevNextFrame(n),"true"!==n.bg?("frame_1"!==n.frame&&l.prev.end/10>=i.position.left&&(i.position.left=l.prev.end/10),"frame_1"==n.frame&&0>=i.position.left&&(i.position.left=0),l.next.layerid==n.layerid&&l.next.start/10<=i.position.left+l.cur.framelength/10&&(i.position.left=l.next.start/10-l.cur.framelength/10),i.position.left>s&&(i.position.left=s)):i.position.left=i.position.left<l.prev.end/10?l.prev.end/10:parseInt(i.position.left,0)+parseInt(n.layerwidth,0)>=s?s-n.layerwidth:i.position.left,1!=o&&2!=o||RVS.F.moveChildrenTimelines({thend:i.position.left+n.framelength/10,childLayers:n.childLayers,difference:i.originalPosition.left-i.position.left}),window.lastCachedUiPosition=i.position.left,"true"!==n.bg?(RVS.F.updateSliderObj({path:n.path+"start",val:Math.round(10*i.position.left),ignoreBackup:!0}),RVS.F.updateSliderObj({path:n.path+"startRelative",val:Math.round(10*i.position.left)-l.prev.end,ignoreBackup:!0}),n.framelength=l.cur.framelength,RVS.F.updateLayerFrame(n)):RVS.F.updateLayerFrame({layerid:n.layerid,frame:"frame_999"}),e.inArray(parseInt(n.layerid,0),RVS.selLayers)>=0&&(document.getElementById("layerframestart").value=Math.round(10*i.position.left)),RVS.F.updateFrameTime({pos:!0,cont:!0,left:i.position.left-.31}),n.childLayers)n.childLayers.hasOwnProperty(a)&&a!==n.layerid&&punchgs.TweenLite.set(n.childLayers[a].hiddenc,{width:i.position.left+20});l=RVS.F.getPrevNextFrame(n)},onresize:function(t,i){"frame_1"!==n.frame&&l.prev.end/10>i.position.left?(i.position.left=l.prev.end/10,i.size.width=(l.cur.end-l.prev.end)/10):"frame_1"==n.frame&&0>i.position.left?(i.position.left=0,i.size.width=l.cur.end/10):l.next.start/10<=i.position.left+i.size.width&&(i.size.width=(l.next.start-l.cur.start)/10),i.position.left>s&&(i.position.left=s),RVS.F.updateSliderObj({path:n.path+"start",val:Math.round(10*i.position.left),ignoreBackup:!0}),RVS.F.updateSliderObj({path:n.path+"startRelative",val:Math.round(10*i.position.left)-l.prev.end,ignoreBackup:!0}),RVS.F.updateSliderObj({path:n.path+"speed",val:Math.round(10*i.size.width-l.cur.splitDelay),ignoreBackup:!0}),RVS.F.updateLayerFrame(n),e.inArray(parseInt(n.layerid,0),RVS.selLayers)>=0&&(document.getElementById("layerframespeed").value=Math.round(10*i.size.width-l.cur.splitDelay),document.getElementById("layerframestart").value=Math.round(10*i.position.left),document.getElementById("layerframespeed_sub").innerHTML="("+Math.round(10*i.size.width)+")")},stopdrag:function(t,i){for(var a in e(n.licontainer).removeClass("frame_1_indrag"),RVS.F.timelineDragsStop(),RVS.F.openBackupGroup({id:"frame",txt:n.frameName+" Start",icon:"access_time"}),RVS.F.updateAllstartRelatives(),RVS.F.backup({path:n.path+"start",lastkey:"start",val:Math.round(10*i.position.left),old:Math.round(10*i.originalPosition.left)}),RVS.F.backupChildren({childLayers:n.childLayers}),RVS.F.closeBackupGroup({id:"frame"}),RVS.F.renderLayerAnimation({layerid:n.layerid,timeline:"full",time:RVS.TL.timeBeforeFrameChange}),n.childLayers)n.childLayers.hasOwnProperty(a)&&RVS.F.renderLayerAnimation({layerid:a,timeline:"full",time:RVS.TL.timeBeforeFrameChange});RVS.TL.tS.removeClass("frame_in_drag")},stopresize:function(e,t){for(var i in RVS.F.timelineDragsStop(),RVS.F.openBackupGroup({id:"frame",txt:n.frameName+" Speed",icon:"slow_motion_video"}),RVS.F.updateAllstartRelatives(),RVS.F.backup({path:n.path+"start",lastkey:"start",val:Math.round(10*t.position.left),old:Math.round(10*t.originalPosition.left)}),RVS.F.backup({path:n.path+"speed",lastkey:"speed",val:Math.round(10*t.size.width-l.cur.splitDelay),old:Math.round(10*t.originalSize.width-l.cur.splitDelay)}),RVS.F.closeBackupGroup({id:"frame"}),t.element.css({maxWidth:"none"}),RVS.F.renderLayerAnimation({layerid:n.layerid,timeline:"full",time:RVS.TL.timeBeforeFrameChange}),n.childLayers)n.childLayers.hasOwnProperty(i)&&RVS.F.renderLayerAnimation({layerid:i,timeline:"full",time:RVS.TL.timeBeforeFrameChange});RVS.TL.tS.removeClass("frame_in_drag")}})},RVS.F.updateAllstartRelatives=function(){for(var e in RVS.L)if(RVS.L.hasOwnProperty(e)&&e>=0&&e<=9999)for(var t in RVS.L[e].timeline.frameOrder)if(RVS.L[e].timeline.frameOrder.hasOwnProperty(t)){var i=RVS.L[e].timeline.frameOrder[t].id;if("frame_0"!==i){var a=RVS.F.getPrevNextFrame({layerid:RVS.L[e].uid,frame:i});RVS.F.updateSliderObj({path:RVS.F.getLayerObjPath({layerid:RVS.L[e].uid,frame:i})+"startRelative",val:a.cur.start-a.prev.end})}}},RVS.F.getLayerObjPath=function(e){return RVS.S.slideId+".layers."+e.layerid+".timeline.frames."+e.frame+".timeline."},RVS.F.getPrevNextFrame=function(t){var i=RVS.L[t.layerid].timeline.frames[t.frame].timeline,a=RVS.F.getSplitDelay({layerid:t.layerid,frame:t.frame}),r=RVS.F.addT([i.start,i.speed,a]),s=RVS.F.getFirstFrame({layerid:t.layerid}),o={cur:{start:i.start,end:r,splitDelay:a,framelength:r-i.start},prev:{start:-1,end:0,frame:{}},next:{start:9999999,end:9999999,frame:{}}};for(var n in RVS.L[t.layerid].timeline.frames)if(RVS.L[t.layerid].timeline.frames.hasOwnProperty(n)&&"frame_0"!==n&&n!==t.frame){var l=RVS.L[t.layerid].timeline.frames[n].timeline;l.start<i.start&&l.start>o.prev.start&&(o.prev={start:l.start,end:RVS.F.addT([l.start,l.speed,RVS.F.getSplitDelay({layerid:t.layerid,frame:n})]),frame:l,layerid:t.layerid,frameid:n}),l.start>i.start&&l.start<o.next.start&&(o.next={start:l.start,end:RVS.F.addT([l.start,l.speed,RVS.F.getSplitDelay({layerid:t.layerid,frame:n})]),frame:l,layerid:t.layerid,frameid:n})}if(t.frame==s&&-1!==RVS.L[t.layerid].group.puid&&-1==e.inArray(RVS.L[t.layerid].group.puid,["top","bottom","middle"])){var d=RVS.F.getFirstFrame({layerid:RVS.L[t.layerid].group.puid}),c=RVS.L[RVS.L[t.layerid].group.puid].timeline.frames[d].timeline;o.prev.end=c.start;var S=RVS.F.addT([c.start,c.speed,a]);o.prev.framelength=S-c.start,o.prev.realEnd=S}return o},RVS.F.setStartRelative=function(e){void 0!==RVS.TL[RVS.S.slideId].layers&&RVS.TL[RVS.S.slideId].layers[e.layerid]},RVS.F.updateFrameRealSpeed=function(){document.getElementById("layerframespeed_sub").innerHTML="("+RVS.L[RVS.selLayers[0]].timeline.frames[RVS.S.keyFrame].timeline.frameLength+")"},RVS.F.getSplitDelay=function(e){if(void 0!==RVS.H[e.layerid]&&void 0!==RVS.H[e.layerid].splitText){var t=RVS.L[e.layerid].timeline.frames[e.frame],i=t.chars.use?"chars":t.words.use?"words":t.lines.use?"lines":void 0;return void 0!==i?RVS.H[e.layerid].splitText[i].length*(void 0===t[i].delay?0:10*t[i].delay):0}return 0},RVS.F.updateAllLayerFrames=function(t){for(var i in t=void 0===t?{}:t,RVS.L)if(RVS.L.hasOwnProperty(i)&&"top"!==i&&"bottom"!==i&&"middle"!==i)for(var a in e("#tllayerlist_element_"+RVS.S.slideId+"_"+RVS.L[i].uid+" .layerlist_element_alias").first().text(RVS.L[i].alias),RVS.L[i].timeline.frameOrder)if(RVS.L[i].timeline.frameOrder.hasOwnProperty(a)){var r=RVS.L[i].timeline.frameOrder[a].id;"frame_0"!==r&&(void 0!==t.frame&&r!==t.frame||RVS.F.updateLayerFrame({layerid:i,frame:r}))}},RVS.F.updateLayerFrames=function(e){for(var t in RVS.L[e.layerid].timeline.frames)RVS.L[e.layerid].timeline.frames.hasOwnProperty(t)&&(void 0!==e.frame&&t!==e.frame||"frame_0"===t||RVS.F.updateLayerFrame({layerid:e.layerid,frame:t}))},RVS.F.updateLayerFrame=function(t){if(void 0!==RVS.TL[RVS.S.slideId].layers&&void 0!==RVS.TL[RVS.S.slideId].layers[t.layerid]){var i=RVS.TL[RVS.S.slideId].layers[t.layerid][t.frame],a=RVS.F.getFirstFrame({layerid:t.layerid}),r=RVS.L[t.layerid].timeline.frames[t.frame].timeline,s=RVS.L[t.layerid].timeline.frames.frame_999.timeline,o=null==t.framelength?RVS.F.addT([r.speed,RVS.F.getSplitDelay({layerid:t.layerid,frame:t.frame})]):t.framelength;punchgs.TweenLite.set(i.frame,{left:r.start/10+"px",width:o/10}),i.info[0].innerHTML=o,r.frameLength=o,"frame_999"===t.frame&&(i.endframemarker=void 0===i.endframemarker||0==i.endframemarker.length?e("#slideendmarker_"+RVS.S.slideId+"_"+t.layerid):i.endframemarker,t.maxtime=void 0===t.maxtime?RVS.F.getSlideLength():t.maxtime,r.start/10>=t.maxtime?(i.endframemarker.addClass("endswithslide"),s.endWithSlide=!0):(i.endframemarker.removeClass("endswithslide"),s.endWithSlide=!1)),r.actionTriggered=""!==RVS.F.layerFrameTriggeredBy({layerid:t.layerid,frame:t.frame}).uid&&RVS.F.layerFrameTriggered({layerid:t.layerid,frame:t.frame}),i.framedelay[0].innerHTML=r.actionTriggered?"a":!0===r.endWithSlide?RVS_LANG.framewait:r.start,null!=RVS.L[t.layerid].timeline&&(i.sloop[0].style.display=RVS.L[t.layerid].timeline.tloop.use&&RVS.L[t.layerid].timeline.tloop.from===t.frame?"block":"none",i.eloop[0].style.display=RVS.L[t.layerid].timeline.tloop.use&&RVS.L[t.layerid].timeline.tloop.to===t.frame?"block":"none"),i.framedelay[0].className=!0===r.endWithSlide?"coloredbg":r.actionTriggered&&t.frame===a?"coloredbgover":r.actionTriggered?"coloredbg":""}},RVS.F.updateAllLayerToIDLE=function(){for(var e in RVS.L)RVS.L.hasOwnProperty(e)&&void 0!==RVS.H[e]&&void 0!==RVS.H[e].timeline&&RVS.H[e].timeline.pause("frame_IDLE")},RVS.F.updateTimeLine=function(i){if(i.force&&void 0!==RVS.TL[RVS.S.slideId]&&void 0===RVS.TL[RVS.S.slideId].main&&RVS.F.buildMainTimeLine(),void 0===RVS.TL[RVS.S.slideId]||void 0===RVS.TL[RVS.S.slideId][i.timeline])return!1;switch("panzoom"===i.timeline&&(RVS.TL[RVS.S.slideId].slide.progress(1),RVS.TL[RVS.S.slideId].main&&RVS.TL[RVS.S.slideId].main.progress(0)),(i.forceFullLayerRender||!0===t&&"main"===i.timeline)&&RVS.F.buildFullLayerAnimation("atstart"),i.state){case"play":if("main"===i.timeline&&(t=!1),"main"===i.timeline&&RVS.TL[RVS.S.slideId].slide&&RVS.TL[RVS.S.slideId].slide.play(),"main"===i.timeline&&RVS.TL[RVS.S.slideId].main&&RVS.TL[RVS.S.slideId].main.play(),RVS.TL[RVS.S.slideId].panzoom&&RVS.TL[RVS.S.slideId].panzoom.play(),"main"===i.timeline)for(var a in RVS.L)RVS.L.hasOwnProperty(a)&&void 0!==RVS.H[a]&&void 0!==RVS.H[a].timeline&&RVS.H[a].timeline.play();break;case"stop":case"pause":for(var a in"main"===i.timeline&&RVS.TL[RVS.S.slideId].slide&&RVS.TL[RVS.S.slideId].slide.pause(),"main"===i.timeline&&RVS.TL[RVS.S.slideId].main&&RVS.TL[RVS.S.slideId].main.pause(),RVS.L)RVS.L.hasOwnProperty(a)&&void 0!==RVS.H[a]&&void 0!==RVS.H[a].timeline&&RVS.H[a].timeline.pause();RVS.TL[RVS.S.slideId].panzoom&&RVS.TL[RVS.S.slideId].panzoom.pause();break;case"rewind":if("main"===i.timeline&&RVS.TL[RVS.S.slideId].slide&&RVS.TL[RVS.S.slideId].slide.time(0),"main"===i.timeline&&RVS.TL[RVS.S.slideId].main&&RVS.TL[RVS.S.slideId].main.time(0),"main"===i.timeline)for(var a in RVS.L)RVS.L.hasOwnProperty(a)&&void 0!==RVS.H[a]&&void 0!==RVS.H[a].timeline&&RVS.H[a].timeline.time(0);RVS.TL[RVS.S.slideId].panzoom&&RVS.TL[RVS.S.slideId].panzoom.time(0);break;case"time":if("main"===i.timeline&&(t=0===i.time),"main"===i.timeline&&RVS.TL[RVS.S.slideId].slide&&RVS.TL[RVS.S.slideId].slide.time(i.time),"main"===i.timeline&&RVS.TL[RVS.S.slideId].main&&RVS.TL[RVS.S.slideId].main.time(i.time),RVS.TL[RVS.S.slideId].panzoom&&(void 0===i.time?RVS.TL[RVS.S.slideId].panzoom.progress(0):RVS.TL[RVS.S.slideId].panzoom.time(i.time)),i.time=0===i.time?"frame_IDLE":i.time,"main"===i.timeline)for(var a in RVS.L)RVS.L.hasOwnProperty(a)&&void 0!==RVS.H[a]&&void 0!==RVS.H[a].timeline&&RVS.H[a].timeline.time(i.time);break;case"progress":if("main"===i.timeline&&(t=0===i.prgs),"main"===i.timeline&&RVS.TL[RVS.S.slideId].slide&&RVS.TL[RVS.S.slideId].slide.progress(i.prgs),"main"===i.timeline&&RVS.TL[RVS.S.slideId].main&&RVS.TL[RVS.S.slideId].main.progress(i.prgs),"main"===i.timeline)for(var a in RVS.L)RVS.L.hasOwnProperty(a)&&void 0!==RVS.H[a]&&void 0!==RVS.H[a].timeline&&RVS.H[a].timeline.progress(i.prgs);RVS.TL[RVS.S.slideId].panzoom&&RVS.TL[RVS.S.slideId].panzoom.progress(i.prgs);break;case"getprogress":return RVS.TL[RVS.S.slideId][i.timeline].progress();case"getstate":return RVS.TL[RVS.S.slideId][i.timeline].isActive();case"idle":for(var a in RVS.TL.cache={},RVS.TL[RVS.S.slideId].main&&(RVS.TL.cache.main=RVS.TL[RVS.S.slideId].main.time()),RVS.TL[RVS.S.slideId].panzoom&&RVS.TL[RVS.S.slideId].panzoom.progress(0),RVS.TL[RVS.S.slideId].slide&&RVS.TL[RVS.S.slideId].slide.progress(1),RVS.TL[RVS.S.slideId].main&&RVS.TL[RVS.S.slideId].main.progress(0).pause(),RVS.F.changeSwitchState({el:document.getElementById("timline_process"),state:"play"}),RVS.TL.timelineStartedFromPlayStop=!1,RVS.L)RVS.L.hasOwnProperty(a)&&void 0!==RVS.H[a]&&void 0!==RVS.H[a].timeline&&RVS.H[a].timeline.pause("frame_IDLE");t=!0}0!==i.time&&void 0!==i.time||punchgs.TweenLite.set(e("rs-sbg-wrap.slotwrapper_cur"),{opacity:1}),RVS.TL[RVS.S.slideId].main&&(RVS.TL.cache.main=RVS.TL[RVS.S.slideId].main.time()),RVS.TL.requestedTime=void 0===i.time?RVS.TL[RVS.S.slideId].main.time():i.time,i.updateCurTime&&RVS.F.updateCurTime({pos:!0,cont:!0,force:!0,left:100*RVS.TL.cache.main,refreshMainTimeLine:!1})},RVS.F.getTimeAtSelectedFrameEnd=function(){var e=0;try{e=RVS.L[RVS.selLayers[0]].timeline.frames[RVS.S.keyFrame].timeline.start/10+RVS.L[RVS.selLayers[0]].timeline.frames[RVS.S.keyFrame].timeline.frameLength/10}catch(e){}return e},RVS.F.getTimeAtSelectedFrameMiddle=function(){var e=0;try{e=RVS.L[RVS.selLayers[0]].timeline.frames[RVS.S.keyFrame].timeline.start/10+RVS.L[RVS.selLayers[0]].timeline.frames[RVS.S.keyFrame].timeline.frameLength/10/2}catch(e){}return e},RVS.F.getTimeAtSelectedFrameStart=function(e){var t=0;try{t=RVS.L[RVS.selLayers[0]].timeline.frames[e].timeline.start/10}catch(e){}return t},RVS.F.timelineDragsStop=function(){RVS.TL.inDrag=!1,RVS.TL.over||RVS.F.goToIdle()},RVS.F.updateLoopInputs=function(t){t=null==t?{s:RVS.SLIDER[RVS.S.slideId].slide.timeline.loop.start,e:RVS.SLIDER[RVS.S.slideId].slide.timeline.loop.end}:t,e("#slide_loop_end").val(t.e),e("#slide_loop_start").val(t.s)},RVS.F.updateFixedScrollInputs=function(t){t=null==t?{s:RVS.SLIDER.settings.scrolltimeline.fixedStart,e:RVS.SLIDER.settings.scrolltimeline.fixedEnd}:t,e("#fixed_scroll_end").val(t.e),e("#fixed_scroll_start").val(t.s)},RVS.F.initTimeLineConstruct=function(){i=e("#time_linear"),function(){for(var e=0,t=0;t<2e3;t++)e%20==0?i.append('<div class="rm_twosec" style="left:'+10*t+'px"><span class="rulertxt">'+t/10+"s</span></div>"):e%10==0?i.append('<div class="rm_sec" style="left:'+10*t+'px"><span class="rulertxt">'+t/10+"s</span></div>"):i.append('<div class="rm_ms" style="left:'+10*t+'px"></div>'),e=20==++e?0:e}(),RVS.TL.tS=e("#timeline_settings"),RVS.TL.ft=e("#frametime"),RVS.TL.ft_txt=RVS.TL.ft.find(".timebox"),RVS.TL.mt=e("#maxtime"),RVS.TL.slts=e("#slidelooptimestart"),RVS.TL.slts_marker=RVS.TL.slts.find(".timebox_marker"),RVS.TL.slts_txt=RVS.TL.slts.find(".timebox"),RVS.TL.slte=e("#slidelooptimeend"),RVS.TL.slte_marker=RVS.TL.slte.find(".timebox_marker"),RVS.TL.slte_txt=RVS.TL.slte.find(".timebox"),RVS.TL.fixs=e("#fixedscrolltimestart"),RVS.TL.fixs_marker=RVS.TL.fixs.find(".timebox_marker"),RVS.TL.fixs_txt=RVS.TL.fixs.find(".timebox"),RVS.TL.fixe=e("#fixedscrolltimeend"),RVS.TL.fixe_marker=RVS.TL.fixe.find(".timebox_marker"),RVS.TL.fixe_txt=RVS.TL.fixe.find(".timebox"),RVS.TL.mtfbg=e("#slide_frame_container .frameswrap"),RVS.TL.mt_txt=RVS.TL.mt.find(".timebox"),RVS.TL.ct=e("#currenttime"),RVS.TL.ct_marker=RVS.TL.ct.find(".timebox_marker"),RVS.TL.ct_txt=RVS.TL.ct.find(".timebox"),RVS.TL.ht=e("#hovertime"),RVS.TL.ht_txt=RVS.TL.ht.find(".timebox"),RVS.F.updateMaxTime({pos:!0,cont:!0}),RVS.TL.TL=e("#timeline"),i.click(function(e){var t=e.pageX-310+RVS.TL._scrollLeft;RVS.F.updateCurTime({pos:!0,cont:!0,left:t,refreshMainTimeLine:!0,caller:"initTimeLineConstruct"})}),RVS.TL.fixs.draggable({start:function(e,t){RVS.TL.inDrag=!0},drag:function(e,t){var i=RVS.TL.fixe.position().left;t.position.left=t.position.left>=i?i:t.position.left,t.position.left=t.position.left<1?1:t.position.left,punchgs.TweenLite.set(".fixedscrolltimemarker",{left:t.position.left,width:i-t.position.left}),RVS.TL.fixs.offset().left-RVS.TL.TL.offset().left<290?RVS.TL.fixs.addClass("covered"):RVS.TL.fixs.removeClass("covered"),RVS.F.updateFixedScrollTimes({cont:!0,start:Math.max(0,t.position.left),end:i}),RVS.F.updateFixedScrollInputs({e:10*i,s:10*Math.max(0,t.position.left)})},stop:function(e,t){var i=RVS.TL.fixe.position().left;t.position.left=t.position.left>=i?i:t.position.left,punchgs.TweenLite.set(".fixedscrolltimemarker",{left:t.position.left,width:i-t.position.left}),RVS.TL.fixs.offset().left-RVS.TL.TL.offset().left<290?RVS.TL.fixs.addClass("covered"):RVS.TL.fixs.removeClass("covered"),RVS.F.updateFixedScrollTimes({cont:!0,start:t.position.left,end:i}),RVS.F.openBackupGroup({id:"SliderFixedScrollStartTime",txt:"Fixed Scroll Start Time ",icon:"timer_off"}),RVS.F.updateSliderObj({path:"settings.scrolltimeline.fixedStart",val:Math.round(10*t.position.left)}),RVS.F.closeBackupGroup({id:"SliderFixedScrollStartTime"}),RVS.F.updateFixedScrollInputs()},axis:"x"}),RVS.TL.fixe.draggable({start:function(e,t){RVS.TL.inDrag=!0},drag:function(e,t){var i=RVS.TL.fixs.position().left;t.position.left=t.position.left<=i?i:t.position.left,punchgs.TweenLite.set(".fixedscrolltimemarker",{width:t.position.left-i}),RVS.TL.fixe.offset().left-RVS.TL.TL.offset().left<290?RVS.TL.fixe.addClass("covered"):RVS.TL.fixe.removeClass("covered"),RVS.F.updateFixedScrollTimes({cont:!0,end:t.position.left,start:i}),RVS.F.updateFixedScrollInputs({s:10*i,e:10*t.position.left})},stop:function(e,t){var i=RVS.TL.fixs.position().left;t.position.left=t.position.left<=i?i:t.position.left,punchgs.TweenLite.set(".fixedscrolltimemarker",{width:t.position.left-i}),RVS.TL.fixe.offset().left-RVS.TL.TL.offset().left<290?RVS.TL.fixe.addClass("covered"):RVS.TL.fixe.removeClass("covered"),RVS.F.updateFixedScrollTimes({cont:!0,end:t.position.left,start:i}),RVS.F.openBackupGroup({id:"SliderFixedScrollEndTime",txt:"Fixed Scroll End Time ",icon:"timer_off"}),RVS.F.updateSliderObj({path:"settings.scrolltimeline.fixedEnd",val:Math.round(10*t.position.left)}),RVS.F.closeBackupGroup({id:"SliderFixedScrollEndTime"}),RVS.F.updateFixedScrollInputs()},axis:"x"}),RVS.TL.slts.draggable({start:function(e,t){RVS.TL.inDrag=!0},drag:function(e,t){var i=RVS.TL.slte.position().left;t.position.left=t.position.left>=i?i:t.position.left,punchgs.TweenLite.set(".slidelooptimemarker",{left:t.position.left,width:i-t.position.left}),RVS.TL.slts.offset().left-RVS.TL.TL.offset().left<290?RVS.TL.slts.addClass("covered"):RVS.TL.slts.removeClass("covered"),RVS.F.updateSlideLoopTimes({cont:!0,start:t.position.left,end:i}),RVS.F.updateLoopInputs({e:10*i,s:10*t.position.left})},stop:function(e,t){var i=RVS.TL.slte.position().left;t.position.left=t.position.left>=i?i:t.position.left,punchgs.TweenLite.set(".slidelooptimemarker",{left:t.position.left,width:i-t.position.left}),RVS.TL.slts.offset().left-RVS.TL.TL.offset().left<290?RVS.TL.slts.addClass("covered"):RVS.TL.slts.removeClass("covered"),RVS.F.updateSlideLoopTimes({cont:!0,start:t.position.left,end:i}),RVS.F.openBackupGroup({id:"SlideLoopStartTime",txt:"Slide Loop Start Time ",icon:"timer_off"}),RVS.F.updateSliderObj({path:RVS.S.slideId+".slide.timeline.loop.start",val:Math.round(10*t.position.left)}),RVS.F.closeBackupGroup({id:"SlideLoopStartTime"}),RVS.F.updateLoopInputs()},axis:"x"}),RVS.TL.slte.draggable({start:function(e,t){RVS.TL.inDrag=!0},drag:function(e,t){var i=RVS.TL.slts.position().left;t.position.left=t.position.left<=i?i:t.position.left,punchgs.TweenLite.set(".slidelooptimemarker",{width:t.position.left-i}),RVS.TL.slte.offset().left-RVS.TL.TL.offset().left<290?RVS.TL.slte.addClass("covered"):RVS.TL.slte.removeClass("covered"),RVS.F.updateSlideLoopTimes({cont:!0,end:t.position.left,start:i}),RVS.F.updateLoopInputs({s:10*i,e:10*t.position.left})},stop:function(e,t){var i=RVS.TL.slts.position().left;t.position.left=t.position.left<=i?i:t.position.left,punchgs.TweenLite.set(".slidelooptimemarker",{width:t.position.left-i}),RVS.TL.slte.offset().left-RVS.TL.TL.offset().left<290?RVS.TL.slte.addClass("covered"):RVS.TL.slte.removeClass("covered"),RVS.F.updateSlideLoopTimes({cont:!0,end:t.position.left,start:i}),RVS.F.openBackupGroup({id:"SlideLoopEndTime",txt:"Slide Loop End Time ",icon:"timer_off"}),RVS.F.updateSliderObj({path:RVS.S.slideId+".slide.timeline.loop.end",val:Math.round(10*t.position.left)}),RVS.F.closeBackupGroup({id:"SlideLoopEndTime"}),RVS.F.updateLoopInputs()},axis:"x"}),RVS.TL.ct.draggable({start:function(e,t){RVS.TL[RVS.S.slideId]&&RVS.TL[RVS.S.slideId].main&&RVS.TL[RVS.S.slideId]&&RVS.TL[RVS.S.slideId].main&&RVS.TL[RVS.S.slideId].main.isActive()||(RVS.F.buildMainTimeLine(),RVS.TL.ht.addClass("hideme"),RVS.TL.inDrag=!0)},stop:function(e,t){RVS.TL[RVS.S.slideId]&&RVS.TL[RVS.S.slideId].main&&RVS.TL[RVS.S.slideId].main.isActive()||(RVS.TL.ct.offset().left-RVS.TL.TL.offset().left<265?RVS.TL.ct.addClass("covered"):RVS.TL.ct.removeClass("covered"),RVS.TL.ht.removeClass("hideme"),RVS.F.timelineDragsStop())},drag:function(e,t){RVS.TL[RVS.S.slideId]&&RVS.TL[RVS.S.slideId].main&&RVS.TL[RVS.S.slideId].main.isActive()||(RVS.F.updateCurTime({pos:!1,cont:!0,left:t.position.left,refreshMainTimeLine:!0,caller:"Timeline DraG"}),RVS.TL.ct.offset().left-RVS.TL.TL.offset().left<265?RVS.TL.ct.addClass("covered"):RVS.TL.ct.removeClass("covered"))},containment:".timeline_right_container",axis:"x"}),RVS.DOC.on("mousemove",".stimeline",function(e,t){RVS.F.updateHoverTime({pos:!0,cont:!0,left:e.pageX-310})}),RVS.DOC.on("mouseenter",".stimeline",function(e,t){RVS.TL.ht.show()}),RVS.DOC.on("mouseenter",".timeline_left_container, .context_left, .timeline_right_container",function(e,t){RVS.TL.ht.hide()}),RVS.DOC.on("mouseenter","#timeline_settings",function(e,t){RVS.DOC.trigger("previewStopLayerAnimation"),RVS.TL.over||RVS.TL[RVS.S.slideId].main&&void 0!==RVS.TL.cache&&void 0!==RVS.TL.cache.main&&0!==RVS.TL.cache.main&&RVS.F.updateTimeLine({state:"time",time:RVS.TL.cache.main,timeline:"main"}),RVS.TL.over=!0}),RVS.DOC.on("mouseleave","#timeline_settings",function(e,t){"animation"!==RVS.eMode.mode&&(RVS.TL.over=!1,RVS.TL.ht.hide(),RVS.TL.inDrag||RVS.F.goToIdle())})},RVS.F.animationMode=function(e){RVS.F.updateCurTime({pos:!0,cont:!0,force:!0,left:0,refreshMainTimeLine:!0,caller:"GoToIdle"})},RVS.F.setSmallestSlideLength=function(e){var t=Math.max(e.left,function(){var e=0;for(var t in RVS.L)if(RVS.L.hasOwnProperty(t)&&"top"!==t&&"bottom"!==t&&"middle"!==t){var i=RVS.F.getPrevNextFrame({layerid:t,frame:"frame_999"});e=e<i.prev.end?i.prev.end:e}return e}()/10);return e.ignore||RVS.F.updateMaxTime({pos:!0,cont:!0,left:t}),t},RVS.F.goToIdle=function(e){t||(RVS.F.updateCurTime({pos:!0,cont:!0,force:!0,left:0,refreshMainTimeLine:!0,caller:"GoToIdle"}),RVS.F.buildMainTimeLine(),RVS.F.updateCurTime({pos:!0,cont:!0,force:!1,left:0,refreshMainTimeLine:!0,caller:"GoToIdle"})),t=!0},RVS.F.updateMaxTime=function(e){if((e=void 0===e?{pos:!0,cont:!0,left:RVS.F.getSlideLength()}:e).left=void 0===e.left?RVS.F.getSlideLength():e.left,e.pos&&punchgs.TweenLite.set(RVS.TL.mt,{left:e.left+"px"}),e.cont){var t=f(e.left);RVS.TL.mt_txt[0].innerHTML='<span class="ctm">'+t.m+'</span>:<span class="cts">'+t.s+'<span>:<span class="ctms">'+t.ms+"</span>"}RVS.F.updateCoveredTimelines()},RVS.F.updateCurTime=function(e){if(e.pos&&punchgs.TweenLite.set(RVS.TL.ct,{left:e.left+"px"}),e.cont){var t=f(e.left);e.left=isNaN(e.left)?0:e.left,e.left>0?(RVS.TL.ct_txt[0].className="timebox inmove",RVS.TL.ct_marker[0].className="timebox_marker inmove",RVS.TL.ct_txt[0].innerHTML='<span class="ctm">'+t.m+'</span>:<span class="cts">'+t.s+'<span>:<span class="ctms">'+t.ms+"</span>"):(RVS.TL.ct_txt[0].className="timebox",RVS.TL.ct_marker[0].className="timebox_marker",RVS.TL.ct_txt[0].innerHTML="EDITOR"),RVS.F.updateCoveredTimelines()}e.refreshMainTimeLine&&(e.left/100<=0?RVS.F.updateTimeLine({force:e.force,state:"idle",timeline:"main",caller:"UpdateCurTime A"}):RVS.F.updateTimeLine({force:e.force,state:"time",time:e.left/100,timeline:"main",freeze:e.freeze}))},RVS.F.updateSlideLoopTimes=function(e){if(e.pos&&(punchgs.TweenLite.set(RVS.TL.slts,{left:e.start+"px"}),punchgs.TweenLite.set(RVS.TL.slte,{left:e.end+"px"}),punchgs.TweenLite.set(".slidelooptimemarker",{left:e.start,width:e.end-e.start})),e.cont){var t=f(e.start);RVS.TL.slts_txt[0].innerHTML='<span class="ctm">'+t.m+'</span>:<span class="cts">'+t.s+'<span>:<span class="ctms">'+t.ms+"</span>",t=f(e.end),RVS.TL.slte_txt[0].innerHTML='<span class="ctm">'+t.m+'</span>:<span class="cts">'+t.s+'<span>:<span class="ctms">'+t.ms+"</span>"}},RVS.F.updateFixedScrollTimes=function(e){if(e.pos&&(punchgs.TweenLite.set(RVS.TL.fixs,{left:e.start+"px"}),punchgs.TweenLite.set(RVS.TL.fixe,{left:e.end+"px"}),punchgs.TweenLite.set(".fixedscrolltimemarker",{left:e.start,width:e.end-e.start})),e.cont){var t=f(e.start);RVS.TL.fixs_txt[0].innerHTML='<span class="ctm">'+t.m+'</span>:<span class="cts">'+t.s+'<span>:<span class="ctms">'+t.ms+"</span>",t=f(e.end),RVS.TL.fixe_txt[0].innerHTML='<span class="ctm">'+t.m+'</span>:<span class="cts">'+t.s+'<span>:<span class="ctms">'+t.ms+"</span>"}},RVS.F.updateHoverTime=function(e){if(RVS.TL.hoverTimeLeft=void 0===e.left?RVS.TL.hoverTimeLeft:e.left,RVS.TL.hoverTimeLeft=void 0===RVS.TL.hoverTimeLeft?0:RVS.TL.hoverTimeLeft,RVS.TL._scrollLeft=void 0===RVS.TL._scrollLeft?0:RVS.TL._scrollLeft,e.pos&&punchgs.TweenLite.set(RVS.TL.ht,{left:e.left+"px"}),e.cont){var t=f(RVS.TL.hoverTimeLeft+RVS.TL._scrollLeft);RVS.TL.ht_txt[0].innerHTML='<span class="ctm">'+t.m+'</span>:<span class="cts">'+t.s+'<span>:<span class="ctms">'+t.ms+"</span>"}},RVS.F.updateFrameTime=function(e){if(RVS.TL.frameTimeLeft=void 0===e.left?RVS.TL.frameTimeLeft:e.left,RVS.TL.frameTimeLeft=void 0===RVS.TL.frameTimeLeft?0:RVS.TL.frameTimeLeft,RVS.TL._scrollLeft=void 0===RVS.TL._scrollLeft?0:RVS.TL._scrollLeft,e.pos&&punchgs.TweenLite.set(RVS.TL.ft,{left:e.left+"px"}),e.cont){var t=f(RVS.TL.frameTimeLeft);RVS.TL.ft_txt[0].innerHTML='<span class="ctm">'+t.m+'</span>:<span class="cts">'+t.s+'<span>:<span class="ctms">'+t.ms+"</span>"}},RVS.F.getLayerFrames=function(e){var t=void 0===e.extend?{}:e.extend;for(var i in t[e.layerid]={type:RVS.L[e.layerid].type,frames:{}},RVS.L[e.layerid].timeline.frameOrder)if(RVS.L[e.layerid].timeline.frameOrder.hasOwnProperty(i)){var a=RVS.L[e.layerid].timeline.frameOrder[i].id;void 0!==e.afterStart?(RVS.L[e.layerid].timeline.frames[a].timeline.start>e.afterStart&&"frame_999"!==a&&(t[e.layerid].frames[a]=RVS.L[e.layerid].timeline.frames[a].timeline.start),"frame_999"===a&&!0===e.include999&&(t[e.layerid].frames[a]=RVS.L[e.layerid].timeline.frames[a].timeline.start)):t[e.layerid].frames[a]=RVS.L[e.layerid].timeline.frames[a].timeline.start}return t},RVS.F.getLayersEndWithSlide=function(){var e={};for(var t in RVS.L)RVS.L.hasOwnProperty(t)&&"top"!==t&&"bottom"!==t&&"middle"!==t&&(e[t]={type:RVS.L[t].type,endWithSlide:RVS.L[t].timeline.frames.frame_999.timeline.endWithSlide,frames:{frame_999:RVS.L[t].timeline.frames.frame_999.timeline.start}});return e},RVS.F.clearLayerAnimation=function(e){RVS.H[e.layerid].timeline.clear()},RVS.F.formatTime=function(e){e*=1e3;var t=parseInt(e%1e3/10),i=parseInt(e/1e3%60),a=parseInt(e/6e4%60);return(a=a<10?"0"+a:a)+":"+(i=i<10?"0"+i:i)+":"+(t=t<10?"0"+t:t)},RVS.F.updateSplitContent=function(e){var t=!1;if(RVS.H[e.layerid].splitText&&RVS.H[e.layerid].splitText.revert(),"text"===RVS.L[e.layerid].type||"button"===RVS.L[e.layerid].type){for(var i in RVS.L[e.layerid].timeline.frames)if(RVS.L[e.layerid].timeline.frames.hasOwnProperty(i)&&(RVS.L[e.layerid].timeline.frames[i].chars.use||RVS.L[e.layerid].timeline.frames[i].words.use||RVS.L[e.layerid].timeline.frames[i].lines.use)){t=!0;break}RVS.H[e.layerid].splitText=t?new punchgs.SplitText(RVS.H[e.layerid].c,{type:"lines,words,chars",wordsClass:"rs_splitted_words",linesClass:"rs_splitted_lines",charsClass:"rs_splitted_chars"}):void 0}else RVS.H[e.layerid].splitText=void 0;return t},RVS.F.getFrameOrder=function(e){for(var t in RVS.L[e.layerid].timeline.frameOrder=[],RVS.L[e.layerid].timeline.frames)RVS.L[e.layerid].timeline.frames.hasOwnProperty(t)&&RVS.L[e.layerid].timeline.frameOrder.push({id:t,start:"frame_0"===t?-1:RVS.L[e.layerid].timeline.frames[t].timeline.start});RVS.L[e.layerid].timeline.frameOrder.sort(function(e,t){return e.start-t.start}),RVS.L[e.layerid].timeline.frameToIdle=void 0===RVS.L[e.layerid].timeline.frameToIdle?"frame_1":RVS.L[e.layerid].timeline.frameToIdle},RVS.F.renderLayerAnimation=function(i){var a=RVS.H[i.layerid],r=RVS.L[i.layerid];if(void 0!==RVS.TL[RVS.S.slideId].layers&&void 0!==RVS.TL[RVS.S.slideId].layers[i.layerid]&&void 0!==a&&void 0!==r.timeline&&void 0!==r.timeline.frames){a.timeline&&a.timeline.pause("frame_IDLE"),a.timeline=new punchgs.TimelineMax({paused:!0});var s=("text"===r.type||"button"===r.type)&&RVS.F.updateSplitContent({layerid:i.layerid});r.timeline.split=s,RVS.F.getFrameOrder({layerid:i.layerid});var o=RVS.F.getFirstFrame({layerid:i.layerid});for(var n in r.timeline.frameOrder)if(r.timeline.frameOrder.hasOwnProperty(n)){var l=r.timeline.frameOrder[n].id;if("frame_0"!==l){var d=void 0===i.frameObj||i.frame!==l?r.timeline.frames[l]:i.frameObj;r.timeline.sessionFilterUsed=RVS.F.checkGlobalFiltersOnLayer(i.layerid),"frame_999"===l&&r.timeline.frames.frame_999.timeline.auto&&((d=RVS.F.safeExtend(!0,{},r.timeline.frames.frame_999)).transform=RVS.F.safeExtend(!0,{},r.timeline.frames.frame_0.transform),d.mask=RVS.F.safeExtend(!0,{},r.timeline.frames.frame_0.mask),d.words=RVS.F.safeExtend(!0,{},r.timeline.frames.frame_0.words),d.lines=RVS.F.safeExtend(!0,{},r.timeline.frames.frame_0.lines),d.chars=RVS.F.safeExtend(!0,{},r.timeline.frames.frame_0.chars),d.sfx=RVS.F.safeExtend(!0,{},r.timeline.frames.frame_0.sfx),d.filter=RVS.F.safeExtend(!0,{},r.timeline.frames.frame_0.filter),d.color=RVS.F.safeExtend(!0,{},r.timeline.frames.frame_0.color),d.bgcolor=RVS.F.safeExtend(!0,{},r.timeline.frames.frame_0.bgcolor));var S=l===o?r.timeline.frames.frame_0:void 0,f=RVS.TL[RVS.S.slideId].layers[i.layerid][l],y=a.c,h=V(d.sfx.effect,a.m,d.timeline.ease),v=new punchgs.TimelineMax,g=d.timeline.speed/1e3,_=0;f.timeline=new punchgs.TimelineMax,"block"===h.type&&(h.ft[0].background=window.RSColor.get(d.sfx.color),f.timeline.add(punchgs.TweenLite.fromTo(h.bmask_in,g/2,h.ft[0],h.ft[1],0)),f.timeline.add(punchgs.TweenLite.fromTo(h.bmask_in,g/2,h.ft[1],h.t,g/2)),"frame_0"===l||"frame_1"===l?f.timeline.add(v.staggerFromTo(y,.05,{autoAlpha:0},{autoAlpha:1,delay:g/2},0),0):"frame_999"===l&&f.timeline.add(v.staggerFromTo(y,.05,{autoAlpha:1},{autoAlpha:0,delay:g/2},0),0));var L,w=m({sessionFilterUsed:r.timeline.sessionFilterUsed,frame:d,layerid:i.layerid,ease:d.timeline.ease,splitAmount:y.length,target:l}),b=l===o?m({sessionFilterUsed:r.timeline.sessionFilterUsed,frame:S,layerid:i.layerid,ease:d.timeline.ease,splitAmount:y.length,target:"frame_0"}):void 0,F="true"==d.mask.use||1==d.mask.use?m({frame:{transform:{x:d.mask.x,y:d.mask.y,clip:d.mask.clip}},layerid:i.layerid,ease:w.ease,target:"mask"}):void 0,I=l===o?m({frame:{transform:{x:S.mask.x,y:S.mask.y,clip:S.mask.clip}},layerid:i.layerid,ease:w.ease,target:"frommask"}):void 0,x=w.ease;if(void 0!==d.color&&d.color.use?w.color=window.RSColor.get(d.color.color):w.color=window.RSColor.get(r.idle.color[RVS.screen].v),void 0!==S&&(void 0!==S.color&&S.color.use?b.color=window.RSColor.get(S.color.color):b.color=window.RSColor.get(r.idle.color[RVS.screen].v)),void 0!==d.bgcolor&&d.bgcolor.use)(L=window.RSColor.get(d.bgcolor.backgroundColor)).indexOf("gradient")>=0?w.background=L:w.backgroundColor=L;else(L=window.RSColor.get(r.idle.backgroundColor)).indexOf("gradient")>=0?w.background=L:w.backgroundColor=L;if(void 0!==S)if(void 0!==S.bgcolor&&S.bgcolor.use)(L=window.RSColor.get(S.bgcolor.backgroundColor)).indexOf("gradient")>=0?b.background=L:b.backgroundColor=L;else(L=window.RSColor.get(r.idle.backgroundColor)).indexOf("gradient")>=0?b.background=L:b.backgroundColor=L;var k=0;if(s)for(var T in c)if(c.hasOwnProperty(T))if(d[c[T]].use&&!i.quickRendering){var D=R(a.splitText[c[T]],d[c[T]].direction),O=m({frame:d,source:c[T],ease:x,layerid:i.layerid,splitAmount:D.length,target:l+"_"+c[T]}),C=l===o?m({frame:S,ease:O.ease,source:c[T],layerid:i.layerid,splitAmount:D.length,target:"frame_0_"+c[T]}):void 0;_=parseInt(d[c[T]].delay,0)/100,O.color=w.color,void 0!==b&&(C.color=b.color);var z=u(RVS.F.safeExtend(!0,{},O)),P=l===o?u(RVS.F.safeExtend(!0,{},C)):void 0;l===o?f.timeline.add(v.staggerFromTo(D,g,P,z,_,0),0):f.timeline.add(v.staggerTo(D,g,z,_,0),0),k=D.length>k?D.length:k}else l===o?f.timeline.add(v.fromTo(a.splitText[c[T]],g,{immediateRender:!1,color:b.color},{color:w.color},0),0):f.timeline.add(v.to(a.splitText[c[T]],g,{color:w.color},0),0);if(g+=_*k,void 0!==F?(F.overflow="hidden",F.rotationX=r.idle.rotationX,F.rotationY=r.idle.rotationY,F.rotationZ=r.idle.rotationZ,F.opacity=r.idle.opacity,l===o?(I.rotationX=r.idle.rotationX,I.rotationY=r.idle.rotationY,I.rotationZ=r.idle.rotationZ,I.opacity=r.idle.opacity,f.timeline.add(punchgs.TweenLite.fromTo([a.m,a.bgmask],g,I,F),0)):f.timeline.add(punchgs.TweenLite.to([a.m,a.bgmask],g,F),0)):f.timeline.add(punchgs.TweenLite.to(a.m,.001,{filter:"none",x:0,y:0,opacity:r.idle.opacity,rotationX:r.idle.rotationX,rotationY:r.idle.rotationY,rotationZ:r.idle.rotationZ,overflow:"visible"}),0),w.force3D="auto",l===o?(void 0!==a.bg&&f.timeline.fromTo(a.bg,g,b,w,0),void 0!==a.bg&&"column"===r.type?f.timeline.fromTo(y,g,p(b),p(w),0):f.timeline.fromTo(y,g,b,w,0)):(void 0!==a.bg&&f.timeline.to(a.bg,g,w,0),void 0!==a.bg&&"column"===r.type?f.timeline.to(y,g,p(w),0):f.timeline.to(y,g,w,0)),void 0!==x&&Array.isArray(x)&&x.indexOf("SFXBounce")>=0&&f.timeline.to(y,g,{scaleY:.5,scaleX:1.3,ease:w.ease+"-squash",transformOrigin:"bottom"},1e-4),"full"===i.timeline){var E=parseInt(d.timeline.start,0)/1e3;a.timeline.addLabel(l,E),a.timeline.add(f.timeline,E),a.timeline.addLabel(l+"_end","+=0.01"),r.timeline.frameToIdle===l&&a.timeline.addLabel("frame_IDLE")}else a.timeline.addLabel(l),a.timeline.append(f.timeline),l===i.frame?a.timeline.addPause(l+"_end+=0.5",function(e){this.play(e)},[i.frame]):(a.timeline.addLabel(l+"_end"),r.timeline.frameToIdle===l&&a.timeline.addLabel("frame_IDLE"),r.timeline.loop.use?(a.timeline.addPause(l+"_end+="+r.timeline.loop.speed/500,function(){this.play()}),"frame_999"==l&&a.timeline.addPause(l+"_end+=0.5",function(){this.play(0)})):a.timeline.addPause(l+"_end+=0.5",function(){this.play()}))}}if(r.hover.usehover&&a.htr){a.hover=new punchgs.TimelineMax,a.hover.pause(),a.htr.ease=r.hover.ease;var A=parseInt(r.hover.speed,0)/1e3;A=0===A?1e-5:A,"column"!==r.type&&"row"!==r.type||a.hover.to(a.bg,A,RVS.F.safeExtend(!0,{},a.htr),0),"text"!==r.type&&"button"!==r.type||!r.timeline.split||void 0===a.splitText||a.hover.to([a.splitText.lines,a.splitText.words,a.splitText.chars],A,{color:a.htr.color,ease:a.htr.ease},0),"column"===r.type?a.hover.to(a.c,A,p(RVS.F.safeExtend(!0,{},a.htr)),0):a.hover.to(a.c,A,RVS.F.safeExtend(!0,{},a.htr),0),"svg"===r.type&&(a.hover.to(a.svg,A,{fill:window.RSColor.get(r.hover.svg.color),stroke:window.RSColor.get(r.hover.svg.strokeColor),"stroke-width":r.hover.svg.strokeWidth,"stroke-dasharray":RVS.F.getDashArray(r.hover.svg.strokeDashArray),"stroke-dashoffset":void 0===r.hover.svg.strokeDashOffset?0:r.hover.svg.strokeDashOffset},0),a.hover.to(a.svgPath,A,{fill:window.RSColor.get(r.hover.svg.color)},0)),a.hover.to([a.m,a.bgmask],A,{overflow:r.hover.usehovermask?"hidden":"visible"},0),a.hoverlistener||(a.hoverlistener=!0,a.w.hover(function(){a.hover.play()},function(){"hover"===RVS.eMode.mode&&a.w.hasClass("selected")||a.hover.reverse()}),"hover"===RVS.eMode.mode&&e.inArray(parseInt(r.uid,0),RVS.selLayers)>=0?a.hover.play():a.hover.time()>0&&a.hover.reverse())}else a.hoverlistener&&(a.hoverlistener=!1,a.w.unbind("hover"));if(!r.timeline.loop.use||t&&"animation"!==RVS.eMode.mode)(N=new punchgs.TimelineMax({})).set(a.lp,{"-webkit-filter":"blur(0px) grayscale(0%) brightness(100%)",filter:"blur(0px) grayscale(0%) brightness(100%)",x:0,y:0,z:0,scale:1,skew:0,rotationX:0,rotationY:0,rotationZ:0,transformPerspective:600,transformOrigin:"50% 50%",opacity:1}),a.timeline.add(N,0);else{var M=r.timeline.loop.frame_0,H=r.timeline.loop.frame_999,B=new punchgs.TimelineMax({}),N=new punchgs.TimelineMax({repeat:-1,yoyo:r.timeline.loop.yoyo_move}),j=new punchgs.TimelineMax({repeat:-1,yoyo:r.timeline.loop.yoyo_rotate}),G=new punchgs.TimelineMax({repeat:-1,yoyo:r.timeline.loop.yoyo_scale}),W=new punchgs.TimelineMax({repeat:-1,yoyo:r.timeline.loop.yoyo_filter}),Y=parseInt(r.timeline.loop.speed,0)/1e3,X=parseInt(r.timeline.loop.start)/1e3||0,U=X+.2;if(B.add(N,0),B.add(j,0),B.add(G,0),B.add(W,0),r.timeline.loop.curved){var q=parseInt(r.timeline.loop.radiusAngle,0)||0,Z=[{x:parseInt(M.x,0)-parseInt(M.xr,0),y:0,z:parseInt(M.z,0)-parseInt(M.zr,0)},{x:0,y:parseInt(M.y,0)+parseInt(M.yr,0),z:0},{x:parseInt(H.x,0)+parseInt(H.xr,0),y:0,z:parseInt(H.z,0)+parseInt(H.zr,0)},{x:0,y:parseInt(H.y,0)-parseInt(H.yr,0),z:0}],K={type:"thru",curviness:r.timeline.loop.curviness,values:[],autoRotate:r.timeline.loop.autoRotate};for(var Q in Z)Z.hasOwnProperty(Q)&&(K.values[Q]=Z[q],q=++q==Z.length?0:q);a.timeline.fromTo(a.lp,.2,{"-webkit-filter":"blur(0px) grayscale(0%) brightness(100%)",filter:"blur(0px) grayscale(0%) brightness(100%)",x:0,y:0,z:0,scale:1,skew:0,rotationX:0,rotationY:0,rotationZ:0,transformPerspective:600,transformOrigin:r.timeline.loop.originX+" "+r.timeline.loop.originY+" "+r.timeline.loop.originZ,opacity:1},{x:K.values[3].x,y:K.values[3].y,z:K.values[3].z,scaleX:M.scaleX,skewX:M.skewX,skewY:M.skewY,scaleY:M.scaleY,rotationX:M.rotationX,rotationY:M.rotationY,rotationZ:M.rotationZ,"-webkit-filter":"blur("+parseInt(M.blur,0)+"px) grayscale("+parseInt(M.grayscale,0)+"%) brightness("+parseInt(M.brightness,0)+"%)",filter:"blur("+parseInt(M.blur,0)+"px) grayscale("+parseInt(M.grayscale,0)+"%) brightness("+parseInt(M.brightness,0)+"%)",ease:punchgs.Sine.easeOut,opacity:M.opacity},X),N.to(a.lp,r.timeline.loop.yoyo_move?Y/2:Y,{bezier:K,ease:r.timeline.loop.ease})}else a.timeline.fromTo(a.lp,.2,{"-webkit-filter":"blur(0px) grayscale(0%) brightness(100%)",filter:"blur(0px) grayscale(0%) brightness(100%)",x:0,y:0,z:0,scale:1,skew:0,rotationX:0,rotationY:0,rotationZ:0,transformPerspective:600,transformOrigin:r.timeline.loop.originX+" "+r.timeline.loop.originY+" "+r.timeline.loop.originZ,opacity:1},{x:M.x,y:M.y,z:M.z,scaleX:M.scaleX,skewX:M.skewX,skewY:M.skewY,scaleY:M.scaleY,rotationX:M.rotationX,rotationY:M.rotationY,rotationZ:M.rotationZ,ease:punchgs.Sine.easeOut,opacity:M.opacity,"-webkit-filter":"blur("+parseInt(M.blur,0)+"px) grayscale("+parseInt(M.grayscale,0)+"%) brightness("+parseInt(M.brightness,0)+"%)",filter:"blur("+parseInt(M.blur,0)+"px) grayscale("+parseInt(M.grayscale,0)+"%) brightness("+parseInt(M.brightness,0)+"%)"},X),N.to(a.lp,r.timeline.loop.yoyo_move?Y/2:Y,{x:H.x,y:H.y,z:H.z,ease:r.timeline.loop.ease});j.to(a.lp,r.timeline.loop.yoyo_rotate?Y/2:Y,{rotationX:H.rotationX,rotationY:H.rotationY,rotationZ:H.rotationZ,ease:r.timeline.loop.ease}),G.to(a.lp,r.timeline.loop.yoyo_scale?Y/2:Y,{scaleX:H.scaleX,scaleY:H.scaleY,skewX:H.skewX,skewY:H.skewY,ease:r.timeline.loop.ease});var J={opacity:H.opacity,ease:r.timeline.loop.ease,"-webkit-filter":"blur("+parseInt(H.blur,0)+"px) grayscale("+parseInt(H.grayscale,0)+"%) brightness("+parseInt(H.brightness,0)+"%)",filter:"blur("+parseInt(H.blur,0)+"px) grayscale("+parseInt(H.grayscale,0)+"%) brightness("+parseInt(H.brightness,0)+"%)"};W.to(a.lp,r.timeline.loop.yoyo_filter?Y/2:Y,J),a.timeline.add(B,U)}"atstart"!==i.mode&&("0"===RVS.S.keyFrame?a.timeline.pause("frame_0"):"idle"===RVS.S.keyFrame?a.timeline.pause("frame_IDLE"):a.timeline.pause(RVS.S.keyFrame+"_end")),void 0!==i.time&&a.timeline.time(i.time),"loopsingleframe"===i.timeline?a.timeline.play(i.frame):"full"!==i.timeline&&a.timeline.eventCallback("onComplete",function(){this.restart()})}},RVS.F.buildFullLayerAnimation=function(e){for(var t in RVS.L)RVS.L.hasOwnProperty(t)&&void 0!==RVS.L[t].uid&&RVS.F.renderLayerAnimation({layerid:t,timeline:"full",mode:e})},RVS.F.playLayerAnimation=function(e){RVS.H[e.layerid].timeline.play(0),S.push(e.layerid)},RVS.F.stopLayerAnimation=function(e){void 0!==RVS.H[e.layerid]&&(RVS.H[e.layerid].timeline&&RVS.H[e.layerid].timeline.pause("frame_IDLE"),S=RVS.F.rArray(S,parseInt(e.layerid,0)))},RVS.F.stopAllLayerAnimation=function(){for(var e=S.length;S.length>0;)RVS.F.stopLayerAnimation({layerid:S[0]});e>0&&(RVS.TL.cache.main<=0?RVS.F.updateCurTime({pos:!0,cont:!0,force:!0,left:0,refreshMainTimeLine:!0,caller:"stopAllLayerAnimation"}):RVS.F.updateTimeLine({force:!0,state:"time",time:RVS.TL.cache.main,timeline:"main",forceFullLayerRender:!0,updateCurTime:!0}))},RVS.F.stopAndPauseAllLayerAnimation=function(){RVS.S.shwLayerAnim=!1,RVS.F.changeSwitchState({el:document.getElementById("layer_simulator"),state:"play"}),RVS.F.changeSwitchState({el:document.getElementById("layer_simulator_loop"),state:"play"}),RVS.F.stopAllLayerAnimation()},RVS.F.checkGlobalFiltersOnLayer=function(e){var t=!1;for(var i in RVS.L[e].timeline.frames)!0!==t&&RVS.L[e].timeline.frames.hasOwnProperty(i)&&(t=RVS.L[e].timeline.frames[i].filter.use);return t},RVS.F.getClipPaths=function(e,t,i,a){var r;switch(e){case"none":r=t+"% 100%,"+t+"% 0%";break;case"top":r=i+"% 100%,"+t+"% 0%";break;case"middle":r=i+"% 100%,"+t+"% 50%,"+i+"% 0%";break;case"bottom":r=t+"% 100%,"+i+"% 0%";break;case"two":r=i+"% 100%,"+t+"% 75%,"+i+"% 50%,"+t+"% 25%,"+i+"% 0%";break;case"three":r=t+"% 100%,"+i+"% 75%,"+t+"% 50%,"+i+"% 25%,"+t+"% 0%";break;case"four":r=t+"% 100%,"+i+"% 87.5%,"+t+"% 75%,"+i+"% 62.5%,"+t+"% 50%,"+i+"% 37.5%,"+t+"% 25%,"+i+"% 12.5%,"+t+"% 0%";break;case"five":r=t+"% 100%,"+i+"% 90%,"+t+"% 80%,"+i+"% 70%,"+t+"% 60%,"+i+"% 50%,"+t+"% 40%,"+i+"% 30%,"+t+"% 20%,"+i+"% 10%,"+t+"% 0%"}if(a){var s=r.split(",");for(var i in r="",s)s.hasOwnProperty(i)&&(r+=s[s.length-1-i]+(i<s.length-1?",":""))}return r},RVS.F.toggleTimeLine=function(){RVS.TL.timelineStartedFromPlayStop?RVS.DOC.trigger("stopTimeLine"):RVS.DOC.trigger("playTimeLine")},RVS.F.getSliderTransitionParameters=function(t,i){var a="Power1.easeIn",r="Power1.easeOut",s="Power1.easeInOut",o="Power2.easeIn",n="Power2.easeOut",l="Power2.easeInOut",d="Power3.easeInOut",c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],S=[17,18,19,20,21,22,23,24,25,27],p=0,u=1,R=0,V=[["boxslide",0,0,10,"box",!1,null,0,r,r,1e3,6],["boxrandomrotate",0,1,10,"box",!1,null,60,r,r,1e3,6],["boxfade",1,0,10,"box",!1,null,1,s,s,700,5],["slotslide-horizontal",2,0,0,"horizontal",!0,!1,2,l,l,1e3,3],["slotslide-vertical",3,0,0,"vertical",!0,!1,3,l,l,1e3,3],["curtain-1",4,3,0,"horizontal",!0,!0,4,r,r,900,5],["curtain-2",5,3,0,"horizontal",!0,!0,5,r,r,900,5],["curtain-3",6,3,25,"horizontal",!0,!0,6,r,r,900,5],["slotzoom-horizontal",7,0,0,"horizontal",!0,!0,7,r,r,1e3,7],["slotzoom-vertical",8,0,0,"vertical",!0,!0,8,n,n,1e3,8],["slotzoom-mixed",8,1,0,"vertical",!0,!0,59,n,n,1e3,8],["slotfade-horizontal",9,0,0,"horizontal",!0,null,9,l,l,1500,10],["slotfade-vertical",10,0,0,"vertical",!0,null,10,l,l,1500,10],["crossfade-horizontal",9,0,0,"horizontal",!0,null,9,l,l,0,10],["crossfade-vertical",10,0,0,"vertical",!0,null,10,l,l,0,10],["fade",11,0,1,"horizontal",!0,null,11,l,l,1e3,1],["crossfade",11,1,1,"horizontal",!0,null,11,l,l,1e3,1],["fadethroughdark",11,2,1,"horizontal",!0,null,11,l,l,1e3,1],["fadethroughlight",11,3,1,"horizontal",!0,null,11,l,l,1e3,1],["fadethroughtransparent",11,4,1,"horizontal",!0,null,11,l,l,1e3,1],["slideleft",12,0,1,"horizontal",!0,!0,12,d,d,1e3,1],["slideup",13,0,1,"horizontal",!0,!0,13,d,d,1e3,1],["slidedown",14,0,1,"horizontal",!0,!0,14,d,d,1e3,1],["slideright",15,0,1,"horizontal",!0,!0,15,d,d,1e3,1],["slideoverleft",12,7,1,"horizontal",!0,!0,12,d,d,1e3,1],["slideoverup",13,7,1,"horizontal",!0,!0,13,d,d,1e3,1],["slideoverdown",14,7,1,"horizontal",!0,!0,14,d,d,1e3,1],["slideoverright",15,7,1,"horizontal",!0,!0,15,d,d,1e3,1],["slideremoveleft",12,8,1,"horizontal",!0,!0,12,d,d,1e3,1],["slideremoveup",13,8,1,"horizontal",!0,!0,13,d,d,1e3,1],["slideremovedown",14,8,1,"horizontal",!0,!0,14,d,d,1e3,1],["slideremoveright",15,8,1,"horizontal",!0,!0,15,d,d,1e3,1],["papercut",16,0,0,"vertical",null,!0,16,d,d,1e3,2],["3dcurtain-horizontal",17,0,20,"vertical",!0,!0,17,s,s,2e3,7],["3dcurtain-vertical",18,0,10,"horizontal",!0,!0,18,s,s,2e3,7],["cubic",19,0,20,"horizontal",!1,!0,19,l,l,1e3,1],["cube",19,0,20,"horizontal",!1,!0,20,l,l,1e3,1],["flyin",20,0,4,"vertical",!1,!0,21,"Power3.easeOut",d,1e3,1],["turnoff",21,0,1,"horizontal",!1,!0,22,d,d,1e3,1],["incube",22,0,20,"horizontal",!1,!0,23,l,l,1e3,1],["cubic-horizontal",23,0,20,"vertical",!1,!0,24,l,l,1e3,1],["cube-horizontal",23,0,20,"vertical",!1,!0,25,l,l,1e3,1],["incube-horizontal",24,0,20,"vertical",!1,!0,26,l,l,1e3,1],["turnoff-vertical",25,0,1,"horizontal",!1,!0,27,l,l,1e3,1],["fadefromright",12,1,1,"horizontal",!0,!0,28,l,l,1e3,1],["fadefromleft",15,1,1,"horizontal",!0,!0,29,l,l,1e3,1],["fadefromtop",14,1,1,"horizontal",!0,!0,30,l,l,1e3,1],["fadefrombottom",13,1,1,"horizontal",!0,!0,31,l,l,1e3,1],["fadetoleftfadefromright",12,2,1,"horizontal",!0,!0,32,l,l,1e3,1],["fadetorightfadefromleft",15,2,1,"horizontal",!0,!0,33,l,l,1e3,1],["fadetobottomfadefromtop",14,2,1,"horizontal",!0,!0,34,l,l,1e3,1],["fadetotopfadefrombottom",13,2,1,"horizontal",!0,!0,35,l,l,1e3,1],["parallaxtoright",15,3,1,"horizontal",!0,!0,36,l,l,1500,1],["parallaxtoleft",12,3,1,"horizontal",!0,!0,37,l,l,1500,1],["parallaxtotop",14,3,1,"horizontal",!0,!0,38,l,l,1500,1],["parallaxtobottom",13,3,1,"horizontal",!0,!0,39,l,l,1500,1],["scaledownfromright",12,4,1,"horizontal",!0,!0,40,l,o,1e3,1],["scaledownfromleft",15,4,1,"horizontal",!0,!0,41,l,o,1e3,1],["scaledownfromtop",14,4,1,"horizontal",!0,!0,42,l,o,1e3,1],["scaledownfrombottom",13,4,1,"horizontal",!0,!0,43,l,o,1e3,1],["zoomout",13,5,1,"horizontal",!0,!0,44,l,l,1e3,1],["zoomin",13,6,1,"horizontal",!0,!0,45,l,l,1e3,1],["slidingoverlayup",27,0,1,"horizontal",!0,!0,47,s,r,2e3,1],["slidingoverlaydown",28,0,1,"horizontal",!0,!0,48,s,r,2e3,1],["slidingoverlayright",30,0,1,"horizontal",!0,!0,49,s,r,2e3,1],["slidingoverlayleft",29,0,1,"horizontal",!0,!0,50,s,r,2e3,1],["parallaxcirclesup",31,0,1,"horizontal",!0,!0,51,l,a,1500,1],["parallaxcirclesdown",32,0,1,"horizontal",!0,!0,52,l,a,1500,1],["parallaxcirclesright",33,0,1,"horizontal",!0,!0,53,l,a,1500,1],["parallaxcirclesleft",34,0,1,"horizontal",!0,!0,54,l,a,1500,1],["notransition",26,0,1,"horizontal",!0,null,46,l,o,1e3,1],["parallaxright",15,3,1,"horizontal",!0,!0,55,l,o,1500,1],["parallaxleft",12,3,1,"horizontal",!0,!0,56,l,o,1500,1],["parallaxup",14,3,1,"horizontal",!0,!0,57,l,a,1500,1],["parallaxdown",13,3,1,"horizontal",!0,!0,58,l,a,1500,1],["grayscale",11,5,1,"horizontal",!0,null,11,l,l,1e3,1],["grayscalecross",11,6,1,"horizontal",!0,null,11,l,l,1e3,1],["brightness",11,7,1,"horizontal",!0,null,11,l,l,1e3,1],["brightnesscross",11,8,1,"horizontal",!0,null,11,l,l,1e3,1],["blurlight",11,9,1,"horizontal",!0,null,11,l,l,1e3,1],["blurlightcross",11,10,1,"horizontal",!0,null,11,l,l,1e3,1],["blurstrong",11,9,1,"horizontal",!0,null,11,l,l,1e3,1],["blurstrongcross",11,10,1,"horizontal",!0,null,11,l,l,1e3,1]];return e.each(["parallaxcircles","slidingoverlay","slide","slideover","slideremove","parallax","parralaxto"],function(e,a){t==a+"horizontal"&&(t=1!=i?a+"left":a+"right"),t==a+"vertical"&&(t=1!=i?a+"up":a+"down")}),"random"==t?t=Math.min(Math.round(Math.random()*V.length-1),V.length-1):"random-static"==t?t=c[Math.min(Math.round(Math.random()*c.length-1),c.length-1)]:"random-premium"==t&&(t=S[Math.min(Math.round(Math.random()*S.length-1),S.length-1)]),e.each(V,function(e,i){i[0]!=t&&i[7]!=t||(p=i[1],u=i[2],R=e)}),{nTR:p=Math.max(0,Math.min(30,p)),TR:V[R],trC:u}};var y=function(t,i,a,r){var s={width:RVS.C.slide.width(),height:RVS.C.slide.height(),mtl:new punchgs.TimelineMax},o=RVS.F.getSliderTransitionParameters(a,0),n=RVS.SLIDER[RVS.S.slideId].slide.panzoom.set&&(o.nTR<11||17==o.nTR||18===o.nTR||o.nTR>=27&&o.nTR<=30)?11:o.nTR;r=void 0===r?RVS.F.getSlideAnimParams("duration"):"default",s.slots=RVS.F.getSlideAnimParams("slots"),s.rotate=RVS.F.getSlideAnimParams("rotation"),r="default"===r||"d"===r?o.TR[10]:"random"===r?Math.round(1e3*Math.random()+300):null!=r?parseInt(r,0):o.TR[10],s.rotate=null==s.rotate||"default"==s.rotate||"d"==s.rotate?0:999==s.rotate||"random"==s.rotate?Math.round(360*Math.random()):s.rotate,(n<11||16===n||17===n||18===n||o.nTR>=27&&o.nTR<=30)&&(s.slots=null==s.slots||"default"==s.slots||"d"==s.slots?o.TR[11]:"random"==s.slots?Math.round(12*Math.random()+4):s.slots,s.slots=s.slots<1?"boxslide"==o.TR[0]?Math.round(6*Math.random()+3):"boxslide"==o.TR[0]||"flyin"==o.TR[0]?Math.round(4*Math.random()+1):s.slots:s.slots,s.slots=(4==n||5==n||6==n)&&s.slots<3?3:s.slots,s.slots=0!=o.TR[3]?Math.min(s.slots,o.TR[3]):s.slots,s.slots=0===s.slots?5:s.slots,s.slots=9==n?s.width/s.slots:10==n?s.height/s.slots:s.slots,s.slots=e.inArray(n,[19,20,21,22,23,24,25,27])>=0?1:s.slots,s.slots=3!=n&&8!=n&&10!=n||"vertical"!==o.TR[4]?s.slots:s.slots+2,e.isNumeric(s.slots)||(s.slots=5),null!=o.TR[6]&&(s=h(i,s,o.TR[6],o.TR[4],0)),null!=o.TR[5]&&(s=h(t,s,o.TR[5],o.TR[4])));var l=7===n||16===n||8===n||17===n||18===n?0:1,d=n<11||17===n||18===n?0:1;s.mtl.add(punchgs.TweenLite.set(i.find("rs-sbg"),{x:0,y:0,z:0,rotationZ:0,rotationX:0,rotationY:0,scale:1,top:0,left:0,clearProps:"filter, transform",opacity:1}),0),s.mtl.add(punchgs.TweenLite.set(t.find("rs-sbg"),{x:0,y:0,z:0,rotationZ:0,rotationX:0,rotationY:0,scale:1,top:0,left:0,clearProps:"filter, transform",opacity:1}),0),s.mtl.add(punchgs.TweenLite.set(i.find("rs-sbg"),{opacity:l}),.001),s.mtl.add(punchgs.TweenLite.set(t.find("rs-sbg"),{opacity:d}),.001),s.mtl.add(punchgs.TweenLite.set(t,{zIndex:20,transformOigin:"50% 50% 0",transformPerspective:600,scale:1,rotationX:0,rotationY:0,rotationZ:0,z:0,autoAlpha:1,top:0,left:0,x:0,y:0,clearProps:"filter, transform"}),0),s.mtl.add(punchgs.TweenLite.set(i,{zIndex:10,transformOigin:"50% 50% 0",transformPerspective:600,scale:1,rotationX:0,rotationY:0,rotationZ:0,z:0,autoAlpha:1,top:0,left:0,x:0,y:0,clearProps:"filter, transform"}),0),s.mtl.add(punchgs.TweenLite.set(t.parent(),{perspective:1200,transformStyle:"flat",force3D:"auto",backgroundColor:"transparent"}),0);var c=RVS.F.getSlideAnimParams("easeIn"),S=RVS.F.getSlideAnimParams("easeOut");if(c="default"===c||"d"===c?o.TR[8]||punchgs.Power2.easeInOut:c||o.TR[8]||punchgs.Power2.easeInOut,S="default"===S||"d"===S?o.TR[9]||punchgs.Power2.easeInOut:S||o.TR[9]||punchgs.Power2.easeInOut,0==n){var p=Math.ceil(s.height/s.sloth),u=0;t.find(".slotslide").each(function(e){u=++u===p?0:u,s.rotate=1===o.trC?45:s.rotate,s.mtl.add(punchgs.TweenLite.from(this,r/2e3,{opacity:0,transformStyle:"flat",transformPerspective:600,scale:0,rotationZ:0!==s.rotate?Math.random()*s.rotate-s.rotate/2:0,force3D:"auto",ease:c}),(10*e+30*u)/3e3)})}else if(1==n)t.find(".slotslide").each(function(e){s.mtl.add(punchgs.TweenLite.from(this,(Math.random()*r+300)/1e3,{autoAlpha:0,force3D:"auto",rotation:s.rotate,ease:c}),(500*Math.random()+200)/1e3)});else if(2==n||3==n)i.find(".slotslide").each(function(){s.mtl.add(punchgs.TweenLite.to(this,r/1e3,{top:3===n?s.sloth:0,left:2===n?s.slotw:0,ease:c,force3D:"auto",rotation:0-s.rotate}),0)}),t.find(".slotslide").each(function(){s.mtl.add(punchgs.TweenLite.from(this,r/1e3,{top:3==n?s.sloth:0,left:2==n?s.slotw:0,ease:c,force3D:"auto",rotation:s.rotate}),0)});else if(4==n||5==n||6==n){var R=new punchgs.TimelineLite,V=r/1e3-r/1e3/s.slots;s.slots-=s.slots%2==1?1:0,i.find(".slotslide").each(function(e){var t=6!==n?e:e>s.slots/2?s.slots-e:e;R.add(punchgs.TweenLite.to(this,V,{transformPerspective:600,force3D:"auto",top:s.height,opacity:.75,rotation:s.rotate,ease:c,delay:(5!==n?t:s.slots-t)*(V/s.slots)/(6===n?1.3:1)}),0),s.mtl.add(R,0)}),t.find(".slotslide").each(function(e){var t=6!==n?e:e>s.slots/2?s.slots-e:e;R.add(punchgs.TweenLite.from(this,V,{top:-s.height,opacity:.75,rotation:s.rotate,force3D:"auto",ease:punchgs.eo,delay:(5!==n?t:s.slots-t)*(V/s.slots)/(6===n?1.3:1)}),0),s.mtl.add(R,0)})}else if(7==n||8==n)r=Math.min(s.duration||r,r),i.find(".slotslide").each(function(e){var t=e>s.slots/2?s.slots-e:e;s.mtl.add(punchgs.TweenLite.to(this.getElementsByTagName("div"),r/1e3,{x:8===n&&0===o.trC?0:t*s.slotw/3,y:8===n&&0===o.trC?t*s.sloth/3:0,ease:c,transformPerspective:600,force3D:"auto",filter:"blur(2px)",scale:1.2,opacity:0}),0)}),t.find(".slotslide").each(function(e){var t=e>s.slots/2?s.slots-e:e;s.mtl.add(punchgs.TweenLite.fromTo(this.getElementsByTagName("div"),r/1e3,{x:8===n&&0===o.trC?0:0-t*s.slotw/3,y:8===n&&0===o.trC?0-t*s.sloth/3:0,filter:"blur(2px)",opacity:0,transformPerspective:600,scale:1.2},{x:0,y:0,ease:S,force3D:"auto",scale:1,filter:"blur(0px)",opacity:1,rotation:0}),0)});else if(9==n||10==n)for(var m=t[0].getElementsByClassName("slotslide"),f=r-r/1.8,y=0;y<m.length;y++)s.mtl.add(punchgs.TweenLite.fromTo(m[y],(r-y*(f/s.slots))/1e3,{opacity:0,force3D:"auto",transformPerspective:600},{opacity:1,ease:"Linear.easeNone",delay:y*(f/s.slots)/1e3}),0);else if(11==n){o.trC=Math.min(12,o.trC);var v=2==o.trC?"#000000":3==o.trC?"#ffffff":"transparent";switch(o.trC){case 0:s.mtl.add(punchgs.TweenLite.fromTo(t,r/1e3,{autoAlpha:0},{autoAlpha:1,force3D:"auto",ease:c}),0);break;case 1:s.mtl.add(punchgs.TweenLite.fromTo(t,r/1e3,{autoAlpha:0},{autoAlpha:1,force3D:"auto",ease:c}),0),s.mtl.add(punchgs.TweenLite.fromTo(i,r/1e3,{autoAlpha:1},{autoAlpha:0,force3D:"auto",ease:c}),0);break;case 2:case 3:case 4:s.mtl.add(punchgs.TweenLite.set(i.parent(),{backgroundColor:v,force3D:"auto"}),0),s.mtl.add(punchgs.TweenLite.set(t.parent(),{backgroundColor:"transparent",force3D:"auto"}),0),s.mtl.add(punchgs.TweenLite.to(i,r/2e3,{autoAlpha:0,force3D:"auto",ease:c}),0),s.mtl.add(punchgs.TweenLite.fromTo(t,r/2e3,{autoAlpha:0},{autoAlpha:1,force3D:"auto",ease:c}),r/2e3);break;case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:var g="blur("+(e.inArray(o.trC,[9,10])>=0?5:e.inArray(o.trC,[11,12])>=0?10:0)+"px) grayscale("+(e.inArray(o.trC,[5,6,7,8])>=0?100:0)+"%) brightness("+(e.inArray(o.trC,[7,8])>=0?300:0)+"%)",_="blur(0px) grayscale(0%) brightness(100%)";s.mtl.add(punchgs.TweenLite.fromTo(t,r/1e3,{autoAlpha:0,filter:g,"-webkit-filter":g},{autoAlpha:1,filter:_,"-webkit-filter":_,force3D:"auto",ease:c}),0),e.inArray(o.trC,[6,8,10])>=0&&s.mtl.add(punchgs.TweenLite.fromTo(i,r/1e3,{autoAlpha:1,filter:_,"-webkit-filter":_},{autoAlpha:0,force3D:"auto",ease:c,filter:g,"-webkit-filter":g}),0)}s.mtl.add(punchgs.TweenLite.set(t.find("rs-sbg"),{autoAlpha:1}),0),s.mtl.add(punchgs.TweenLite.set(i.find("rs-sbg"),{autoAlpha:1}),0)}else if(12==n||13==n||14==n||15==n){var L=3==o.trC?r/1300:r/1e3,w=r/1e3,b=5==o.trC||6==o.trC?0:s.width,F=5==o.trC||6==o.trC?0:s.height,I=12==n?b:15==n?0-b:0,x=13==n?F:14==n?0-F:0,k=1==o.trC||2==o.trC||5==o.trC||6==o.trC?0:1,T=4==o.trC||5==o.trC?.6:6==o.trC?1.4:1,D=5==o.trC?1.4:6==o.trC?.6:1;if(7!=o.trC&&4!=o.trC||(b=0,F=0),8==o.trC?(s.mtl.add(punchgs.TweenLite.set(i,{zIndex:20}),0),s.mtl.add(punchgs.TweenLite.set(t,{zIndex:15}),0),s.mtl.add(punchgs.TweenLite.to(t,.01,{overflow:"hidden",left:0,top:0,x:0,y:0,scale:1,autoAlpha:1,rotation:0,overwrite:!0,immediateRender:!0,force3D:"auto"}),0)):(s.mtl.add(punchgs.TweenLite.set(i,{zIndex:15}),0),s.mtl.add(punchgs.TweenLite.set(t,{zIndex:20}),0),s.mtl.add(punchgs.TweenLite.from(t,L,{left:I,top:x,overflow:"hidden",scale:D,autoAlpha:k,rotation:s.rotate,ease:c,force3D:"auto"}),0)),1!=o.trC)switch(n){case 12:s.mtl.add(punchgs.TweenLite.to(i,w,{left:0-b+"px",overflow:"hidden",force3D:"auto",scale:T,autoAlpha:k,rotation:s.rotate,ease:S}),0);break;case 15:s.mtl.add(punchgs.TweenLite.to(i,w,{left:b+"px",overflow:"hidden",force3D:"auto",scale:T,autoAlpha:k,rotation:s.rotate,ease:S}),0);break;case 13:s.mtl.add(punchgs.TweenLite.to(i,w,{top:0-F+"px",overflow:"hidden",force3D:"auto",scale:T,autoAlpha:k,rotation:s.rotate,ease:S}),0);break;case 14:s.mtl.add(punchgs.TweenLite.to(i,w,{top:F+"px",overflow:"hidden",force3D:"auto",scale:T,autoAlpha:k,rotation:s.rotate,ease:S}),0)}}else if(17==n||18==n)t.find(".slotslide").each(function(e){s.mtl.add(punchgs.TweenLite.fromTo(this,r/s.slots/1e3,{opacity:0,top:0,left:0,rotationY:17===n?0:90,scale:1,rotationX:17===n?-90:0,force3D:"auto",transformPerspective:600,transformOrigin:17===n?"top center":"center left"},{opacity:1,top:0,left:0,rotationX:0,rotationY:0,force3D:"auto",ease:S,delay:e*(r/s.slots/2e3)}),0)}),i.find(".slotslide").each(function(e){s.mtl.add(punchgs.TweenLite.fromTo(this,r/s.slots/1e3,{opacity:1,rotationY:0,scale:1,rotationX:0,force3D:"auto",transformPerspective:600,transformOrigin:17===n?"bottom center":"center right"},{opacity:0,rotationX:17===n?110:0,rotationY:17===n?0:110,force3D:"auto",ease:c,delay:e*(r/s.slots/2e3)}),0)});else if(19==n||22==n||23==n||24==n){s.mtl.add(punchgs.TweenLite.set(i,{zIndex:20}),0),s.mtl.add(punchgs.TweenLite.set(t,{zIndex:10}),0);var O=19===n?"center center -"+s.height/2:22===n?"center center "+s.height/2:23===n?"center center -"+s.width/2:"center center "+s.width/2;punchgs.TweenLite.set(e(".slots_wrapper"),{transformStyle:"flat",backfaceVisibility:"hidden",transformPerspective:2e3}),s.mtl.add(punchgs.TweenLite.set(t,{transformOrigin:O}),0),s.mtl.add(punchgs.TweenLite.set(i,{transformOrigin:O}),0),s.mtl.add(punchgs.TweenLite.fromTo(t,r/1e3,{rotationX:19==n||22===n?90:0,rotationY:23==n||24===n?90:0,autoAlpha:22===n||24===n?1:0,left:0,top:0,scale:1,x:0,y:0,overflow:"hidden",transformStyle:"flat",backfaceVisibility:"hidden",force3D:"auto",transformPerspective:1200,transformOrigin:O},{overflow:"hidden",left:0,autoAlpha:1,rotationX:0,rotationY:0,top:0,scale:1,delay:0,ease:c,transformStyle:"flat",backfaceVisibility:"hidden",force3D:"auto",transformPerspective:1200,transformOrigin:O}),0),s.mtl.add(punchgs.TweenLite.fromTo(t,r/2e3,{z:19==n||23===n?-200:0},{z:19===n||23===n?0:-200,ease:"Power3.easeInOut",delay:19===n||23===n?r/2e3:0}),0),22!==n&&24!==n||s.mtl.add(punchgs.TweenLite.fromTo([i,t],r/2e3,{z:-200},{z:0,ease:"Power2.easeIn",delay:r/2e3}),0),s.mtl.add(punchgs.TweenLite.fromTo(i,r/2e3,{z:0},{z:-200,ease:"Power3.easeInOut",delay:0,force3D:"auto"}),0),19!==n&&23!==n||s.mtl.add(punchgs.TweenLite.fromTo(i,r/2e3,{autoAlpha:1},{autoAlpha:0,ease:"LinearEase.none",delay:r/2e3,force3D:"auto"}),0),s.mtl.add(punchgs.TweenLite.fromTo(i,r/1e3,{overflow:"hidden",rotationX:0,rotationY:0,rotationZ:0,top:0,left:0,scale:1,transformStyle:"flat",backfaceVisibility:"hidden",force3D:"auto",transformPerspective:1200,transformOrigin:O},{rotationX:19===n||22===n?-90:0,rotationY:23===n||24===n?-90:0,overflow:"hidden",top:0,scale:1,delay:0,force3D:"auto",ease:c,transformStyle:"flat",backfaceVisibility:"hidden",transformPerspective:1200,transformOrigin:O}),0)}else if(20==n){O="80% ";O+="60% -50%",s.mtl.add(punchgs.TweenLite.set(t,{transformOrigin:O}),0),s.mtl.add(punchgs.TweenLite.fromTo(t,r/1e3,{left:s.width,rotationX:20,z:-s.width,autoAlpha:0,top:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:O,rotationY:-50},{left:0,rotationX:0,autoAlpha:1,top:0,z:0,scale:1,rotationY:0,delay:0,ease:c}),0),O="20% ",O+="60% -50%",s.mtl.add(punchgs.TweenLite.set(i,{transformOrigin:O}),0),s.mtl.add(punchgs.TweenLite.fromTo(i,r/1e3,{autoAlpha:1,rotationX:0,top:0,z:0,scale:1,left:0,force3D:"auto",transformPerspective:600,transformOrigin:O,rotationY:0},{autoAlpha:1,rotationX:20,top:0,z:-s.width,left:-s.width/1.2,force3D:"auto",rotationY:50,delay:0,ease:"Power2.easeInOut"}),0)}else if(16==n){O="20%  50% 0";s.mtl.add(punchgs.TweenLite.set(i,{zIndex:20}),.001),s.mtl.add(punchgs.TweenLite.set(t,{zIndex:10}),.001),i.find(".slotslide").each(function(e){s.mtl.add(punchgs.TweenLite.fromTo(this,r/1e3,{rotationZ:0,opacity:1,top:0,left:0,z:0,scale:1},{opacity:1,left:0===e?s.width/1.6:s.width/1.8,rotationZ:0===e?25:-35,z:0,top:0==e?"-120%":"140%",scale:.8,force3D:"auto",transformPerspective:600,transformOrigin:O,delay:0,ease:c}),0),s.mtl.add(punchgs.TweenLite.fromTo(this,r/2e3,{opacity:1},{opacity:0,delay:r/2e3}),0)}),s.mtl.add(punchgs.TweenLite.fromTo(t,r/1e3-r/7e3,{x:100*Math.random()-50,opacity:1,scale:.9,rotationZ:10*Math.random()-5},{x:0,opacity:1,scale:1,rotationZ:0,ease:c,force3D:"auto",delay:r/7e3}),0)}else if(21==n||25==n){var C=25===n?s.rotate:-90,z=25===n?90:s.rotate;O=25===n?"center bottom 0":"right center 0";s.mtl.add(punchgs.TweenLite.set(t,{transformOrigin:O}),0),s.mtl.add(punchgs.TweenLite.fromTo(t,r/1e3,{transformStyle:"flat",rotationX:z,top:0,left:0,autoAlpha:0,force3D:"auto",transformPerspective:1200,transformOrigin:O,rotationY:C},{autoAlpha:1,rotationX:0,rotationY:0,ease:c}),0),O=25===n?"center top 0":"left center 0",C=25!==n?-C:C,z=25!==n?z:-z,s.mtl.add(punchgs.TweenLite.set(i,{transformOrigin:O}),0),s.mtl.add(punchgs.TweenLite.fromTo(i,r/1e3,{rotationX:0,rotationY:0,transformStyle:"flat",transformPerspective:1200,force3D:"auto"},{immediateRender:!0,rotationX:z,transformOrigin:O,rotationY:C,ease:S}),0)}else if(26==n)r=0,s.mtl.add(punchgs.TweenLite.fromTo(t,.001,{autoAlpha:0},{autoAlpha:1,force3D:"auto",ease:c}),0),s.mtl.add(punchgs.TweenLite.to(i,.001,{autoAlpha:0,force3D:"auto",ease:c}),0),s.mtl.add(punchgs.TweenLite.set(t.find("rs-sbg"),{autoAlpha:1}),0),s.mtl.add(punchgs.TweenLite.set(i.find("rs-sbg"),{autoAlpha:1}),0);else if(27==n||28==n||29==n||30==n){var P=t.find(".slot"),E=27==n||29==n?"-100%":"+100%",A=27==n||29==n?"+100%":"-100%",M=27==n||29==n?"-80%":"80%",H=27==n||29==n?"+80%":"-80%",B=27==n||29==n?"+10%":"-10%",N={overwrite:"all"},j={autoAlpha:0,zIndex:1,force3D:"auto",ease:c},G={position:"inherit",autoAlpha:0,overwrite:"all",zIndex:1},W={autoAlpha:1,force3D:"auto",ease:S},Y={overwrite:"all",zIndex:2,opacity:1,autoAlpha:1},X={autoAlpha:1,force3D:"auto",overwrite:"all",ease:c},U={overwrite:"all",zIndex:2,autoAlpha:1},q={autoAlpha:1,force3D:"auto",ease:c},Z=1==(27==n||28==n?1:2)?"y":"x";N[Z]="0px",j[Z]=E,G[Z]=B,W[Z]="0%",Y[Z]=A,X[Z]=E,U[Z]=M,q[Z]=H,P.append('<span style="background-color:rgba(0,0,0,0.6);width:100%;height:100%;position:absolute;top:0px;left:0px;display:block;z-index:2"></span>'),s.mtl.add(punchgs.TweenLite.fromTo(i,r/1e3,N,j),0),s.mtl.add(punchgs.TweenLite.fromTo(t.find("rs-sbg"),r/2e3,G,W),r/2e3),s.mtl.add(punchgs.TweenLite.fromTo(P,r/1e3,Y,X),0),s.mtl.add(punchgs.TweenLite.fromTo(P.find(".slotslide div"),r/1e3,U,q),0)}return s.mtl},h=function(t,i,a,r,s){var o;for(var n in RVS.JHOOKS.prepareOneSlide)RVS.JHOOKS.prepareOneSlide.hasOwnProperty(n)&&(o=RVS.JHOOKS.prepareOneSlide[n](o));var l=RVS.F.getSlideBGDrawObj({slideBGFrom:o}),d=0!==s?l.backgroundImage:RVS.C.slide.find(".slotwrapper_prev .defaultimg").css("backgroundImage").replace('"',"").replace('"',""),c=i.width,S="on"==i.autoHeight?i.c.height():i.height,p=t.find("rs-sbg"),u=t.data("zoomstart"),R=t.data("rotationstart"),V=Math.ceil(c/i.slots),m=Math.ceil(S/i.slots),f=0!==s?l["background-size"]:"16px 16px",y=0!==s?l.backgroundRepeat:"repeat",h=l.backgroundPosition,v=l.backgroundColor?"background-color:"+l.backgroundColor+"; background-image:"+d+";background-repeat:"+y+";background-size:"+f+";background-position:"+h:"background:"+l.background+";";null!=p.data("currotate")&&(R=p.data("currotate")),null!=p.data("curscale")&&"box"==r?u=100*p.data("curscale"):null!=p.data("curscale")&&(u=p.data("curscale")),i.slotw=m>V?m:V,i.sloth=m>V?m:V,t.find(".slot").each(function(){e(this).remove()});var g=0;if("box"===r)for(var _=0,L=0,w=0;w<i.slots;w++){L=0;for(n=0;n<i.slots;n++)t.append('<div class="slot" style="z-index:4;position:absolute;overflow:hidden;top:'+(0+L)+"px;left:"+(0+_)+"px;width:"+i.slotw+"px;height:"+i.sloth+'px;"><div class="slotslide " data-x="'+_+'" data-y="'+L+'" style="position:absolute;top:0px;left:0px;width:'+i.slotw+"px;height:"+i.sloth+'px;overflow:hidden;"><div style="position:absolute;top:'+(0-L)+"px;left:"+(0-_)+"px;width:"+c+"px;height:"+S+"px;"+v+';"></div></div></div>'),L+=i.sloth,null!=u&&null!=R&&punchgs.TweenLite.set(t.find(".slot").last(),{rotationZ:R});_+=i.slotw}else if("horizontal"===r){a||(g=0-i.slotw);for(n=0;n<i.slots;n++)t.append('<div class="slot" style="z-index:4;position:absolute;overflow:hidden;top:0px;left:'+(0+n*i.slotw)+"px;width:"+(i.slotw+.3)+"px;height:"+S+'px"><div class="slotslide " style="position:absolute;top:0px;left:'+g+"px;width:"+(i.slotw+.6)+"px;height:"+S+'px;overflow:hidden;"><div style="position:absolute;top:0px;left:'+(0-n*i.slotw)+"px;width:"+c+"px;height:"+S+"px;"+v+';"></div></div></div>'),null!=u&&null!=R&&punchgs.TweenLite.set(t.find(".slot").last(),{rotationZ:R})}else if("vertical"===r){a||(g=0-i.sloth);for(n=0;n<i.slots;n++)t.append('<div class="slot" style="z-index:4;position:absolute;overflow:hidden;top:'+(0+n*i.sloth)+"px;left:0px;width:"+c+"px;height:"+i.sloth+'px"><div class="slotslide " style="position:absolute;top:'+g+"px;left:0px;width:"+c+"px;height:"+i.sloth+'px;overflow:hidden;"><div style="position:absolute;top:'+(0-n*i.sloth)+"px;left:0px;width:"+c+"px;height:"+S+"px;"+v+';"></div></div></div>'),null!=u&&null!=R&&punchgs.TweenLite.set(t.find(".slot").last(),{rotationZ:R})}return i}}()}($nwd_jQuery),RVS.S.keyFrame="idle",RVS.S.frameTrgt="layer",RVS.V.frameLevels={levels:["mask","chars","words","lines","color","sfx"]},RVS.LIB.FONTS=[],function(e){!function(){var t,i,a,r,s,o,n,l=[];function d(e){var t=e.a.length>0?e.a[0]:e.v;for(var i in e.a)e.a.hasOwnProperty(i)&&(t=e.a[i]<e.v&&t<e.v?e.a[i]:t);return t}function c(e){e.l=RVS.L[e.uid],e.v=e.l.size.width[RVS.screen].v,e.pre=RVS.S.slideId+".layers."+e.uid+".",RVS.H[e.uid].c.find("img").first().attr("src",e.src),e.src==RVS.ENV.img_ph_url?RVS.H[e.uid].c.addClass("placeholder_on"):RVS.H[e.uid].c.removeClass("placeholder_on"),e.ignoreBackup=!0,"video"!==e.l.type&&S(e),e.ignore&&RVS.DOC.trigger("restoreLayersSize"),RVS.F.drawHTMLLayer({uid:e.uid})}function S(t){switch(t.l.type){case"image":!0!==t.ignore&&RVS.F.updateSliderObj({path:t.pre+"size."+t.direction+".#size#.v",val:t.v,ignoreBackup:t.ignoreBackup}),i="auto"===(i="width"===t.direction?e.isNumeric(t.v)||!e.isNumeric(t.v)&&t.v.indexOf("px")>=0?Math.round(parseInt(t.v,0)/t.l.size.aspectRatio[RVS.screen].v):"auto":!e.isNumeric(t.v)&&t.v.indexOf("%")>=0?Math.round(function(e){var t=RVS.L[e.uid],i=-1!=t.group.puid?RVS.H[t.group.puid].w:RVS.C.layergrid;return{width:i.width(),height:i.height()}}({uid:t.uid}).height*(parseInt(t.v,0)/100)*t.l.size.aspectRatio[RVS.screen].v):"auto"===t.v?t.v:Math.round(parseInt(t.v,0)*t.l.size.aspectRatio[RVS.screen].v))?i:i+"px",RVS.F.updateSliderObj({path:t.pre+"size."+t.dirB+".#size#.v",val:i,ignoreBackup:t.ignoreBackup});break;case"group":case"shape":var i="auto"===t.v?"100px":t.v;!0!==t.ignore&&RVS.F.updateSliderObj({path:t.pre+"size."+t.direction+".#size#.v",val:i,ignoreBackup:t.ignoreBackup}),e.isNumeric(parseInt(i,0))&&(i="width"===t.direction?Math.round(parseInt(i,0)/t.l.size.aspectRatio[RVS.screen].v):Math.round(parseInt(i,0)*t.l.size.aspectRatio[RVS.screen].v),RVS.F.updateSliderObj({path:t.pre+"size."+t.dirB+".#size#.v",val:i,ignoreBackup:t.ignoreBackup}));break;case"video":i="auto"===t.v?"100px":!e.isNumeric(t.v)&&t.v.indexOf("%")>=0?RVS.H[t.l.uid].w.width():t.v;!0!==t.ignore&&RVS.F.updateSliderObj({path:t.pre+"size."+t.direction+".#size#.v",val:i}),i="width"===t.direction?Math.round(parseInt(i,0)/t.l.size.aspectRatio[RVS.screen].v):Math.round(parseInt(i,0)*t.l.size.aspectRatio[RVS.screen].v),RVS.F.updateSliderObj({path:t.pre+"size."+t.dirB+".#size#.v",val:i,ignoreBackup:t.ignoreBackup})}}function p(t){e("framewrap.selected").removeClass("selected").removeClass("selected_0");var i=document.getElementById(RVS.S.slideId+"_"+RVS.selLayers[0]+"_"+("frame_0"===RVS.S.keyFrame?"frame_1":RVS.S.keyFrame));null!=i&&void 0!==i&&(i.className+=" selected"+("frame_0"===RVS.S.keyFrame?" selected_0":""))}function u(t){for(var i in t)if(t.hasOwnProperty(i)&&(e.inArray(i,["chars","filter","color","bgcolor","words","lines","mask"])>=0&&!1===t[i].use&&delete t[i],"object"==typeof t[i]))for(var a in t[i])t[i].hasOwnProperty(a)?"inherit"===t[i][a]&&delete t[i][a]:"inherit"===t[i]&&delete t[i];return t}function R(e){void 0!==e&&(void 0!==e.frame_0&&(RVS.L[RVS.selLayers[0]].timeline.frames.frame_0=v(RVS.F.safeExtend(!0,h({alias:RVS_LANG.enterstage,opacity:0},"frame_0"),e.frame_0)),RVS.L[RVS.selLayers[0]].timeline.frames.frame_0.timeline.start=RVS.L[RVS.selLayers[0]].timelinecache.frames.frame_0.timeline.start,RVS.L[RVS.selLayers[0]].timeline.frames.frame_0.timeline.alias=RVS_LANG.enterstage),void 0!==e.frame_1&&(RVS.L[RVS.selLayers[0]].timeline.frames.frame_1=v(RVS.F.safeExtend(!0,h({opacity:1,effect:"none",chars:{x:0,y:0,z:0,opacity:1,rotationZ:0,rotationX:0,rotationY:0,scaleX:1,scaleY:1,skewX:0,skewY:0},words:{x:0,y:0,z:0,opacity:1,rotationZ:0,rotationX:0,rotationY:0,scaleX:1,scaleY:1,skewX:0,skewY:0},lines:{x:0,y:0,z:0,opacity:1,rotationZ:0,rotationX:0,rotationY:0,scaleX:1,scaleY:1,skewX:0,skewY:0}},"frame_1"),e.frame_1)),RVS.L[RVS.selLayers[0]].timeline.frames.frame_1.timeline.start=RVS.L[RVS.selLayers[0]].timelinecache.frames.frame_1.timeline.start,RVS.L[RVS.selLayers[0]].timeline.frames.frame_1.timeline.alias=RVS_LANG.onstage),void 0!==e.frame_999&&(RVS.L[RVS.selLayers[0]].timeline.frames.frame_999=v(RVS.F.safeExtend(!0,h({endWithSlide:!0,alias:RVS_LANG.leavestage,opacity:0},"frame_999"),e.frame_999)),RVS.L[RVS.selLayers[0]].timeline.frames.frame_999.timeline.start=RVS.L[RVS.selLayers[0]].timelinecache.frames.frame_999.timeline.start,RVS.L[RVS.selLayers[0]].timeline.frames.frame_1.timeline.alias=RVS_LANG.leavestage),void 0!==e.loop&&(RVS.L[RVS.selLayers[0]].timeline.loop=RVS.F.safeExtend(!0,y(),e.loop),RVS.L[RVS.selLayers[0]].timeline.loop.start=RVS.L[RVS.selLayers[0]].timelinecache.loop.start),clearTimeout(window.timelineTemporaryUpdate),window.timelineTemporaryUpdate=setTimeout(function(){RVS.F.updateLayerFrames({layerid:RVS.selLayers[0]})},50))}function V(t,i,a,r,s){if(void 0!==i?window.lastColorEditjObj=i:void 0!==window.lastColorEditjObj&&(a=window.RSColor.get(window.lastColorEditjObj.val())),void 0!==a){switch(void 0!==i&&s&&i.val(r||a).change(),window.lastColorEditjObj[0].name){case"layerTextColorHover":case"layerTextColor":case"layerTextColorInFrame":case"frameColorAnimation":for(var o in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(o)){var n=RVS.selLayers[o];e.inArray(RVS.L[n].type,["text","button"])>=0&&(void 0!==RVS.H[n].splitText?punchgs.TweenMax.to([RVS.H[n].c,RVS.H[n].splitText.chars,RVS.H[n].splitText.words,RVS.H[n].splitText.lines],.001,{color:a}):punchgs.TweenMax.to([RVS.H[n].c],.001,{color:a}))}break;case"frameBGColorAnimation":case"frameBGColorAnimationDouble":case"layerBGColor":for(var o in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(o)){n=RVS.selLayers[o];a.indexOf("gradient")>=0?punchgs.TweenMax.to("column"===RVS.L[n].type?RVS.H[n].bg:RVS.H[n].c,.001,{background:a}):void 0!==RVS.L[n].idle.backgroundImage?punchgs.TweenMax.to("column"===RVS.L[n].type?RVS.H[n].bg:RVS.H[n].c,.001,{backgroundImage:"url("+RVS.L[n].idle.backgroundImage+")",backgroundColor:a}):punchgs.TweenMax.to("column"===RVS.L[n].type?RVS.H[n].bg:RVS.H[n].c,.001,{background:a})}break;case"layerSVGColor":for(var o in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(o)){n=RVS.selLayers[o];"svg"===RVS.L[n].type&&punchgs.TweenMax.to([RVS.H[n].svgPath,RVS.H[n].svg],.001,{fill:a})}break;case"layerStrokeColor":for(var o in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(o)){n=RVS.selLayers[o];"svg"===RVS.L[n].type&&punchgs.TweenMax.to([RVS.H[n].svgPath,RVS.H[n].svg],.001,{stroke:a})}}if(s||"colorcancel"===t.type)for(var n in RVS.selLayers)RVS.selLayers.hasOwnProperty(n)&&RVS.F.drawHTMLLayer({uid:RVS.selLayers[n]})}}function m(e,t,i){var a=t.indexOf("i")>=0,r=100*parseInt(t.replace(/[^0-9]/,""),0);setTimeout(function(){for(var t in RVS.L)RVS.L.hasOwnProperty(t)&&("text"!==RVS.L[t].type&&"button"!==RVS.L[t].type||RVS.L[t].idle.fontFamily!=e||(!a&&!RVS.L[t].idle.fontStyle||a&&RVS.L[t].idle.fontStyle)&&RVS.L[t].idle.fontWeight[RVS.screen].v==r&&RVS.F.drawHTMLLayer({uid:RVS.L[t].uid}))},150)}function f(e,t){return null==e?t:e}function y(e){return(e=void 0===e?{}:e).frame_0=void 0===e.frame_0?{}:e.frame_0,e.frame_999=void 0===e.frame_999?{}:e.frame_999,{use:f(e.use,!1),ease:f(e.ease,"Linear.easeNone"),speed:f(e.speed,1e3),originX:f(e.originX,"50%"),originY:f(e.originX,"50%"),radiusAngle:f(e.radiusAngle,0),curviness:f(e.curviness,2),curved:f(e.curved,!1),yoyo_move:f(e.yoyo_move,!1),yoyo_rotate:f(e.yoyo_rotate,!1),yoyo_scale:f(e.yoyo_scale,!1),yoyo_filter:f(e.yoyo_filter,!1),repeat:f(e.repeat,"-1"),start:f(e.start,300),autoRotate:f(e.autoRotate,!1),frame_0:{yr:f(e.frame_0.yr,0),zr:f(e.frame_0.zr,0),x:f(e.frame_0.x,0),y:f(e.frame_0.y,0),z:f(e.frame_0.z,0),scaleX:f(e.frame_0.scaleX,1),scaleY:f(e.frame_0.scaleY,1),opacity:f(e.frame_0.opacity,1),rotationX:f(e.frame_0.rotationX,0),rotationY:f(e.frame_0.rotationY,0),rotationZ:f(e.frame_0.rotationZ,0),skewX:f(e.frame_0.skewX,0),skewY:f(e.frame_0.skewY,0),blur:0,brightness:100,grayscale:0},frame_999:{xr:f(e.frame_999.xr,0),yr:f(e.frame_999.yr,0),zr:f(e.frame_999.zr,0),x:f(e.frame_999.x,0),y:f(e.frame_999.y,0),z:f(e.frame_999.z,0),scaleX:f(e.frame_999.scaleX,1),scaleY:f(e.frame_999.scaleY,1),opacity:f(e.frame_999.opacity,1),rotationX:f(e.frame_999.rotationX,0),rotationY:f(e.frame_999.rotationY,0),rotationZ:f(e.frame_999.rotationZ,0),skewX:f(e.frame_999.skewX,0),skewY:f(e.frame_999.skewY,0),blur:0,brightness:100,grayscale:0}}}function h(e,t){NRI="frame_0"===t?0:"frame_1"===t?1:2,(e=void 0===e?{}:e).chars=void 0===e.chars?{}:e.chars,e.words=void 0===e.words?{}:e.words,e.lines=void 0===e.lines?{}:e.lines,e.mask=void 0===e.mask?{}:e.mask,e.color=void 0===e.color?{}:e.color,e.bgcolor=void 0===e.bgcolor?{}:e.bgcolor;var i=f(e.grayscale,[0,0,0][NRI]),a=f(e.brightness,[100,100,100][NRI]),r=f(e.blur,[0,0,0][NRI]),s=0!==parseInt(i,0)||100!==parseInt(a,0)||0!==parseInt(r,0),o={alias:f(e.alias,RVS_LANG.onstage),filter:{use:s,grayscale:i,brightness:a,blur:r},transform:{x:RVS.F.cToResp({default:f(e.x,[0,0,"inherit"][NRI])}),y:RVS.F.cToResp({default:f(e.y,[0,0,"inherit"][NRI])}),z:f(e.z,[0,0,"inherit"][NRI]),scaleX:f(e.scaleX,[1,1,"inherit"][NRI]),scaleY:f(e.scaleY,[1,1,"inherit"][NRI]),opacity:f(e.opacity,[0,1,"inherit"][NRI]),rotationX:f(e.rotationX,[0,0,"inherit"][NRI]),rotationY:f(e.rotationY,[0,0,"inherit"][NRI]),rotationZ:f(e.rotationZ,[0,0,"inherit"][NRI]),skewX:f(e.skewX,[0,0,"inherit"][NRI]),skewY:f(e.skewY,[0,0,"inherit"][NRI]),originX:f(e.originX,["50%","50%","50%"][NRI]),originY:f(e.originY,["50%","50%","50%"][NRI]),originZ:f(e.originZ,["0","0","0"][NRI]),transformPerspective:f(e.transformPerspective,["600px","600px","600px"][NRI]),clip:f(e.clip,[100,100,"inherit"][NRI]),clipB:f(e.clipB,[100,100,"inherit"][NRI])},reverseDirection:{x:f(e.rx,!1),y:f(e.ry,!1),rotationX:f(e.rrotationX,!1),rotationY:f(e.rrotationY,!1),rotationZ:f(e.rrotationZ,!1),skewX:f(e.rskewX,!1),skewY:f(e.rskewY,!1),maskX:f(e.rmaskX,!1),maskY:f(e.rmaskY,!1),charsX:f(e.crx,!1),charsY:f(e.cry,!1),charsDirection:f(e.crsd,!1),wordsX:f(e.wrx,!1),wordsY:f(e.wry,!1),wordsDirection:f(e.wrsd,!1),linesX:f(e.lrx,!1),linesY:f(e.lry,!1),linesDirection:f(e.lrsd,!1)},mask:{use:f(e.mask.use,!1),x:RVS.F.cToResp({default:f(e.mask.x,[0,0,"inherit"][NRI])}),y:RVS.F.cToResp({default:f(e.mask.y,[0,0,"inherit"][NRI])})},color:{color:f(e.color.color,"#ffffff"),use:f(e.color.use,!1)},bgcolor:{backgroundColor:f(e.bgcolor.backgroundColor,"transparent"),use:f(e.bgcolor.use,!1)},timeline:{actionTriggered:f(e.actionTriggered,!1),ease:f(e.ease,"Power3.easeInOut"),speed:f(e.speed,300),start:f(e.start,0),startRelative:f(e.startRelative,0),endWithSlide:f(e.endWithSlide,!1)},chars:{ease:f(e.chars.ease,"inherit"),use:f(e.chars.use,!1),direction:f(e.chars.direction,"forward"),delay:f(e.chars.delay,5),x:RVS.F.cToResp({default:f(e.chars.x,[0,0,"inherit"][NRI])}),y:RVS.F.cToResp({default:f(e.chars.y,[0,0,"inherit"][NRI])}),z:f(e.chars.z,[0,0,"inherit"][NRI]),scaleX:f(e.chars.scaleX,[1,1,"inherit"][NRI]),scaleY:f(e.chars.scaleY,[1,1,"inherit"][NRI]),opacity:f(e.chars.opacity,"inherit"),rotationX:f(e.chars.rotationX,[0,0,"inherit"][NRI]),rotationY:f(e.chars.rotationY,[0,0,"inherit"][NRI]),rotationZ:f(e.chars.rotationZ,[0,0,"inherit"][NRI]),skewX:f(e.chars.skewX,[0,0,"inherit"][NRI]),skewY:f(e.chars.skewY,[0,0,"inherit"][NRI]),originX:f(e.chars.originX,["50%","50%","inherit"][NRI]),originY:f(e.chars.originY,["50%","50%","inherit"][NRI]),originZ:f(e.chars.originZ,["0","0","inherit"][NRI]),fuse:f(e.chars.fuse,!1),blur:f(e.chars.blur,[0,0,0][NRI]),grayscale:f(e.chars.grayscale,[0,0,0][NRI]),brightness:f(e.chars.brightness,[100,100,100][NRI])},words:{ease:f(e.words.ease,"inherit"),use:f(e.words.use,!1),direction:f(e.words.direction,"forward"),delay:f(e.words.delay,5),x:RVS.F.cToResp({default:f(e.words.x,[0,0,"inherit"][NRI])}),y:RVS.F.cToResp({default:f(e.words.y,[0,0,"inherit"][NRI])}),z:f(e.words.z,[0,0,"inherit"][NRI]),scaleX:f(e.words.scaleX,[1,1,"inherit"][NRI]),scaleY:f(e.words.scaleY,[1,1,"inherit"][NRI]),opacity:f(e.words.opacity,"inherit"),rotationX:f(e.words.rotationX,[0,0,"inherit"][NRI]),rotationY:f(e.words.rotationY,[0,0,"inherit"][NRI]),rotationZ:f(e.words.rotationZ,[0,0,"inherit"][NRI]),skewX:f(e.words.skewX,[0,0,"inherit"][NRI]),skewY:f(e.words.skewY,[0,0,"inherit"][NRI]),originX:f(e.words.originX,["50%","50%","inherit"][NRI]),originY:f(e.words.originY,["50%","50%","inherit"][NRI]),originZ:f(e.words.originY,["0","0","inherit"][NRI]),fuse:f(e.words.fuse,!1),blur:f(e.words.blur,[0,0,0][NRI]),grayscale:f(e.words.grayscale,[0,0,0][NRI]),brightness:f(e.words.brightness,[100,100,100][NRI])},lines:{ease:f(e.lines.ease,"inherit"),use:f(e.lines.use,!1),direction:f(e.lines.direction,"forward"),delay:f(e.lines.delay,5),x:RVS.F.cToResp({default:f(e.lines.x,[0,0,"inherit"][NRI])}),y:RVS.F.cToResp({default:f(e.lines.y,[0,0,"inherit"][NRI])}),z:f(e.lines.z,[0,0,"inherit"][NRI]),scaleX:f(e.lines.scaleX,[1,1,"inherit"][NRI]),scaleY:f(e.lines.scaleY,[1,1,"inherit"][NRI]),opacity:f(e.lines.opacity,"inherit"),rotationX:f(e.lines.rotationX,[0,0,"inherit"][NRI]),rotationY:f(e.lines.rotationY,[0,0,"inherit"][NRI]),rotationZ:f(e.lines.rotationZ,[0,0,"inherit"][NRI]),skewX:f(e.lines.skewX,[0,0,"inherit"][NRI]),skewY:f(e.lines.skewY,[0,0,"inherit"][NRI]),originX:f(e.lines.originX,["50%","50%","inherit"][NRI]),originY:f(e.lines.originY,["50%","50%","inherit"][NRI]),originZ:f(e.lines.originY,["0","0","inherit"][NRI]),fuse:f(e.lines.fuse,!1),blur:f(e.lines.blur,[0,0,0][NRI]),grayscale:f(e.lines.grayscale,[0,0,0][NRI]),brightness:f(e.lines.brightness,[100,100,100][NRI])},sfx:{effect:f(e.effect,""),color:f(e.sfxcolor,"#ffffff")}};for(var n in o.sfx.effect="blockfrombottom"===o.sfx.effect?"blocktotop":"blockfromtop"===o.sfx.effect?"blocktobottom":"blockfromleft"===o.sfx.effect?"blocktoright":"blockfromright"===o.sfx.effect?"blocktoleft":"none",RVS.JHOOKS.defaultFrame)RVS.JHOOKS.defaultFrame.hasOwnProperty(n)&&(o=RVS.JHOOKS.defaultFrame[n](o));return o}function v(e){return"object"!=typeof e.transform.x&&(e.transform.x=RVS.F.cToResp({default:f(e.transform.x,0)})),"object"!=typeof e.transform.y&&(e.transform.y=RVS.F.cToResp({default:f(e.transform.y,0)})),"object"!=typeof e.mask.x&&(e.mask.x=RVS.F.cToResp({default:f(e.mask.x,0)})),"object"!=typeof e.mask.y&&(e.mask.y=RVS.F.cToResp({default:f(e.mask.y,0)})),"object"!=typeof e.chars.x&&(e.chars.x=RVS.F.cToResp({default:f(e.chars.x,"inherit")})),"object"!=typeof e.chars.y&&(e.chars.y=RVS.F.cToResp({default:f(e.chars.y,"inherit")})),"object"!=typeof e.words.x&&(e.words.x=RVS.F.cToResp({default:f(e.words.x,"inherit")})),"object"!=typeof e.words.y&&(e.words.y=RVS.F.cToResp({default:f(e.words.y,"inherit")})),"object"!=typeof e.lines.x&&(e.lines.x=RVS.F.cToResp({default:f(e.lines.x,"inherit")})),"object"!=typeof e.lines.y&&(e.lines.y=RVS.F.cToResp({default:f(e.lines.y,"inherit")})),e}RVS.F.initLayerBuilder=function(){RVS.C.slit=document.getElementById("selected_layers_icon_toolbar"),RVS.ENV.video_ph_url=RVS.ENV.img_ph_url=RVS.ENV.plugin_url+"admin/assets/images/transparent_placeholder.png",function(){RVS.LIB.LAYERANIMS.animSettings=e("#form_layer_animation_innerwrap");var t={in:"",out:"",loop:""};for(var i in RVS.LIB.LAYERANIMS)if(RVS.LIB.LAYERANIMS.hasOwnProperty(i)&&("in"===i||"out"===i||"loop"===i))for(var a in RVS.LIB.LAYERANIMS[i])if(RVS.LIB.LAYERANIMS[i].hasOwnProperty(a)){var r='<div id="lal_'+i+"_"+a+'" class="latransgroup '+(RVS.LIB.LAYERANIMS[i][a].custom?"custom_lainner_trans_"+a:"")+'"><div class="latransgroup_head"><span class="latransgroup_name">'+RVS.LIB.LAYERANIMS[i][a].group+'</span><div class="animation_drop_arrow"><i class="material-icons">arrow_drop_down</i></div></div><div class="lainner_transitions">';if(RVS.LIB.LAYERANIMS[i][a].custom)for(var s in r+='<div data-lindex="'+i+'" data-gindex="'+a+'" data-tindex="custom" class="layer_trans_liste dark_btn"><span class="cla_custom_name">'+RVS_LANG.savecurrenttemplate+'</span><input type="text" value="custom" class="cla_entername"><div class="custom_layer_animation_toolbar"><i class="cla_answer_yes material-icons">done</i><i class="cla_answer_no material-icons">close</i><i class="add_custom_layeranimation material-icons">add</i></div></div>',RVS.LIB.LAYERANIMS[i][a].amount=1,RVS.LIB.LAYERANIMS[i][a].transitions)RVS.LIB.LAYERANIMS[i][a].transitions.hasOwnProperty(s)&&(RVS.LIB.LAYERANIMS[i][a].transitions[s].customindex=void 0===RVS.LIB.LAYERANIMS[i][a].transitions[s].customindex?RVS.LIB.LAYERANIMS[i][a].amount:RVS.LIB.LAYERANIMS[i][a].transitions[s].customindex,r+='<div data-lindex="'+i+'" data-gindex="'+a+'" data-tindex="'+s+'" class="layer_trans_liste dark_btn"><span class="cla_custom_name">'+RVS.LIB.LAYERANIMS[i][a].transitions[s].name+'</span><div class="cla_message">'+RVS_LANG.overwritetemplate+'</div><input type="text" value="'+RVS.LIB.LAYERANIMS[i][a].transitions[s].name+'" class="cla_entername"><div class="custom_layer_animation_toolbar"><i class="cla_answer_yes material-icons">done</i><i class="cla_answer_no material-icons">close</i><i class="edit_custom_layeranimation material-icons">edit</i><i class="save_custom_layeranimation material-icons">save</i><i class="delete_custom_layeranimation material-icons">delete</i></div></div>',RVS.LIB.LAYERANIMS[i][a].amount=parseInt(RVS.LIB.LAYERANIMS[i][a].transitions[s].customindex,0)+1);else for(var s in RVS.LIB.LAYERANIMS[i][a].transitions)RVS.LIB.LAYERANIMS[i][a].transitions.hasOwnProperty(s)&&(r+='<div data-lindex="'+i+'" data-gindex="'+a+'" data-tindex="'+s+'" class="layer_trans_liste dark_btn">'+RVS.LIB.LAYERANIMS[i][a].transitions[s].name+"</div>");r+="</div></div>",t[i]+=r}RVS.LIB.LAYERANIMS.translists={0:e('<div id="layer_transliste_0" class="load_anim_value_wrap">'+t.in+"</div>"),999:e('<div id="layer_transliste_999" class="load_anim_value_wrap">'+t.out+"</div>")},e("#layer_transliste_loop").append(t.loop)}(),RVS.DOC.on("coloredit colorcancel",V),RVS.DOC.on("click",".convert_layer_into",function(){var t=this.dataset.into;if("none"!==t){for(var i in RVS.selLayers)RVS.selLayers.hasOwnProperty(i)&&(RVS.L[RVS.selLayers[i]].type=t,RVS.L[RVS.selLayers[i]]=RVS.F.addLayerObj(RVS.F.safeExtend(!0,RVS.F.addLayerObj(t,void 0,!1,!0),RVS.L[RVS.selLayers[i]])),RVS.H[RVS.selLayers[i]].w.remove(),delete RVS.H[RVS.selLayers[i]],RVS.F.buildHTMLLayer({uid:RVS.selLayers[i]}),RVS.F.drawHTMLLayer({uid:RVS.selLayers[i]}),e("#tllayerlist_element_276_"+RVS.selLayers[i]).find(".layerlist_element_type").html('<i class="material-icons">'+RVS.F.getLayerIcon(t)+"</i>"),RVS.F.showInfo({content:RVS_LANG.convertedlayer,type:"success",showdelay:0,hidedelay:2,hideon:"",event:""}));for(var a in window.lastselectedlayers=new Array,RVS.selLayers)RVS.selLayers.hasOwnProperty(a)&&lastselectedlayers.push(RVS.selLayers[a]);for(var a in RVS.F.showForms(RVS.eMode.menu,!0),lastselectedlayers)lastselectedlayers.hasOwnProperty(a)&&RVS.F.selectLayers({id:lastselectedlayers[a],overwrite:!1,action:"add"});RVS.F.updateInputFields()}}),RVS.DOC.on("updateLayerLoopTimelineframes",function(e,t){void 0!==t&&"updateAllLayerFrames"==t.eventparam&&RVS.F.updateAllLayerFrames(),RVS.F.updateLayerTimelineLoopLists()}),RVS.DOC.on("updateCustomCSSLayerInput",RVS.F.updateCustomCSS),RVS.DOC.on("showhidelayerlooping",function(t,i){e(".la_loopings_tab").hide(),e("#la_loopings_tab_"+i).show()}),RVS.DOC.on("redrawInnerHTML",function(e,t){RVS.F.redrawTextLayerInnerHTML(t.layerid)}),RVS.DOC.on("layerTextContentUpdate",function(t,i){if(void 0!==i&&void 0!==i.val)for(var a in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(a)){var r=RVS.selLayers[a];"text"!==RVS.L[r].type&&"button"!==RVS.L[r].type||(void 0!==RVS.H[r].splitText&&RVS.H[r].splitText.revert(),RVS.H[r].splitText=void 0,"placeholder"!==i.eventparam||0!==i.val.length&&""!==i.val&&" "!==i.val?void 0!==RVS.L[r].placeholder&&""!==RVS.L[r].placeholder&&"placeholder"!==i.eventparam||(RVS.H[r].c[0].innerHTML=e.inArray(RVS.L[r].idle.whiteSpace[RVS.screen].v,["normal","nowrap"])>=0?RVS.F.replaceMetas(i.val):RVS.F.replaceMetas(i.val.replace(/\r\n|\r|\n/g,"<br />"))):RVS.H[r].c[0].innerHTML=e.inArray(RVS.L[r].idle.whiteSpace[RVS.screen].v,["normal","nowrap"])>=0?RVS.L[r].text:RVS.L[r].text.replace(/\r\n|\r|\n/g,"<br />"),RVS.F.drawHTMLLayer({uid:r,ignoreLayerAnimation:!0}),void 0!==RVS.H[r].splitText&&RVS.F.updateLayerFrames({layerid:r}))}}),RVS.DOC.on("input","#ta_layertext",function(){var t=this.value;for(var i in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(i)){var a=RVS.selLayers[i];"text"!==RVS.L[a].type&&"button"!==RVS.L[a].type||(void 0!==RVS.H[a].splitText&&RVS.H[a].splitText.revert(),RVS.H[a].splitText=void 0,RVS.H[a].c[0].innerHTML=e.inArray(RVS.L[a].idle.whiteSpace[RVS.screen].v,["normal","nowrap"])>=0?RVS.F.replaceMetas(t):RVS.F.replaceMetas(t.replace(/\r\n|\r|\n/g,"<br />")))}}),RVS.DOC.on("addBRtoTextLayer",function(t,i){var a=e("#ta_layertext")[0].selectionStart;for(var r in RVS.F.openBackupGroup({id:"insertlinebreak",txt:"Insert Line Break",icon:"subdirectory_arrow_right"}),RVS.selLayers)if(RVS.selLayers.hasOwnProperty(r)){var s=RVS.selLayers[r],o=RVS.S.slideId+".layers."+s+".text",n=RVS.L[s].text.substring(0,a),l=RVS.L[s].text.substring(a,RVS.L[s].text.length);RVS.F.updateSliderObj({path:o,val:n+"<br />"+l}),RVS.F.redrawTextLayerInnerHTML(s,!0)}RVS.F.closeBackupGroup({id:"insertlinebreak"}),RVS.F.updateInputFields()}),RVS.DOC.on("screenSelectorChanged",function(){for(var e in window.lastselectedlayers=new Array,RVS.selLayers)RVS.selLayers.hasOwnProperty(e)&&lastselectedlayers.push(RVS.selLayers[e]);if(RVS.SLIDER[RVS.S.slideId].slide.static.isstatic&&void 0!==RVS.S.lastShownSlideId){var t=RVS.S.slideId;for(var e in RVS.F.mainMode({mode:"slidelayout",slide:RVS.S.lastShownSlideId}),RVS.F.updateInputFields(),RVS.F.expandCollapseTimeLine(!0,"open"),RVS.F.mainMode({mode:"slidelayout",slide:t}),RVS.F.showForms(RVS.eMode.menu,!0),lastselectedlayers)lastselectedlayers.hasOwnProperty(e)&&RVS.F.selectLayers({id:lastselectedlayers[e],overwrite:!1,action:"add"})}RVS.F.updateAllHTMLLayerPositions(),RVS.F.updateInputFields(),RVS.F.expandCollapseTimeLine(!0,"open")}),RVS.DOC.on("sliderSizeChanged",function(){RVS.F.buildHTMLLayers(),RVS.F.updateCurTime({pos:!0,cont:!0,force:!0,left:0,refreshMainTimeLine:!0,caller:"GoToIdle"})}),RVS.DOC.on("updatelayerbgimage",RVS.F.updateLayerBgImage),RVS.DOC.on("updatelayerimagesrc",RVS.F.updateLayerImageSrc),RVS.DOC.on("resetVideoPlaceholder",RVS.F.resetVideoPlaceholder),RVS.DOC.on("syncVideoRatio",RVS.F.resyncVideoAspectRatio),RVS.DOC.on("lockMargin",function(e,t){RVS.F.lockUnlockMarginPadding(t,"margin",".#size#.v")}),RVS.DOC.on("lockPadding",function(e,t){RVS.F.lockUnlockMarginPadding(t,"padding",".#size#.v")}),RVS.DOC.on("lockBorder",function(e,t){RVS.F.lockUnlockMarginPadding(t,"borderWidth","")}),RVS.DOC.on("lockBorderRadius",function(e,t){RVS.F.lockUnlockMarginPadding(t,"borderRadius",".v")}),RVS.DOC.on("lockBorderHover",function(e,t){RVS.F.lockUnlockMarginPadding(t,"borderWidth","","hover")}),RVS.DOC.on("lockBorderRadiusHover",function(e,t){RVS.F.lockUnlockMarginPadding(t,"borderRadius",".v","hover")}),RVS.DOC.on("updateMarginInput",function(e,t){RVS.F.updateMarginPaddingValues(t,"margin",".#size#.v")}),RVS.DOC.on("updatePaddingInput",function(e,t){RVS.F.updateMarginPaddingValues(t,"padding",".#size#.v")}),RVS.DOC.on("updateBorderInput",function(e,t){RVS.F.updateMarginPaddingValues(t,"borderWidth","")}),RVS.DOC.on("updateBorderRadiusInput",function(e,t){RVS.F.updateMarginPaddingValues(t,"borderRadius",".v")}),RVS.DOC.on("updateBorderInputHover",function(e,t){RVS.F.updateMarginPaddingValues(t,"borderWidth","","hover")}),RVS.DOC.on("updateBorderRadiusInputHover",function(e,t){RVS.F.updateMarginPaddingValues(t,"borderRadius",".v","hover")}),RVS.DOC.on("updateFontFamily",function(e,t){t="fontweight"===t,RVS.F.checkUsedFonts(t)}),RVS.DOC.on("updateInputFields",function(e,t){RVS.F.updateInputFields()}),RVS.DOC.on("layerSizeChange",function(e,t){for(var i in RVS.F.changeLayerSizes({direction:t.eventparam,v:t.val}),RVS.selLayers)if(RVS.selLayers.hasOwnProperty(i)){var a=RVS.selLayers[i];RVS.F.updateHTMLLayerPosition({uid:a,updateValues:!1,lhCwidth:RVS.H[a].c.outerWidth(),lhCheight:RVS.H[a].c.outerHeight()})}}),RVS.DOC.on("audioControlOnOff",function(e,t){RVS.F.changeAudioLayerSize({v:t.val})}),RVS.DOC.on("disableAllMediaControls",function(e,t){RVS.F.changeMediaControlsInteraction({v:t.val})}),RVS.DOC.on("lockLayerRatio",function(e,t){RVS.F.lockUnlockLayerRatio(t)}),RVS.DOC.on("layerSizePreset",function(t,i){for(var a in RVS.F.openBackupGroup({id:"layerresize",txt:"Size Preset",icon:"photo_size_select_large"}),RVS.selLayers)if(RVS.selLayers.hasOwnProperty(a)){var r=RVS.L[RVS.selLayers[a]],s=RVS.S.slideId+".layers."+RVS.selLayers[a]+".";switch(RVS.F.updateSliderObj({path:s+"size.covermode",val:i.val}),e("#layer_covermode").val()){case"custom":if("image"===RVS.L[RVS.selLayers[a]].type){RVS.F.updateSliderObj({path:s+"size.scaleProportional",val:!0});var o=RVS.F.getProportionalSizes({proportional:!0,type:"fit",image:{width:r.size.originalWidth,height:r.size.originalHeight},viewPort:{width:r.size.width[RVS.screen].v,height:r.size.height[RVS.screen].v}});RVS.F.updateSliderObj({path:s+"size.width.#size#.v",val:o.width+"px"}),RVS.F.updateSliderObj({path:s+"size.height.#size#.v",val:o.height+"px"})}break;case"fullwidth":"image"===RVS.L[RVS.selLayers[a]].type&&RVS.F.updateSliderObj({path:s+"size.scaleProportional",val:!0}),RVS.F.updateSliderObj({path:s+"position.x.#size#.v",val:"0px"}),RVS.F.updateSliderObj({path:s+"size.width.#size#.v",val:"100%"});break;case"fullheight":"image"===RVS.L[RVS.selLayers[a]].type&&RVS.F.updateSliderObj({path:s+"size.scaleProportional",val:!0}),RVS.F.updateSliderObj({path:s+"position.y.#size#.v",val:"0px"}),RVS.F.updateSliderObj({path:s+"size.height.#size#.v",val:"100%"});break;case"cover-proportional":RVS.F.updateSliderObj({path:s+"size.scaleProportional",val:!0}),RVS.F.updateSliderObj({path:s+"position.x.#size#.v",val:"0px"}),RVS.F.updateSliderObj({path:s+"size.width.#size#.v",val:"100%"}),RVS.F.updateSliderObj({path:s+"position.y.#size#.v",val:"0px"}),RVS.F.updateSliderObj({path:s+"size.height.#size#.v",val:"100%"});break;case"cover":RVS.F.updateSliderObj({path:s+"size.scaleProportional",val:!1}),RVS.F.updateSliderObj({path:s+"position.x.#size#.v",val:"0px"}),RVS.F.updateSliderObj({path:s+"size.width.#size#.v",val:"100%"}),RVS.F.updateSliderObj({path:s+"position.y.#size#.v",val:"0px"}),RVS.F.updateSliderObj({path:s+"size.height.#size#.v",val:"100%"})}RVS.F.drawHTMLLayer({uid:RVS.selLayers[a]})}RVS.F.closeBackupGroup({id:"layerresize"}),RVS.F.updateInputFields()}),RVS.DOC.on("restoreLayersSize",function(e,t){for(var i in RVS.F.openBackupGroup({id:"layerresize",txt:"Restore Original Size",icon:"photo_size_select_large"}),RVS.selLayers)if(RVS.selLayers.hasOwnProperty(i)){var a=RVS.L[RVS.selLayers[i]],r=RVS.S.slideId+".layers."+RVS.selLayers[i]+".";switch(a.type){case"shape":RVS.F.updateSliderObj({path:r+"size.width.#size#.v",val:a.size.originalWidth+"px"}),RVS.F.updateSliderObj({path:r+"size.height.#size#.v",val:a.size.originalHeight+"px"});break;case"image":RVS.F.updateSliderObj({path:r+"size.width.#size#.v",val:a.size.originalWidth+"px"}),RVS.F.updateSliderObj({path:r+"size.height.#size#.v",val:a.size.originalHeight+"px"}),RVS.F.updateSliderObj({path:r+"size.scaleProportional",val:!0});break;case"video":RVS.F.updateSliderObj({path:r+"size.width.#size#.v",val:RVS.F.retWitSuf(a.size.originalWidth,"px")}),RVS.F.updateSliderObj({path:r+"size.height.#size#.v",val:RVS.F.retWitSuf(a.size.originalHeight,"px")}),RVS.F.updateSliderObj({path:r+"size.scaleProportional",val:!0});break;default:RVS.F.updateSliderObj({path:r+"size.width.#size#.v",val:"auto"}),RVS.F.updateSliderObj({path:r+"size.height.#size#.v",val:"auto"})}RVS.F.drawHTMLLayer({uid:RVS.selLayers[i]})}RVS.F.closeBackupGroup({id:"layerresize"}),RVS.F.updateInputFields()}),RVS.DOC.on("updateKeyFramesList",function(){if(0!==RVS.selLayers.length){RVS.S.keyFrame="idle"===RVS.S.keyFrame?RVS.L[RVS.selLayers[0]].timeline.frameToIdle:RVS.S.keyFrame,o=void 0===o?e("#le_keyframes_list_innerwrap"):o,s=void 0===s?e("#set_editor_view"):s,RVS.LIB.LAYERANIMS.animSettings[0].className="selected_"+RVS.S.keyFrame,RVS.LIB.LAYERANIMS.translists[0].detach(),RVS.LIB.LAYERANIMS.translists[999].detach();var t="";for(var i in RVS.F.getFrameOrder({layerid:RVS.selLayers[0]}),RVS.L[RVS.selLayers[0]].timeline.frameOrder)if(RVS.L[RVS.selLayers[0]].timeline.frameOrder.hasOwnProperty(i)){var a=RVS.L[RVS.selLayers[0]].timeline.frameOrder[i].id,r=parseInt(i,0)+1,n=RVS.S.keyFrame==a?" selected":"",l="frame_999"===a||"frame_0"===a?"":'<div data-evtparam="'+a+'" data-evt="addkeyframe" class="callEventButton basic_action_button add_frame_after"><i class="material-icons">add</i></div>';RVS.S.keyFrame==a&&p(r);var d="frame_0"===a?"IN":"frame_999"===a?"OUT":"TO",c="frame_0"===a||"frame_999"===a?'<i class="material-icons">arrow_drop_down</i>':'<i class="emptyspace20"></i>',S=a===RVS.L[RVS.selLayers[0]].timeline.frameToIdle?'<i class="material-icons">visibility</i>':"",u=""!==S?"with_icon":"";t+='<li id="keyframe_list_el_'+a+'" class="keyframe_liste keyframe_liste_dyn '+n+'" data-framenr="'+r+'" data-frame="'+a+'"><div class="keyframe_CP_wrap" data-frame="'+a+'"><div class="keyframe_CP_toggle"><i class="material-icons">more_vert</i></div></div><div class="keyframe_liste_inner"><span class="frame_list_id">'+d+c+'</span><span class="frame_list_title '+u+'">'+S+RVS.L[RVS.selLayers[0]].timeline.frames[a].alias+"</span>"+l+"</div></li>"}RVS.L[RVS.selLayers[0]].timeline.frameToIdle===RVS.S.keyFrame?s.addClass("disabled"):s.removeClass("disabled"),o[0].innerHTML=t,RVS.L[RVS.selLayers[0]].timeline.tloop.use&&RVS.F.updateLayerTimelineLoopLists(),RVS.F.updateFrameOptionsVisual()}}),RVS.DOC.on("click",".keyframe_liste",function(){RVS.F.setKeyframeSelected(this.dataset.frame)}),RVS.DOC.on("click",".frame_list_eview",function(){var e=RVS.S.slideId+".layers."+RVS.selLayers[0]+".timeline.frameToIdle";RVS.F.updateSliderObj({path:e,val:this.dataset.frame}),RVS.DOC.trigger("updateKeyFramesList")}),RVS.DOC.on("addkeyframe",function(t,i){if(0!==RVS.selLayers.length){var a=RVS.selLayers[0],r=function(e){var t=0;for(var i in RVS.L[e.layerid].timeline.frames)if(RVS.L[e.layerid].timeline.frames.hasOwnProperty(i)){var a=parseInt(i.split("frame_")[1],0);t=t<=a&&a<998?a+1:t}return"frame_"+t}({layerid:a}),s=RVS.F.getPrevNextFrame({layerid:a,frame:i});if(s.next.start>s.cur.end+500){RVS.F.openBackupGroup({id:"AddLayerFrame",txt:"Add KeyFrame",icon:"theaters"}),RVS.L[a].timeline.frames[r]=h({speed:400,start:s.cur.end+100,alias:RVS_LANG.animateto},r);try{RVS.L[a].timeline.frames[r].transform.originX=RVS.L[a].timeline.frames[i].transform.originX,RVS.L[a].timeline.frames[r].transform.originY=RVS.L[a].timeline.frames[i].transform.originY,RVS.L[a].timeline.frames[r].transform.originZ=RVS.L[a].timeline.frames[i].transform.originZ,RVS.L[a].timeline.frames[r].chars.originX=RVS.L[a].timeline.frames[i].chars.originX,RVS.L[a].timeline.frames[r].chars.originY=RVS.L[a].timeline.frames[i].chars.originY,RVS.L[a].timeline.frames[r].chars.originZ=RVS.L[a].timeline.frames[i].chars.originZ,RVS.L[a].timeline.frames[r].words.originX=RVS.L[a].timeline.frames[i].words.originX,RVS.L[a].timeline.frames[r].words.originY=RVS.L[a].timeline.frames[i].words.originY,RVS.L[a].timeline.frames[r].words.originZ=RVS.L[a].timeline.frames[i].words.originZ,RVS.L[a].timeline.frames[r].lines.originX=RVS.L[a].timeline.frames[i].lines.originX,RVS.L[a].timeline.frames[r].lines.originY=RVS.L[a].timeline.frames[i].lines.originY,RVS.L[a].timeline.frames[r].lines.originZ=RVS.L[a].timeline.frames[i].lines.originZ}catch(t){console.log(t)}RVS.L[a].timeline.frames[r].color=RVS.F.safeExtend(!0,{},RVS.L[a].timeline.frames[i].color),RVS.L[a].timeline.frames[r].filter=RVS.F.safeExtend(!0,{},RVS.L[a].timeline.frames[i].filter),RVS.F.backup({path:a+".timeline.frames."+r,cache:void 0,icon:"theaters",txt:"Add Layer Keyframe",lastkey:r,layer:a,slide:RVS.S.slideId,frame:r,force:!0,val:RVS.L[a].timeline.frames[r],old:{},backupType:"frame",bckpGrType:"AddLayerFrame"}),RVS.F.closeBackupGroup({id:"AddLayerFrame"}),RVS.F.addLayerFrameOnDemand(RVS.L[a],e("#tllayerlist_element_"+RVS.S.slideId+"_"+a),r),RVS.F.getFrameOrder({layerid:a}),RVS.F.updateFramesZIndexes({layerid:a}),RVS.DOC.trigger("updateKeyFramesList"),RVS.S.keyFrame=r,setTimeout(function(){RVS.F.setKeyframeSelected(r)},20)}else RVS.F.showInfo({content:RVS_LANG.notenoughspaceontimeline,type:"warning",showdelay:0,hidedelay:2,hideon:"",event:""})}}),RVS.DOC.on("click","#remove_keyframe",function(){var t=RVS.selLayers[0];RVS.F.openBackupGroup({id:"RemoveLayerFrame",txt:"Remove KeyFrame",icon:"theaters"}),RVS.F.backup({path:t+".timeline.frames."+RVS.S.keyFrame,cache:void 0,icon:"theaters",txt:"Remove Layer Keyframe",lastkey:RVS.S.keyFrame,layer:t,slide:RVS.S.slideId,frame:RVS.S.keyFrame,force:!0,val:{},old:RVS.L[t].timeline.frames[RVS.S.keyFrame],backupType:"frame",bckpGrType:"RemoveLayerFrame"}),delete RVS.L[t].timeline.frames[RVS.S.keyFrame],e("#"+RVS.S.slideId+"_"+t+"_"+RVS.S.keyFrame).remove(),RVS.S.keyFrame===RVS.L[t].timeline.frameToIdle&&RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+t+".timeline.frameToIdle",val:"frame_1"}),RVS.S.keyFrame="frame_1",RVS.F.getFrameOrder({layerid:t}),RVS.F.updateFramesZIndexes({layerid:t}),RVS.DOC.trigger("updateKeyFramesList"),RVS.F.closeBackupGroup({id:"RemoveLayerFrame"})}),RVS.DOC.on("click","#set_editor_view",function(){var e=RVS.selLayers[0];RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+e+".timeline.frameToIdle",val:RVS.S.keyFrame}),RVS.F.getFrameOrder({layerid:e}),RVS.F.updateFramesZIndexes({layerid:e}),RVS.DOC.trigger("updateKeyFramesList"),RVS.F.renderLayerAnimation({layerid:RVS.selLayers[0]})}),RVS.DOC.on("click",".transtarget_selector",function(){e(".transtarget_selector").removeClass("selected"),this.className+=" selected",e(".group_transsettings").hide(),e(this.dataset.showtrans).show(),RVS.S.frameTrgt=this.dataset.frametarget}),RVS.DOC.on("click",".looptarget_selector",function(){e(".looptarget_selector").removeClass("selected"),this.className+=" selected",e(".group_loopsettings").hide(),e(this.dataset.showloop).show()}),RVS.DOC.on("click",".keyframe_CP_wrap",function(){return window.frameCopyPaste=void 0===window.frameCopyPaste?{cache:void 0,tool:void 0}:window.frameCopyPaste,window.frameCopyPaste.frame="frame_0"===this.dataset.frame?"frame_1":this.dataset.frame,window.frameCopyPaste.layerid=RVS.selLayers[0],void 0===window.frameCopyPaste.tool&&(e("body").append('<div id="frame_copypaste_tool"><div class="copyframe">'+RVS_LANG.copy+'</div><div class="pasteframe">'+RVS_LANG.paste+"</div></div>"),window.frameCopyPaste.tool=e("#frame_copypaste_tool")),void 0!==window.frameCopyPaste.cache?window.frameCopyPaste.tool.addClass("copy_and_paste"):window.frameCopyPaste.tool.removeClass("copy_and_paste"),window.frameCopyPaste.visible=!0,punchgs.TweenMax.set(window.frameCopyPaste.tool,{display:"block",top:e(this).offset().top}),!1}),RVS.DOC.on("click",".copyframe",function(){return"frame_1"===window.frameCopyPaste.frame?window.frameCopyPaste.cache_0=RVS.F.safeExtend(!0,{},RVS.L[window.frameCopyPaste.layerid].timeline.frames.frame_0):delete window.frameCopyPaste.cache_0,window.frameCopyPaste.cache=RVS.F.safeExtend(!0,{},RVS.L[window.frameCopyPaste.layerid].timeline.frames[window.frameCopyPaste.frame]),window.frameCopyPaste.clipPath=RVS.F.safeExtend(!0,{},RVS.L[window.frameCopyPaste.layerid].timeline.clipPath),window.frameCopyPaste.splitlen=RVS.F.getSplitDelay({layerid:window.frameCopyPaste.layerid,frame:window.frameCopyPaste.frame}),window.frameCopyPaste.len=RVS.F.addT([window.frameCopyPaste.cache.timeline.speed,window.frameCopyPaste.splitlen]),punchgs.TweenMax.set(window.frameCopyPaste.tool,{display:"none"}),window.frameCopyPaste.visible=!1,!1}),RVS.DOC.on("click",".pasteframe",function(){var e=RVS.selLayers[0],t=RVS.L[window.frameCopyPaste.layerid].timeline.frames[window.frameCopyPaste.frame],i=RVS.L[window.frameCopyPaste.layerid].timeline.clipPath,a=void 0!==window.frameCopyPaste.cache_0?RVS.L[window.frameCopyPaste.layerid].timeline.frames.frame_0:void 0,r=RVS.F.getPrevNextFrame({layerid:e,frame:window.frameCopyPaste.frame}),s=RVS.F.addT([t.timeline.start,window.frameCopyPaste.len]);if(r.next.start>s){RVS.F.openBackupGroup({id:"updateFrame",txt:"Copy Paste KeyFrame",icon:"theaters"});var o=RVS.F.safeExtend(!0,window.frameCopyPaste.cache,{alias:t.timeline.alias,timeline:{start:t.timeline.start}}),n=RVS.F.safeExtend(!0,{},window.frameCopyPaste.clipPath),l=void 0!==window.frameCopyPaste.cache_0?RVS.F.safeExtend(!0,window.frameCopyPaste.cache_0,{alias:a.timeline.alias,timeline:{start:a.timeline.start}}):void 0;"frame_999"!==window.frameCopyPaste.frame&&(o.timeline.endWithSlide=!1,o.timeline.auto=!1),RVS.F.backup({lastkey:window.frameCopyPaste.frame,frame:window.frameCopyPaste.frame,layer:window.frameCopyPaste.layerid,path:window.frameCopyPaste.layerid+".timeline.frames."+window.frameCopyPaste.frame,cache:void 0,icon:"theaters",txt:"Copy Paste KeyFrame",slide:RVS.S.slideId,force:!0,val:o,old:t,backupType:"singleFrame",bckpGrType:"updateFrame"}),RVS.L[window.frameCopyPaste.layerid].timeline.frames[window.frameCopyPaste.frame]=RVS.F.safeExtend(!0,{},o),RVS.F.backup({lastkey:window.frameCopyPaste.clipPath,layer:window.frameCopyPaste.layerid,path:window.frameCopyPaste.layerid+".timeline.clipPath",cache:void 0,icon:"theaters",txt:"Copy Paste clipPath",slide:RVS.S.slideId,force:!0,val:n,old:i,backupType:"clipPath",bckpGrType:"updateFrame"}),RVS.L[window.frameCopyPaste.layerid].timeline.clipPath=RVS.F.safeExtend(!0,{},n),void 0!==a&&(RVS.F.backup({lastkey:"frame_0",frame:"frame_0",layer:window.frameCopyPaste.layerid,path:window.frameCopyPaste.layerid+".timeline.frames.frame_0",cache:void 0,icon:"theaters",txt:"Copy Paste KeyFrame",slide:RVS.S.slideId,force:!0,val:l,old:a,backupType:"singleFrame",bckpGrType:"updateFrame"}),RVS.L[window.frameCopyPaste.layerid].timeline.frames.frame_0=RVS.F.safeExtend(!0,{},l)),RVS.F.closeBackupGroup({id:"updateFrame"}),RVS.F.updateAllLayerFrames(),RVS.F.renderLayerAnimation({layerid:window.frameCopyPaste.layerid}),RVS.F.updateTimeLine({force:!0,state:"time",time:RVS.TL.cache.main,timeline:"main",forceFullLayerRender:!0,updateCurTime:!0})}else RVS.F.showInfo({content:RVS_LANG.notenoughspaceontimeline,type:"warning",showdelay:0,hidedelay:2,hideon:"",event:""})}),RVS.DOC.on("mouseleave","#frame_copypaste_tool",function(){punchgs.TweenMax.set(window.frameCopyPaste.tool,{display:"none"}),window.frameCopyPaste.visible=!1}),RVS.DOC.on("checkEnterFrameLevels",function(e,t){if(void 0!==t&&void 0!==t.layerid&&("frame_1"===RVS.S.keyFrame||"frame_0"===RVS.S.keyFrame)){var i="frame_0"===RVS.S.keyFrame?"frame_1":"frame_0";RVS.L[t.layerid].timeline.frames[RVS.S.keyFrame].chars.use&&(RVS.L[t.layerid].timeline.frames[i].chars.use=!0),RVS.L[t.layerid].timeline.frames[RVS.S.keyFrame].words.use&&(RVS.L[t.layerid].timeline.frames[i].words.use=!0),RVS.L[t.layerid].timeline.frames[RVS.S.keyFrame].lines.use&&(RVS.L[t.layerid].timeline.frames[i].lines.use=!0),RVS.L[t.layerid].timeline.frames[RVS.S.keyFrame].mask.use&&(RVS.L[t.layerid].timeline.frames[i].mask.use=!0)}for(var a in RVS.F.updateFrameOptionsVisual(),RVS.selLayers)RVS.selLayers.hasOwnProperty(a)&&(RVS.F.updateLayerFrame({layerid:parseInt(RVS.selLayers[a],0),frame:"frame_0"!==RVS.S.keyFrame?RVS.S.keyFrame:"frame_1"}),RVS.F.updateFrameRealSpeed())}),RVS.DOC.on("click",".layer_transliste_head",function(){var t=this.parentNode.className.indexOf("open")>=0;e(".layer_transliste").removeClass("open"),t||(this.parentNode.className+=" open")}),RVS.DOC.on("click",".frame_list_id",function(){e("#keyframe_list_el_frame_0").append(RVS.LIB.LAYERANIMS.translists[0]),e("#keyframe_list_el_frame_999").append(RVS.LIB.LAYERANIMS.translists[999]);var t=this.parentNode.parentNode.className.indexOf("open")>=0;return e(".keyframe_liste").removeClass("open"),t||(this.parentNode.parentNode.className+=" open"),!1}),RVS.DOC.on("click",".latransgroup_head",function(){var t=this.parentNode.className.indexOf("open")>=0;return e(".latransgroup").removeClass("open"),t||(this.parentNode.className+=" open"),!1}),RVS.DOC.on("mouseover",".load_anim_value_wrap",function(){window.timelineTemporaryCached||(window.timelineTemporaryCached=!0,RVS.L[RVS.selLayers[0]].timelinecache=RVS.F.safeExtend(!0,{},RVS.L[RVS.selLayers[0]].timeline))}),RVS.DOC.on("mouseleave",".load_anim_value_wrap",function(){window.timelineTemporaryCached=!1,void 0!==RVS.L[RVS.selLayers[0]].timelinecache&&(RVS.L[RVS.selLayers[0]].timeline=RVS.F.safeExtend(!0,{},RVS.L[RVS.selLayers[0]].timelinecache)),delete RVS.L[RVS.selLayers[0]].timelinecache,clearTimeout(window.timelineTemporaryUpdate),window.timelineTemporaryUpdate=setTimeout(function(){RVS.F.updateLayerFrames({layerid:RVS.selLayers[0]})},50),RVS.S.shwLayerAnim?RVS.F.playLayerAnimation({layerid:RVS.selLayers[0]}):RVS.F.stopAllLayerAnimation(),RVS.F.buildMainTimeLine(),RVS.TL.cache.main<=0?RVS.F.updateCurTime({pos:!0,cont:!0,force:!0,left:0,refreshMainTimeLine:!0,caller:"load_anim_value_left"}):RVS.F.updateTimeLine({force:!0,state:"time",time:RVS.TL.cache.main,timeline:"main",forceFullLayerRender:!0,updateCurTime:!0})}),RVS.DOC.on("mouseover",".layer_trans_liste",function(){if("custom"===this.dataset.tindex)return!1;void 0!==RVS.L[RVS.selLayers[0]].timelinecache&&(R(RVS.LIB.LAYERANIMS[this.dataset.lindex][this.dataset.gindex].transitions[this.dataset.tindex]),RVS.F.renderLayerAnimation({layerid:RVS.selLayers[0]}),RVS.F.playLayerAnimation({layerid:RVS.selLayers[0]}))}),RVS.DOC.on("click",".layer_trans_liste",function(){if(void 0!==RVS.L[RVS.selLayers[0]].timelinecache){if("custom"===this.dataset.tindex){var t=e(this);return this.dataset.mode="create",t.addClass("cla_showentername"),t.find("input").focus().select(),RVS.S.waitOnFeedback={allowed:["cla_entername","cla_answer_yes","cla_answer_no"],closeEvent:"hideCustomLayerNameEntering"},RVS.F.addBodyClickListener(),!1}return RVS.F.changeLayerAnimation({direction:this.dataset.lindex,group:this.dataset.gindex,transition:this.dataset.tindex,fromLayerTransListe:!0}),!1}}),RVS.DOC.on("hideCustomLayerNameEntering",function(){e(".cla_showentername").removeClass("cla_showentername")}),RVS.DOC.on("click",".edit_custom_layeranimation",function(){var t=void 0!==this.dataset.evt?e(this).closest(".presets_listelement"):e(this).closest(".layer_trans_liste");return t[0].dataset.mode="rename",t.addClass("cla_showentername"),t.find("input").focus().select(),RVS.S.waitOnFeedback={allowed:["cla_entername","cla_answer_yes","cla_answer_no"],closeEvent:"hideCustomLayerNameEntering"},RVS.F.addBodyClickListener(),!1}),RVS.DOC.on("click",".delete_custom_layeranimation",function(){var t=void 0!==this.dataset.evt?e(this).closest(".presets_listelement"):e(this).closest(".layer_trans_liste");return t[0].dataset.mode="delete",t.addClass("cla_showmessage"),t.find(".cla_message").text(RVS_LANG.deletetemplate),RVS.S.waitOnFeedback={allowed:["cla_answer_yes","cla_answer_no"],closeEvent:"hideCustomLayerNameEntering"},RVS.F.addBodyClickListener(),!1}),RVS.DOC.on("click",".save_custom_layeranimation",function(){var t=void 0!==this.dataset.evt?e(this).closest(".presets_listelement"):e(this).closest(".layer_trans_liste");return t[0].dataset.mode="overwrite",t.addClass("cla_showmessage"),t.find(".cla_message").text(RVS_LANG.overwritetemplate),RVS.S.waitOnFeedback={allowed:["cla_answer_yes","cla_answer_no"],closeEvent:"hideCustomLayerNameEntering"},RVS.F.addBodyClickListener(),!1}),RVS.DOC.on("click",".cla_answer_no",function(){return RVS.S.waitOnFeedback=void 0,e("body").unbind("click.revbuilderbodyclick"),e(".cla_showentername").removeClass("cla_showentername"),e(".cla_showmessage").removeClass("cla_showmessage"),!1}),RVS.DOC.on("click",".cla_answer_yes",function(){if(void 0!==this.dataset.evt){var t=e(this).closest(".presets_listelement"),i=t[0].dataset.mode,a=t.find(".cla_entername").val();"create"===i&&(n=e('<div data-custom="true" data-evt="'+this.dataset.evt+'" class="presets_listelement dark_btn"><span class="cla_custom_name">'+a+'</span><div class="cla_message">'+RVS_LANG.overwritetemplate+'</div><input data-evt="'+this.dataset.evt+'" type="text" value="'+a+'" class="cla_entername"><div class="custom_layer_animation_toolbar"><i data-evt="'+this.dataset.evt+'" class="cla_answer_yes material-icons">done</i><i data-evt="'+this.dataset.evt+'" class="cla_answer_no material-icons">close</i><i data-evt="'+this.dataset.evt+'" class="edit_custom_layeranimation material-icons">edit</i><i data-evt="'+this.dataset.evt+'" class="save_custom_layeranimation material-icons">save</i><i data-evt="'+this.dataset.evt+'" class="delete_custom_layeranimation material-icons">delete</i></div></div>'),t.closest(".presets_listelements").append(n)),RVS.DOC.trigger(this.dataset.evt,{mode:i,element:n,pl:t,key:t[0].dataset.key,newname:a})}else{var r=e(this).closest(".layer_trans_liste"),i=r[0].dataset.mode,s=RVS.LIB.LAYERANIMS[r[0].dataset.lindex][r[0].dataset.gindex];switch(i){case"rename":case"overwrite":case"create":var o,n,a=r.find(".cla_entername").val(),l={name:a};"custom"!==r.data("tindex")&&"create"!==i||(n=e('<div data-lindex="'+r.data("lindex")+'" data-gindex="'+r.data("gindex")+'" class="layer_trans_liste dark_btn"><span class="cla_custom_name">'+a+'</span><div class="cla_message">'+RVS_LANG.overwritetemplate+'</div><input type="text" value="'+a+'" class="cla_entername"><div class="custom_layer_animation_toolbar"><i class="cla_answer_yes material-icons">done</i><i class="cla_answer_no material-icons">close</i><i class="edit_custom_layeranimation material-icons">edit</i><i class="save_custom_layeranimation material-icons">save</i><i class="delete_custom_layeranimation material-icons">delete</i></div></div>'),r.closest(".lainner_transitions").append(n)),"overwrite"!==i&&"custom"!==r.data("tindex")&&"create"!==i||("in"===r.data("lindex")?(l.frame_0=u(RVS.F.safeExtend(!0,{},RVS.L[RVS.selLayers[0]].timelinecache.frames.frame_0)),l.frame_1=u(RVS.F.safeExtend(!0,{},RVS.L[RVS.selLayers[0]].timelinecache.frames.frame_1))):"out"===r.data("lindex")?l.frame_999=u(RVS.F.safeExtend(!0,{},RVS.L[RVS.selLayers[0]].timelinecache.frames.frame_999)):"loop"===r.data("lindex")&&((l=u(RVS.F.safeExtend(!0,{},RVS.L[RVS.selLayers[0]].timelinecache.loop))).name=a)),"overwrite"!==i&&"rename"!=i||(o=r.data("tindex")),"rename"===i&&(l=s.transitions[o],s.transitions[o].name=a),RVS.F.ajaxRequest("save_animation",{id:o,obj:l,type:r[0].dataset.lindex},function(e){e.success&&(s.transitions[e.id]=l,"custom"!==r.data("tindex")&&"create"!==i||(n[0].dataset.tindex=e.id),"rename"===i&&r.find(".cla_custom_name").text(a))});break;case"delete":RVS.F.ajaxRequest("delete_animation",{id:r[0].dataset.tindex},function(e){e.success&&(delete s.transitions[r[0].dataset.tindex],r.remove())})}}return RVS.S.waitOnFeedback=void 0,e("body").unbind("click.revbuilderbodyclick"),e(".cla_showentername").removeClass("cla_showentername"),e(".cla_showmessage").removeClass("cla_showmessage"),!1})},RVS.F.updateCustomCSS=function(){"FAIL"!==window.customLayerCss_editor&&("undefined"==typeof CodeMirror?(RVS.F.showWaitAMinute({fadeIn:500,text:RVS_LANG.loadingcodemirror}),RVS.F.loadCSS(RVS.ENV.plugin_url+"/admin/assets/css/codemirror.css"),e.getScript(RVS.ENV.plugin_url+"/admin/assets/js/plugins/codemirror.js",function(){setTimeout(function(){RVS.F.showWaitAMinute({fadeOut:500})},100),RVS.F.updateCustomCSS()}).fail(function(e,t,i){setTimeout(function(){RVS.F.showWaitAMinute({fadeOut:500})},100),window.customLayerCss_editor="FAIL"})):void 0===window.customLayerCss_editor?(window.customLayerCss_editor=CodeMirror(document.getElementById("custom_css_layer_area"),{value:"",mode:"css",theme:"hopscotch",lineWrapping:!0,lineNumbers:!1}),window.customLayerCss_editor.on("focus",function(){window.customLayerCss_editor.refresh()}),window.customLayerCss_editor.on("change",function(e,t){RVS.L[RVS.selLayers[0]].customCSS=window.customLayerCss_editor.getValue()}),setTimeout(RVS.F.updateCustomCSS,200)):void 0===window.customHoverLayerCss_editor?(window.customHoverLayerCss_editor=CodeMirror(document.getElementById("custom_css_hover_layer_area"),{value:"",mode:"css",theme:"hopscotch",lineWrapping:!0,lineNumbers:!1}),window.customHoverLayerCss_editor.on("focus",function(){window.customHoverLayerCss_editor.refresh()}),window.customHoverLayerCss_editor.on("change",function(e,t){RVS.L[RVS.selLayers[0]].customHoverCSS=window.customHoverLayerCss_editor.getValue()}),setTimeout(RVS.F.updateCustomCSS,200)):RVS.F.updateCusCSSContent())},RVS.F.updateCusCSSContent=function(){RVS.selLayers.length>0&&null!=window.customLayerCss_editor&&(window.customLayerCss_editor.setValue(RVS.L[RVS.selLayers[0]].customCSS),setTimeout(function(){window.customLayerCss_editor.refresh()},200)),RVS.selLayers.length>0&&void 0!==window.customHoverLayerCss_editor&&(window.customHoverLayerCss_editor.setValue(RVS.L[RVS.selLayers[0]].customHoverCSS),setTimeout(function(){window.customHoverLayerCss_editor.refresh()},200))},RVS.F.compareGoogleFontName=function(i,a){if(void 0!==i&&""!==i&&0!=i.length){t=void 0===t?{source:[],result:[]}:t;var r=e.inArray(i,t.source),s=0;if(r>=0)return t.result[r];for(r=!1,t.source.push(i);s<RVS.LIB.FONTS.length&&!r;)(i===RVS.LIB.FONTS[s].labelLowerCase||i===RVS.LIB.FONTS[s].label||a&&i.toLowerCase()===RVS.LIB.FONTS[s].labelLowerCase)&&(i=RVS.LIB.FONTS[s].label,r=!0),s++;return t.result.push(i),i}},RVS.F.initFontTypes=function(t){RVS.LIB.FONTS=e.parseJSON(t);var i=e("#layer_fontfamily");for(var a in RVS.LIB.FONTS)if(RVS.LIB.FONTS.hasOwnProperty(a)){var s=RVS.LIB.FONTS[a];"Dont Show Me"!==s.label&&i.append("<option value='"+s.label+"'>"+s.label.replace(/\"/g,"")+"</option>"),s.labelLowerCase=s.label.toLowerCase()}i.trigger("change.select2RS"),void 0===n&&(n=!0,RVS.DOC.on("mouseenter",".select2RS-container--fontfamily .select2RS-results__option",function(){void 0===this.dataset.val&&(this.dataset.val=this.innerHTML);var e=this.dataset.val.replace(/\ /g,"_");r=this.dataset.val,void 0!==l[e]&&RVS.F.showTextLayerWithFont({family:r})}),RVS.DOC.on("mouseleave",".select2RS-container--fontfamily",function(){RVS.F.resetFontFamiliesOnSelectedLayers()}))},RVS.F.checkAvailableFontWeights=function(t){if(0!==RVS.selLayers.length){i=void 0===i?e("#layer_fontweight_idle"):i,void 0===a&&(a=[],i.find("option").each(function(){a.push({option:this,state:!0})}));var r=[];for(var s in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(s)){var o=RVS.selLayers[s];"text"!==(m=RVS.L[o]).type&&"button"!==m.type||-1==e.inArray(m.idle.fontFamily,r)&&r.push({family:m.idle.fontFamily,weights:[]})}for(var n in a)a.hasOwnProperty(n)&&(i.find('option[value="'+a[n].option.value+'"]').removeAttr("disabled"),a[n].state=!0);for(var l in r)if(r.hasOwnProperty(l)){var c=r[l].family;if(c.length>0)for(var S in RVS.LIB.FONTS)if(RVS.LIB.FONTS.hasOwnProperty(S)){var p=RVS.LIB.FONTS[S];if(p.label===c)for(var n in a)if(a.hasOwnProperty(n)){var u=a[n].option.value;e.inArray(u,p.variants)>=0||"websafe"===p.type?r[l].weights.push(u):a[n].state&&(i.find('option[value="'+u+'"]').attr("disabled","disabled"),a[n].state=!1)}}}var R=!1,V=!1;for(var s in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(s)){var m;o=RVS.selLayers[s];if("text"===(m=RVS.L[o]).type||"button"===m.type){var f=-1;for(var l in r)r.hasOwnProperty(l)&&r[l].family==m.idle.fontFamily&&""!==r[l].family&&(f=l);if(f>=0)for(var y in RVS.V.sizes)if(RVS.V.sizes.hasOwnProperty(y)){var h=RVS.V.sizes[y];if(-1==e.inArray(m.idle.fontWeight[h].v,r[f].weights)){!1===V&&!1===RVS.S.bckpGrp&&(V=!1===RVS.S.bckpGrp?"started":"inProgress",RVS.F.openBackupGroup({id:"fontWeight",txt:"Font Weight",icon:"layers",lastkey:"layer"})),R=!0;var v=d({v:m.idle.fontWeight[h].v,a:r[f].weights});RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+o+".idle.fontWeight."+h+".v",val:v})}}}}"started"===V&&RVS.F.closeBackupGroup({id:"fontWeight"}),R&&RVS.F.updateEasyInputs({container:e("#form_layerstyle_font"),path:RVS.S.slideId+".layers.",trigger:"init",multiselection:!0}),t||(i.hasClass("select2RS-hidden-accessible")&&i.select2RS("destroy"),i.select2RS({minimumResultsForSearch:"Infinity",placeholder:"Select"}))}},RVS.F.showTextLayerWithFont=function(e){for(var t in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(t)){var i=RVS.selLayers[t],a=RVS.L[i],r=RVS.H[i].c;"text"!==a.type&&"button"!==a.type||r.css({fontFamily:e.family})}},RVS.F.resetFontFamiliesOnSelectedLayers=function(){for(var e in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(e)){var t=RVS.selLayers[e],i=RVS.L[t];"text"!==i.type&&"button"!==i.type||RVS.F.drawHTMLLayer({uid:t})}},RVS.F.getDashArray=function(t){return(e.isNumeric(t)||-1===t.indexOf(",")&&-1===t.indexOf(" ")||1===t.split(",").length||1===t.split(" ").length)&&(t=t+" "+t),t},RVS.F.drawHTMLLayer=function(t){var i=RVS.H[t.uid],a=RVS.L[t.uid],r=i.c[0].className.indexOf("placeholder_on")>=0;i.c[0].className="_lc_content_"+(r?" placeholder_on":"")+(void 0!==a.idle.style?" "+a.idle.style:"")+(void 0!==a.runtime.internalClass?" "+a.runtime.internalClass:"");var s={textAlign:a.idle.textAlign[RVS.screen].v,boxSizing:"border-box",transformStyle:"flat",fontFamily:a.idle.fontFamily||"Roboto",fontSize:parseInt(a.idle.fontSize[RVS.screen].v,0)+"px",lineHeight:parseInt(a.idle.lineHeight[RVS.screen].v,0)+"px",fontWeight:void 0===a.idle.fontWeight[RVS.screen].v?400:a.idle.fontWeight[RVS.screen].v,color:window.RSColor.get(a.idle.color[RVS.screen].v),letterSpacing:parseFloat(a.idle.letterSpacing[RVS.screen].v)+"px",fontStyle:"normal"===a.idle.fontStyle||!1===a.idle.fontStyle?"normal":"italic",textDecoration:a.idle.textDecoration,textTransform:a.idle.textTransform,borderColor:"column"===a.type?"transparent":window.RSColor.get(a.idle.borderColor),borderRadius:a.idle.borderRadius.v[0]+" "+a.idle.borderRadius.v[1]+" "+a.idle.borderRadius.v[2]+" "+a.idle.borderRadius.v[3]+" ",borderWidth:a.idle.borderWidth[0]+" "+a.idle.borderWidth[1]+" "+a.idle.borderWidth[2]+" "+a.idle.borderWidth[3]+" ",borderStyle:a.idle.borderStyle[RVS.screen].v,width:a.size.width[RVS.screen].v,height:a.size.height[RVS.screen].v,whiteSpace:"normal"==a.idle.whiteSpace[RVS.screen].v||"full"==a.idle.whiteSpace[RVS.screen].v?"normal":"nowrap",paddingTop:a.idle.padding[RVS.screen].v[0],paddingRight:a.idle.padding[RVS.screen].v[1],paddingBottom:a.idle.padding[RVS.screen].v[2],paddingLeft:a.idle.padding[RVS.screen].v[3],minWidth:"none"===a.size.minWidth[RVS.screen].v?0:a.size.minWidth[RVS.screen].v,minHeight:"none"===a.size.minHeight[RVS.screen].v?0:a.size.minHeight[RVS.screen].v,maxWidth:a.size.maxWidth[RVS.screen].v,maxHeight:a.size.maxHeight[RVS.screen].v,boxShadow:a.idle.boxShadow.inuse?a.idle.boxShadow.hoffset[RVS.screen].v+" "+a.idle.boxShadow.voffset[RVS.screen].v+" "+a.idle.boxShadow.blur[RVS.screen].v+" "+a.idle.boxShadow.spread[RVS.screen].v+" "+a.idle.boxShadow.color:"none"},o={rotationX:a.hover.rotationX,rotationY:a.hover.rotationY,rotationZ:a.hover.rotationZ,autoAlpha:a.hover.opacity,transformPerspective:a.hover.transformPerspective,transformOrigin:a.hover.originX+" "+a.hover.originY+" "+a.hover.originZ,skewX:a.hover.skewX,skewY:a.hover.skewY,scaleX:a.hover.scaleX,scaleY:a.hover.scaleY,borderColor:window.RSColor.get(a.hover.borderColor),borderRadius:a.hover.borderRadius.v[0]+" "+a.hover.borderRadius.v[1]+" "+a.hover.borderRadius.v[2]+" "+a.hover.borderRadius.v[3]+" ",borderWidth:a.hover.borderWidth[0]+" "+a.hover.borderWidth[1]+" "+a.hover.borderWidth[2]+" "+a.hover.borderWidth[3]+" ",borderStyle:a.hover.borderStyle,color:window.RSColor.get(a.hover.color),textDecoration:a.hover.textDecoration},n="row"===a.type?{marginTop:a.idle.margin[RVS.screen].v[0],paddingRight:a.idle.margin[RVS.screen].v[1],marginBottom:a.idle.margin[RVS.screen].v[2],paddingLeft:a.idle.margin[RVS.screen].v[3]}:"column"===a.type?{paddingTop:a.idle.margin[RVS.screen].v[0],paddingRight:a.idle.margin[RVS.screen].v[1],paddingBottom:a.idle.margin[RVS.screen].v[2],paddingLeft:a.idle.margin[RVS.screen].v[3]}:{marginTop:a.idle.margin[RVS.screen].v[0],marginRight:a.idle.margin[RVS.screen].v[1],marginBottom:a.idle.margin[RVS.screen].v[2],marginLeft:a.idle.margin[RVS.screen].v[3]},l=window.RSColor.get(a.idle.backgroundColor),d=window.RSColor.get(a.hover.backgroundColor),c="video"===a.type?a.media.posterUrl:a.idle.backgroundImage,S={};if(!1===a.visibility[RVS.screen]?n.opacity=.25:n.opacity=1,a.idle.textShadow.inuse?s.textShadow=a.idle.textShadow.hoffset[RVS.screen].v+" "+a.idle.textShadow.voffset[RVS.screen].v+" "+a.idle.textShadow.blur[RVS.screen].v+" "+a.idle.textShadow.color:s["text-shadow"]="none","column"==a.type&&(S.borderColor=window.RSColor.get(a.idle.borderColor),S.borderWidth=a.idle.borderWidth[0]+" "+a.idle.borderWidth[1]+" "+a.idle.borderWidth[2]+" "+a.idle.borderWidth[3]+" ",S.borderStyle=a.idle.borderStyle[RVS.screen].v),void 0!==c&&c.length>4&&-1==l.indexOf("gradient")?"column"===a.type||"row"===a.type?(S.backgroundImage="url("+c+")",S.backgroundPosition=a.idle.backgroundPosition,S["background-size"]=a.idle.backgroundSize,S.backgroundRepeat=a.idle.backgroundRepeat,S.left="column"===a.type?0:a.idle.margin[RVS.screen].v[3],S.right="column"===a.type?0:a.idle.margin[RVS.screen].v[1],S.top=0,S.bottom=0,S.borderRadius=a.idle.borderRadius.v[0]+" "+a.idle.borderRadius.v[1]+" "+a.idle.borderRadius.v[2]+" "+a.idle.borderRadius.v[3]+" ",punchgs.TweenMax.set(i.bg,S),"column"===a.type&&punchgs.TweenMax.set(i.bgmask,{top:a.idle.margin[RVS.screen].v[0],bottom:a.idle.margin[RVS.screen].v[2],left:a.idle.margin[RVS.screen].v[3],right:a.idle.margin[RVS.screen].v[1]})):(s.backgroundImage="url("+c+")",s.backgroundPosition=a.idle.backgroundPosition,s["background-size"]=a.idle.backgroundSize,s.backgroundRepeat=a.idle.backgroundRepeat,s.backgroundColor=l,o.backgroundColor=d):("column"===a.type||"row"===a.type?(S.backgroundImage="",S.left="column"===a.type?0:a.idle.margin[RVS.screen].v[3],S.right="column"===a.type?0:a.idle.margin[RVS.screen].v[1],S.top=0,S.bottom=0,S.transformStyle="preserve-3d",S.borderRadius=a.idle.borderRadius.v[0]+" "+a.idle.borderRadius.v[1]+" "+a.idle.borderRadius.v[2]+" "+a.idle.borderRadius.v[3]+" ",punchgs.TweenMax.set(i.bg,S),"column"===a.type&&punchgs.TweenMax.set(i.bgmask,{top:a.idle.margin[RVS.screen].v[0],bottom:a.idle.margin[RVS.screen].v[2],left:a.idle.margin[RVS.screen].v[3],right:a.idle.margin[RVS.screen].v[1]})):s.background=l,-1==d.indexOf("gradient")?o.backgroundColor=d:o.background=d),"column"===a.type||"row"===a.type){var p=[parseInt(a.idle.borderWidth[0]),parseInt(a.idle.borderWidth[1]),parseInt(a.idle.borderWidth[2]),parseInt(a.idle.borderWidth[3])];punchgs.TweenMax.set(i.margins.top,{height:a.idle.margin[RVS.screen].v[0],top:"row"===a.type?0-a.idle.margin[RVS.screen].v[0]:"0",paddingRight:a.idle.margin[RVS.screen].v[1],paddingLeft:a.idle.margin[RVS.screen].v[3]}),punchgs.TweenMax.set(i.margins.bottom,{height:a.idle.margin[RVS.screen].v[2],bottom:"row"===a.type?0-a.idle.margin[RVS.screen].v[2]:"0",paddingRight:a.idle.margin[RVS.screen].v[1],paddingLeft:a.idle.margin[RVS.screen].v[3]}),punchgs.TweenMax.set(i.margins.left,{width:a.idle.margin[RVS.screen].v[3],lineHeight:a.idle.margin[RVS.screen].v[0]}),punchgs.TweenMax.set(i.margins.right,{width:a.idle.margin[RVS.screen].v[1]}),punchgs.TweenMax.set(i.paddings.top,{height:a.idle.padding[RVS.screen].v[0]+p[0],top:"row"===a.type?0:a.idle.margin[RVS.screen].v[0],paddingRight:a.idle.padding[RVS.screen].v[1]+a.idle.margin[RVS.screen].v[1]+p[1],paddingLeft:a.idle.padding[RVS.screen].v[3]+a.idle.margin[RVS.screen].v[3]+p[3]}),punchgs.TweenMax.set(i.paddings.bottom,{height:a.idle.padding[RVS.screen].v[2]+p[2],bottom:"row"===a.type?0:a.idle.margin[RVS.screen].v[2],paddingRight:a.idle.padding[RVS.screen].v[1]+a.idle.margin[RVS.screen].v[1]+p[1],paddingLeft:a.idle.padding[RVS.screen].v[3]+a.idle.margin[RVS.screen].v[3]+p[3]}),punchgs.TweenMax.set(i.paddings.left,{left:a.idle.margin[RVS.screen].v[3],width:a.idle.padding[RVS.screen].v[3]+p[3],paddingTop:"row"===a.type?0:a.idle.margin[RVS.screen].v[0],paddingBottom:"row"===a.type?0:a.idle.margin[RVS.screen].v[2]}),punchgs.TweenMax.set(i.paddings.right,{right:a.idle.margin[RVS.screen].v[1],width:a.idle.padding[RVS.screen].v[1]+p[1],paddingTop:"row"===a.type?0:a.idle.margin[RVS.screen].v[0],paddingBottom:"row"===a.type?0:a.idle.margin[RVS.screen].v[2]})}if("column"===a.type?(punchgs.TweenMax.set(i.borders.top,{top:a.idle.margin[RVS.screen].v[0],left:a.idle.margin[RVS.screen].v[3],right:a.idle.margin[RVS.screen].v[1],width:"auto"}),punchgs.TweenMax.set(i.borders.right,{right:a.idle.margin[RVS.screen].v[1],top:a.idle.margin[RVS.screen].v[0],bottom:a.idle.margin[RVS.screen].v[2],height:"auto"}),punchgs.TweenMax.set(i.borders.bottom,{bottom:a.idle.margin[RVS.screen].v[2],left:a.idle.margin[RVS.screen].v[3],right:a.idle.margin[RVS.screen].v[1],width:"auto"}),punchgs.TweenMax.set(i.borders.left,{left:a.idle.margin[RVS.screen].v[3],top:a.idle.margin[RVS.screen].v[0],bottom:a.idle.margin[RVS.screen].v[2],height:"auto"})):"row"===a.type?(punchgs.TweenMax.set([i.borders.bottom,i.borders.top],{left:a.idle.margin[RVS.screen].v[3],right:a.idle.margin[RVS.screen].v[1],width:"auto"}),punchgs.TweenMax.set(i.borders.right,{right:a.idle.margin[RVS.screen].v[1]}),punchgs.TweenMax.set(i.borders.left,{left:a.idle.margin[RVS.screen].v[3]})):"video"===a.type?(i.vtitle[0].innerHTML=a.media.mediaType,i.volay[0].className="_lc_video_overlay "+a.media.dotted):"audio"===a.type&&(!1===a.media.controls?i.c.addClass("placeholder_on").removeClass("audio_controls_on"):i.c.addClass("audio_controls_on").removeClass("placeholder_on")),n.verticalAlign="inherit","column"===a.type&&(n.verticalAlign=a.idle.verticalAlign,s.verticalAlign=a.idle.verticalAlign),-1!==a.group.puid&&"column"===RVS.L[a.group.puid].type?(n.display=s.display=a.idle.display,n.float=a.idle.float[RVS.screen].v,n.clear=a.idle.clear[RVS.screen].v):"row"!==a.type&&"column"!==a.type&&(s.display="block",n.clear="none"),void 0!==a.hover.filter.blur){var u="blur("+parseInt(a.hover.filter.blur,0)+"px)";o["-webkit-filter"]=void 0===o["-webkit-filter"]?u:o["-webkit-filter"]+" "+u,o.filter=void 0===o.filter?u:o.filter+" "+u}if(void 0!==a.hover.filter.grayscale){u="grayscale("+parseInt(a.hover.filter.grayscale,0)+"%)";o["-webkit-filter"]=void 0===o["-webkit-filter"]?u:o["-webkit-filter"]+" "+u,o.filter=void 0===o.filter?u:o.filter+" "+u}if(void 0!==a.hover.filter.brightness){u="brightness("+parseInt(a.hover.filter.brightness,0)+"%)";o["-webkit-filter"]=void 0===o["-webkit-filter"]?u:o["-webkit-filter"]+" "+u,o.filter=void 0===o.filter?u:o.filter+" "+u}i.w_width=s.width="auto"==a.size.width[RVS.screen].v?"auto":RVS.F.smartConvertDivs(a.size.width[RVS.screen].v),i.w_height=s.height="auto"==a.size.height[RVS.screen].v?"auto":RVS.F.smartConvertDivs(a.size.height[RVS.screen].v),"image"===a.type&&(s.overflow="hidden");var R,V=RVS.F.convertFraction(a.group.columnSize);(n.width="column"==a.type?100*V+"%":i.w_width,n.maxWidth="column"==a.type?"0px":void 0===n.maxWidth?"none":n.maxWidth,n.height="column"==a.type||"row"==a.type?"auto":i.w_height,s.width="column"==a.type||"row"==a.type?"100%":s.width,s.height="column"==a.type||"row"==a.type?"auto":s.height,"column"===a.type)&&(s.whiteSpace="normal","notebook"===(R=RVS.L[a.group.puid].group.columnbreakat)&&("n"===RVS.screen||"t"===RVS.screen||"m"===RVS.screen)||"tablet"===R&&("t"===RVS.screen||"m"===RVS.screen)||"mobile"===R&&"m"===RVS.screen?(n.display="block",s.width="100%",n.width="100%",n.maxWidth="none"):n.display="table-cell");"row"===a.type&&(n.width="100%","notebook"===(R=a.group.columnbreakat)&&("n"===RVS.screen||"t"===RVS.screen||"m"===RVS.screen)||"tablet"===R&&("t"===RVS.screen||"m"===RVS.screen)||"mobile"===R&&"m"===RVS.screen?s.display="block":s.display="table");if("image"===a.type&&"custom"!==a.size.covermode){var m=RVS.F.getProportionalSizes({proportional:a.size.scaleProportional,type:a.size.covermode,image:{width:a.size.originalWidth,height:a.size.originalHeight},viewPort:{width:RVS.SLIDER.settings.size.width[RVS.screen],height:RVS.SLIDER.settings.size.height[RVS.screen]}});n.width=s.width=m.width,n.height=s.height=m.height}if("video"===a.type&&"auto"===a.size.height[RVS.screen].v){var f=a.media.ratio.split(":");f=f[1]/f[0],n.height=s.height=i.w.width()*f}"shape"===a.type&&(n.lineHeight=RVS.F.isVaOrPx(s.height)?parseInt(s.height,0)+"px":"auto"),"svg"===a.type&&i.svg&&(punchgs.TweenMax.set(i.svg,{width:"100%",height:"100%",fill:window.RSColor.get(a.idle.svg.color[RVS.screen].v),stroke:window.RSColor.get(a.idle.svg.strokeColor),"stroke-width":a.idle.svg.strokeWidth,"stroke-dasharray":RVS.F.getDashArray(a.idle.svg.strokeDashArray),"stroke-dashoffset":void 0===a.idle.svg.strokeDashOffset?0:a.idle.svg.strokeDashOffset}),punchgs.TweenMax.set(i.svgPath,{fill:window.RSColor.get(a.idle.svg.color[RVS.screen].v)})),!e.isNumeric(s.width)&&s.width.indexOf("%")>=0&&(s.width="100%"),!e.isNumeric(s.height)&&s.height.indexOf("%")>=0&&(s.height="100%"),"group"===a.type&&("100%"===s.height?punchgs.TweenLite.set([i.m,i.iw,i.lp],{height:"100%"}):punchgs.TweenLite.set([i.m,i.iw,i.lp],{height:"auto"})),punchgs.TweenMax.set(i.w,n),"column"===a.type&&(delete s.backgroundColor,delete s.background),punchgs.TweenMax.set(i.c,s),RVS.F.updateSharpCorners({uid:t.uid,bgcolor:l}),i.htr=o,i.bg_htr={},RVS.F.renderLayerAnimation({layerid:t.uid,quickRendering:t.ignoreLayerAnimation,timeline:"full",caller:"drawHTMLLayer"}),RVS.F.checkCurrentLayerHoverMode({layerid:t.uid}),RVS.F.updateHTMLLayerPosition(t),RVS.S.shwLayerAnim&&e.inArray(t.uid,RVS.selLayers)>=0&&RVS.F.playLayerAnimation({layerid:t.uid}),RVS.F.updateMinSliderHeights()&&RVS.DOC.trigger("updatesliderlayout","layer.js-586")},RVS.F.smartConvertDivs=function(e){return"string"==typeof e&&"#"===e[0]?e[1]/e[3]*100+"%":e},RVS.F.updateSharpCorners=function(t){if("text"===RVS.L[t.uid].type||"button"===RVS.L[t.uid].type){var i=RVS.H[t.uid],a=RVS.L[t.uid];t.resize||(i.leftcorner&&i.leftcorner.remove(),i.rightcorner&&i.rightcorner.remove()),"none"!==a.idle.cornerLeft&&(t.resize&&void 0!==i.leftcorner||(i.leftcorner=e("<"+a.idle.cornerLeft+"></"+a.idle.cornerLeft+">"),i.c.append(i.leftcorner)),i.leftcorner.css("borderWidth",i.c.outerHeight()+"px"),i.leftcorner.css("borderRight","0px solid transparent"),t.bgcolor&&i.leftcorner.css("border"+("rs-fcrt"===a.idle.cornerLeft?"Bottom":"Top")+"Color",t.bgcolor)),"none"!==a.idle.cornerRight&&(t.resize&&void 0!==i.rightcorner||(i.rightcorner=e("<"+a.idle.cornerRight+"></"+a.idle.cornerRight+">"),i.c.append(i.rightcorner)),i.rightcorner.css("borderWidth",i.c.outerHeight()+"px"),i.rightcorner.css("borderLeft","0px solid transparent"),t.bgcolor&&i.rightcorner.css("border"+("rs-bcrt"===a.idle.cornerRight?"Top":"Bottom")+"Color",t.bgcolor))}},RVS.F.reOrderHTMLLayers=function(e){for(var t in RVS.L)RVS.L.hasOwnProperty(t)&&(-1!==RVS.L[t].group.puid&&"row"!==RVS.L[t].type||"zone"===RVS.L[t].type||RVS.F.reOrderHTMLLayer({uid:t}));for(t in RVS.L)RVS.L.hasOwnProperty(t)&&"column"==RVS.L[t].type&&RVS.F.reOrderHTMLLayer({uid:RVS.L[t].uid});for(t in RVS.L)RVS.L.hasOwnProperty(t)&&"column"!==RVS.L[t].type&&-1!==RVS.L[t].group.puid&&RVS.F.reOrderHTMLLayer({uid:RVS.L[t].uid});RVS.F.checkRowsChildren()},RVS.F.buildHTMLLayers=function(e){for(var t in RVS.L)RVS.L.hasOwnProperty(t)&&(-1!==RVS.L[t].group.puid&&"row"!==RVS.L[t].type||"zone"===RVS.L[t].type||RVS.F.buildHTMLLayer({uid:t}));for(t in RVS.L)RVS.L.hasOwnProperty(t)&&"column"==RVS.L[t].type&&RVS.F.buildHTMLLayer({uid:RVS.L[t].uid});for(t in RVS.L)RVS.L.hasOwnProperty(t)&&"column"!==RVS.L[t].type&&-1!==RVS.L[t].group.puid&&RVS.F.buildHTMLLayer({uid:RVS.L[t].uid});RVS.F.checkRowsChildren(),RVS.F.checkLockedLayers(),RVS.F.checkShowHideLayers(),"change"===window.firstLockTest&&(RVS.F.showInfo({content:RVS_LANG.somelayerslocked,type:"goodtoknow",showdelay:2,hidedelay:3,hideon:"",event:""}),window.firstLockTest=!0)},RVS.F.updateInputFields=function(){0!==RVS.selLayers.length&&(RVS.S.keyFrame="idle"===RVS.S.keyFrame?RVS.L[RVS.selLayers[0]].timeline.frameToIdle:RVS.S.keyFrame,RVS.F.updateEasyInputs({container:e(".layer_settings_collector"),path:RVS.S.slideId+".layers.",trigger:"init",multiselection:!0}),RVS.F.updateCusCSSContent(),RVS.F.stopAllLayerAnimation(),RVS.F.checkAvailableFontWeights(),RVS.F.updateLayerBgImage(),RVS.F.updateLayerImageSrcThumb(),RVS.F.updateRowColumnField(),RVS.F.updateFrameRealSpeed(),RVS.DOC.trigger("updateKeyFramesList"),RVS.S.shwLayerAnim&&RVS.F.playLayerAnimation({layerid:RVS.selLayers[0]}))},RVS.F.updateLayerBgImage=function(){if(0!==RVS.selLayers.length){var t=RVS.L[RVS.selLayers[0]].idle.backgroundImage;""===(t=void 0===t||RVS.selLayers.length>1?"":t)?e("#layer_bg_adv_settings").hide():e("#layer_bg_adv_settings").show(),punchgs.TweenMax.set("#layer_bg_image",{backgroundImage:"url("+t+")","background-size":RVS.L[RVS.selLayers[0]].idle.backgroundSize,backgroundPosition:RVS.L[RVS.selLayers[0]].idle.backgroundPosition}),RVS.F.drawHTMLLayer({uid:RVS.selLayers[0]})}},RVS.F.updateLayerImageSrcThumb=function(){0!==RVS.selLayers.length&&(RVS.selLayers.length>1?punchgs.TweenMax.set("#layer_image_src",{backgroundImage:"none"}):"image"===RVS.L[RVS.selLayers[0]].type&&(RVS.L[RVS.selLayers[0]].media.imageUrl.indexOf("png")>=0&&RVS.L[RVS.selLayers[0]].media.imageUrl!==RVS.ENV.img_ph_url?document.getElementById("minilayerprevimage_wrap").className="miniprevimage_wrap withimage":RVS.L[RVS.selLayers[0]].media.imageUrl==RVS.ENV.img_ph_url&&(document.getElementById("minilayerprevimage_wrap").className="miniprevimage_wrap"),document.getElementById("layer_image_src").style.backgroundImage="url("+RVS.L[RVS.selLayers[0]].media.imageUrl+")"))},RVS.F.updateLayerImageSrc=function(e,t){if(null!=t&&void 0!==t.layerid){for(var i in RVS.selLayers)RVS.selLayers.hasOwnProperty(i)&&(RVS.L[RVS.selLayers[i]].size.originalSize=parseInt(RVS.L[RVS.selLayers[i]].size.width[RVS.screen].v,0)==parseInt(RVS.L[RVS.selLayers[i]].size.originalWidth,0));t.direction="width",t.dirB="height",t.src=null==t.src?RVS.L[t.layerid].media.imageUrl:t.src,t.src=null==t.src?RVS.L[t.layerid].media.posterUrl:t.src,t.id=void 0===t.id?RVS.L[t.layerid].media.imageId:t.id,t.id=void 0===t.id?RVS.L[t.layerid].media.posterId:t.id,RVS.F.preloadImage({uid:t.layerid,slideId:RVS.S.slideId,image:t.src,silent:!1,callback:function(){var e=!1;for(var i in RVS.selLayers)RVS.selLayers.hasOwnProperty(i)&&(t.uid=RVS.selLayers[i],t.ignore=RVS.L[RVS.selLayers[i]].size.originalSize,c(t),e=e||t.uid===t.layerid);e||(t.uid=t.layerid,c(t)),RVS.F.updateLayerImageSrcThumb()}})}},RVS.F.updateLayerSVGSrc=function(t){null!=t&&void 0!==t.uids&&void 0!==t.src&&0!==t.uids.length&&e.get(t.src,function(e){for(var i in t.uids)if(t.uids.hasOwnProperty(i)){var a=t.uids[i],r=(new XMLSerializer).serializeToString(e.documentElement);RVS.H[a].c[0].innerHTML=r,RVS.H[a].svg=RVS.H[a].w.find("svg"),RVS.H[a].svgPath=RVS.H[a].w.find("svg path"),RVS.F.updateLayerObj({path:"svg.renderedData",val:r,ignoreBackup:!0}),RVS.F.drawHTMLLayer({uid:a})}})},RVS.F.resetVideoPlaceholder=function(e,t){for(var i in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(i)){var a=RVS.selLayers[i];"video"===RVS.L[a].type&&(RVS.L[a].media.posterUrl===RVS.ENV.img_ph_url?RVS.H[a].c.addClass("placeholder_on"):RVS.H[a].c.removeClass("placeholder_on"))}},RVS.F.resyncVideoAspectRatio=function(){for(var e in RVS.F.openBackupGroup({id:"layerresize",txt:"Video Aspect Ratio",icon:"videocam"}),RVS.selLayers)if(RVS.selLayers.hasOwnProperty(e)){var t=RVS.L[RVS.selLayers[e]];if("video"===t.type){var i=t.media.ratio.split(":"),a=RVS.S.slideId+".layers."+t.uid+".";i=i[0]/i[1],RVS.F.updateSliderObj({path:a+"size.aspectRatio.#size#.v",val:i}),S({ignore:!0,direction:"width",dirB:"height",v:RVS.L[t.uid].size.width[RVS.screen].v,l:RVS.L[t.uid],pre:a}),RVS.F.drawHTMLLayer({uid:t.uid})}}RVS.F.closeBackupGroup({id:"layerresize"}),RVS.F.updateInputFields()},RVS.F.changeAudioLayerSize=function(e){for(var t in RVS.F.openBackupGroup({id:"layerresize",txt:"Audio Layer Controls",icon:"photo_size_select_large"}),RVS.selLayers)RVS.selLayers.hasOwnProperty(t)&&(e.uid=RVS.selLayers[t],e.l=RVS.L[e.uid],e.pre=RVS.S.slideId+".layers."+e.uid+".",RVS.F.updateSliderObj({path:e.pre+"media.controls",val:!e.l.media.controls}),"audio"===e.l.type&&(e.l.media.controls?(RVS.F.updateSliderObj({path:e.pre+"size.width.#size#.v",val:350}),RVS.F.updateSliderObj({path:e.pre+"size.height.#size#.v",val:54})):(RVS.F.updateSliderObj({path:e.pre+"size.width.#size#.v",val:54}),RVS.F.updateSliderObj({path:e.pre+"size.height.#size#.v",val:54}))),RVS.F.drawHTMLLayer({uid:e.uid}));RVS.F.closeBackupGroup({id:"layerresize"}),RVS.F.updateInputFields()},RVS.F.changeMediaControlsInteraction=function(e){for(var t in RVS.F.openBackupGroup({id:"mediacontrols",txt:"Media Layer Controls",icon:"photo_size_select_large"}),RVS.selLayers)RVS.selLayers.hasOwnProperty(t)&&(e.uid=RVS.selLayers[t],e.l=RVS.L[e.uid],e.pre=RVS.S.slideId+".layers."+e.uid+".",RVS.F.updateSliderObj({path:e.pre+"media.nointeraction",val:!e.l.media.nointeraction}),RVS.F.updateSliderObj({path:e.pre+"media.controls",val:!1}),RVS.F.updateSliderObj({path:e.pre+"media.largeControls",val:!1}));RVS.F.closeBackupGroup({id:"mediacontrols"}),RVS.F.updateInputFields()},RVS.F.changeLayerSizes=function(e){for(var t in RVS.F.openBackupGroup({id:"layerresize",txt:"Layer "+e.direction.toUpperCase(),icon:"photo_size_select_large"}),e.dirB="width"===e.direction?"height":"width",RVS.selLayers)RVS.selLayers.hasOwnProperty(t)&&(e.uid=RVS.selLayers[t],e.l=RVS.L[e.uid],e.pre=RVS.S.slideId+".layers."+e.uid+".",e.l.size.scaleProportional?S(e):RVS.F.updateSliderObj({path:e.pre+"size."+e.direction+".#size#.v",val:e.v}),RVS.F.drawHTMLLayer({uid:e.uid}));RVS.F.closeBackupGroup({id:"layerresize"}),RVS.F.updateInputFields()},RVS.F.lockUnlockLayerRatio=function(e){for(var t in RVS.F.openBackupGroup({id:"layerresize",txt:"Layer Aspect Ratio",icon:"photo_size_select_large"}),RVS.selLayers)if(RVS.selLayers.hasOwnProperty(t)&&(e.uid=RVS.selLayers[t],e.l=RVS.L[e.uid],e.pre=RVS.S.slideId+".layers."+e.uid+".",e.direction="width",e.dirB="height",RVS.F.updateSliderObj({path:e.pre+"size.scaleProportional",val:e.val}),e.val))if("image"===e.l.type)e.v=e.l.size.width[RVS.screen].v,e.ignore=!0,S(e),RVS.F.drawHTMLLayer({uid:e.uid});else{var i=RVS.H[e.uid].w,a=i.width(),r=i.height();RVS.F.updateSliderObj({path:e.pre+"size.originalWidth",val:a}),RVS.F.updateSliderObj({path:e.pre+"size.originalHeight",val:r}),RVS.F.updateSliderObj({path:e.pre+"size.aspectRatio.#size#.v",val:a/r})}RVS.F.closeBackupGroup({id:"layerresize"}),RVS.F.updateInputFields()},RVS.F.lockUnlockMarginPadding=function(e,t,i,a){for(var r in a=void 0===a?"idle":a,RVS.F.openBackupGroup({id:"lock"+t,txt:"Lock and reset "+t+"(s)",icon:"border_outer"}),RVS.selLayers)if(RVS.selLayers.hasOwnProperty(r)){if(e.uid=RVS.selLayers[r],e.l=RVS.L[e.uid],e.pre=RVS.S.slideId+".layers."+e.uid+".",RVS.F.updateSliderObj({path:e.pre+a+"."+t+"Lock",val:e.val}),e.val){var s=void 0===e.l[a][t][RVS.screen]?void 0===e.l[a][t].v?e.l[a][t][0]:e.l[a][t].v[0]:e.l[a][t][RVS.screen].v[0];RVS.F.updateSliderObj({path:e.pre+a+"."+t+i+".1",val:s}),RVS.F.updateSliderObj({path:e.pre+a+"."+t+i+".2",val:s}),RVS.F.updateSliderObj({path:e.pre+a+"."+t+i+".3",val:s})}RVS.F.drawHTMLLayer({uid:e.uid})}RVS.F.closeBackupGroup({id:"lock"+t}),RVS.F.updateInputFields()},RVS.F.updateMarginPaddingValues=function(e,t,i,a){for(var r in a=void 0===a?"idle":a,RVS.F.openBackupGroup({id:t+"Value",txt:"Layer "+t,icon:"border_outer"}),RVS.selLayers)if(RVS.selLayers.hasOwnProperty(r)){var s=RVS.L[RVS.selLayers[r]],o=RVS.S.slideId+".layers."+RVS.selLayers[r]+".";if(s[a][t+"Lock"])for(var n=0;n<4;n++)RVS.F.updateSliderObj({path:o+a+"."+t+i+"."+n,val:e.val});else RVS.F.updateSliderObj({path:o+a+"."+t+i+"."+e.eventparam,val:e.val});RVS.F.drawHTMLLayer({uid:RVS.selLayers[r]})}RVS.F.closeBackupGroup({id:t+"Value"}),RVS.F.updateInputFields()},RVS.F.replaceMetas=function(e){if(e.indexOf("{{")>=0)for(var t in RVS.LIB.META)if(RVS.LIB.META.hasOwnProperty(t)&&e.search(t)>=0){var i=new RegExp(t,"g");e=e.replace(i,RVS.LIB.META[t])}return e},RVS.F.redrawTextLayerInnerHTML=function(t,i){"text"!==RVS.L[t].type&&"button"!==RVS.L[t].type||(i&&(void 0!==RVS.H[t].splitText&&RVS.H[t].splitText.revert(),RVS.H[t].splitText=void 0),void 0!==RVS.L[t].placeholder&&RVS.L[t].placeholder.length>0&&" "!==RVS.L[t].placeholder?RVS.H[t].c[0].innerHTML=RVS.L[t].placeholder:RVS.H[t].c[0].innerHTML=e.inArray(RVS.L[t].idle.whiteSpace[RVS.screen].v,["normal","nowrap"])>=0?RVS.F.replaceMetas(RVS.L[t].text):RVS.F.replaceMetas(RVS.L[t].text.replace(/\r\n|\r|\n/g,"<br />")),i&&(RVS.F.drawHTMLLayer({uid:t,ignoreLayerAnimation:!0}),void 0!==RVS.H[t].splitText&&RVS.F.updateLayerFrames({layerid:t})))},RVS.DOC.on("layerTextContentUpdate",function(t,i){if(void 0!==i&&void 0!==i.val)for(var a in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(a)){var r=RVS.selLayers[a];"text"!==RVS.L[r].type&&"button"!==RVS.L[r].type||(void 0!==RVS.H[r].splitText&&RVS.H[r].splitText.revert(),RVS.H[r].splitText=void 0,"placeholder"!==i.eventparam||0!==i.val.length&&""!==i.val&&" "!==i.val?void 0!==RVS.L[r].placeholder&&""!==RVS.L[r].placeholder&&"placeholder"!==i.eventparam||(RVS.H[r].c[0].innerHTML=e.inArray(RVS.L[r].idle.whiteSpace[RVS.screen].v,["normal","nowrap"])>=0?RVS.F.replaceMetas(i.val):RVS.F.replaceMetas(i.val.replace(/\r\n|\r|\n/g,"<br />"))):RVS.H[r].c[0].innerHTML=e.inArray(RVS.L[r].idle.whiteSpace[RVS.screen].v,["normal","nowrap"])>=0?RVS.L[r].text:RVS.L[r].text.replace(/\r\n|\r|\n/g,"<br />"),RVS.F.drawHTMLLayer({uid:r,ignoreLayerAnimation:!0}),void 0!==RVS.H[r].splitText&&RVS.F.updateLayerFrames({layerid:r}))}}),RVS.F.changeLayerAnimation=function(t){t.fromLayerTransListe||(window.timelineTemporaryCached=!0,RVS.L[RVS.selLayers[0]].timelinecache=RVS.F.safeExtend(!0,{},RVS.L[RVS.selLayers[0]].timeline)),R(RVS.LIB.LAYERANIMS[t.direction][t.group].transitions[t.transition]);var i="loop"===t.direction?"loop":"play_circle_filled",a="loop"===t.direction?RVS_LANG.backupTemplateLoop:RVS_LANG.backupTemplateLayerAnim,r="loop"===t.direction?"layerLoop":"layerFrames",s="loop"===t.direction?"loop":"frames";for(var o in t.ignoreBackupGroup||RVS.F.openBackupGroup({id:"changeFramesFromTemplate",txt:a,icon:i}),RVS.F.backup({path:s,layer:RVS.selLayers[0],slide:RVS.S.slideId,cache:void 0,icon:i,txt:a,lastkey:"timeline",force:!0,val:RVS.L[RVS.selLayers[0]].timeline[s],old:RVS.L[RVS.selLayers[0]].timelinecache[s],backupType:r,bckpGrType:"layerTemplateAnimation"}),RVS.JHOOKS.changeLayerAnimation)RVS.JHOOKS.changeLayerAnimation.hasOwnProperty(o)&&RVS.JHOOKS.changeLayerAnimation[o](t);t.ignoreBackupGroup||RVS.F.closeBackupGroup({id:"changeFramesFromTemplate"}),window.timelineTemporaryCached=!1,delete RVS.L[RVS.selLayers[0]].timelinecache,e(".layer_transliste.open").removeClass("open"),RVS.F.renderLayerAnimation({layerid:RVS.selLayers[0]}),RVS.F.playLayerAnimation({layerid:RVS.selLayers[0]}),RVS.F.updateInputFields(),RVS.S.shwLayerAnim?RVS.F.playLayerAnimation({layerid:RVS.selLayers[0]}):RVS.F.stopAllLayerAnimation()},RVS.F.updateLayerTimelineLoopLists=function(){var t="";for(var i in window.layerTimelineLoopFrom=null==window.layerTimelineLoopFrom?e("#la_timeline_loop_from"):window.layerTimelineLoopFrom,window.layerTimelineLoopTo=null==window.layerTimelineLoopTo?e("#la_timeline_loop_to"):window.layerTimelineLoopTo,RVS.L[RVS.selLayers[0]].timeline.frameOrder)RVS.L[RVS.selLayers[0]].timeline.frameOrder.hasOwnProperty(i)&&i>0&&"frame_999"!==RVS.L[RVS.selLayers[0]].timeline.frameOrder[i].id&&(t+='<option value="'+RVS.L[RVS.selLayers[0]].timeline.frameOrder[i].id+'">'+RVS.L[RVS.selLayers[0]].timeline.frames[RVS.L[RVS.selLayers[0]].timeline.frameOrder[i].id].alias+" (#"+i+")</option>");window.layerTimelineLoopFrom[0].innerHTML=window.layerTimelineLoopTo[0].innerHTML=t,window.layerTimelineLoopFrom.val(RVS.L[RVS.selLayers[0]].timeline.tloop.from).trigger("change.select2RS"),window.layerTimelineLoopTo.val(RVS.L[RVS.selLayers[0]].timeline.tloop.to).trigger("change.select2RS")},RVS.F.setKeyframeSelected=function(e){RVS.S.keyFrame=e,p(),RVS.F.updateInputFields(),RVS.TL.cache.main="frame_0"===RVS.S.keyFrame?RVS.F.getTimeAtSelectedFrameStart("frame_1")/100:"frame_999"===RVS.S.keyFrame?RVS.F.getTimeAtSelectedFrameMiddle("frame_999")/100:(RVS.F.getTimeAtSelectedFrameEnd()-2)/100,RVS.TL.cache.main=RVS.TL.cache.main<.01?.01:RVS.TL.cache.main,RVS.F.updateTimeLine({force:!0,state:"time",time:RVS.TL.cache.main,timeline:"main",forceFullLayerRender:!0,updateCurTime:!0})},RVS.F.updateKeyframeSelected=function(e){RVS.TL.cache.main="frame_0"===RVS.S.keyFrame?RVS.F.getTimeAtSelectedFrameStart("frame_1")/100:"frame_999"===RVS.S.keyFrame?RVS.F.getTimeAtSelectedFrameMiddle("frame_999")/100:(RVS.F.getTimeAtSelectedFrameEnd()-2)/100,RVS.TL.cache.main=RVS.TL.cache.main<.01?.01:RVS.TL.cache.main,RVS.F.updateCurTime({pos:!0,cont:!0,force:!0,left:100*RVS.TL.cache.main,refreshMainTimeLine:!1,caller:"updateKeyframeSelected"})},RVS.F.migrateCustomAnimation=function(e){for(var t in e)if(e.hasOwnProperty(t))if("in"===e[t].settings||"out"===e[t].settings)RVS.LIB.LAYERANIMS[e[t].settings].custom.transitions[e[t].id]=e[t].params;else if(void 0!==e[t].params&&("customin"===e[t].params.type||"customout"===e[t].params.type)){var i="customin"==e[t].params.type?"in":"out",a=RVS.LIB.LAYERANIMS[i].custom.transitions,r="in"===i?"frame_0":"frame_999",s={name:e[t].handle};s[r]={transform:{},timeline:{}},"in"===i?s.frame_1={timeline:{speed:e[t].params.speed,ease:e[t].params.easing}}:s.frame_999.timeline={speed:e[t].params.speed,ease:e[t].params.easing},"true"!=e[t].params.mask&&1!=e[t].params.mask||(s[r].mask={use:!0,x:e[t].params.mask_x,y:e[t].params.mask_y},"in"===i&&(s.frame_1.mask={use:!0,x:0,y:0}));var o=s[r].transform,n={use:!0,delay:e[t].params.splitdelay};switch(e[t].params.split){case"lines":case"line":s[r].lines=n,o=s[r].lines,"in"===i&&(s.frame_1.lines=n);break;case"words":case"word":s[r].words=n,o=s[r].words,"in"===i&&(s.frame_1.words=n);break;case"chars":case"char":s[r].chars=n,o=s[r].chars,"in"===i&&(s.frame_1.chars=n)}for(var l in void 0!==e[t].params.captionopacity&&(o.opacity=e[t].params.captionopacity),e[t].params)if(e[t].params.hasOwnProperty(l)){var d=e[t].params[l];if("inherit"!==d&&"0"!==d&&0!==d&&"0px"!==d)switch(l){case"movex":o.x=d;break;case"movey":o.y=d;break;case"movez":o.z=d;break;case"rotationx":o.rotationX=d;break;case"rotationy":o.rotationY=d;break;case"rotationz":o.rotationZ=d;break;case"skewx":o.skewX=d;break;case"skewy":o.skewY=d}}a[e[t].id]=s}},RVS.F.updateFrameOptionsVisual=function(){for(var t in RVS.V.frameLevels.levels)if(RVS.V.frameLevels.levels.hasOwnProperty(t)){var i=RVS.V.frameLevels.levels[t];RVS.V.frameLevels[i]=void 0===RVS.V.frameLevels[i]?e("#"+i+"_ts_wrapbrtn"):RVS.V.frameLevels[i],"color"===i&&void 0!==RVS.L[RVS.selLayers[0]].timeline.frames[RVS.S.keyFrame].bgcolor&&void 0!==RVS.L[RVS.selLayers[0]].timeline.frames[RVS.S.keyFrame].color&&(!1!==RVS.L[RVS.selLayers[0]].timeline.frames[RVS.S.keyFrame].bgcolor.use||!1!==RVS.L[RVS.selLayers[0]].timeline.frames[RVS.S.keyFrame].color.use)||"sfx"===i&&""!==RVS.L[RVS.selLayers[0]].timeline.frames[RVS.S.keyFrame].sfx.effect&&"none"!==RVS.L[RVS.selLayers[0]].timeline.frames[RVS.S.keyFrame].sfx.effect||"mask"===i&&RVS.L[RVS.selLayers[0]].timeline.clipPath.use||"color"!==i&&"sfx"!==i&&void 0!==RVS.L[RVS.selLayers[0]].timeline.frames[RVS.S.keyFrame][i]&&RVS.L[RVS.selLayers[0]].timeline.frames[RVS.S.keyFrame][i].use?RVS.V.frameLevels[i][0].className="ts_wrapbrtn":RVS.V.frameLevels[i][0].className="ts_wrapbrtn notinuse"}for(var t in RVS.JHOOKS.updateFrameOptionsVisual)RVS.JHOOKS.updateFrameOptionsVisual.hasOwnProperty(t)&&RVS.JHOOKS.updateFrameOptionsVisual[t]()},RVS.F.extendLayerAnimationLists=function(t){var i=t.direction,a=t.handle;if(RVS.LIB.LAYERANIMS[i][a]=RVS.F.safeExtend(!0,{},t.preset),void 0!==RVS.LIB.LAYERANIMS.translists){var r='<div class="latransgroup"><div class="latransgroup_head"><span class="latransgroup_name">'+RVS.LIB.LAYERANIMS[i][a].group+'</span><div class="animation_drop_arrow"><i class="material-icons">arrow_drop_down</i></div></div><div class="lainner_transitions">',s="";for(var o in RVS.LIB.LAYERANIMS[i][a].transitions)RVS.LIB.LAYERANIMS[i][a].transitions.hasOwnProperty(o)&&(s+='<div data-lindex="'+i+'" data-gindex="'+a+'" data-tindex="'+o+'" class="layer_trans_liste dark_btn">'+RVS.LIB.LAYERANIMS[i][a].transitions[o].name+"</div>");e("#lal_"+i+"_"+a).length>0?e("#lal_"+i+"_"+a).find(".lainner_transitions")[0].innerHTML=e("#lal_"+i+"_"+a).find(".lainner_transitions")[0].innerHTML+s:(r+=s,r+="</div></div>","in"===i?RVS.LIB.LAYERANIMS.translists[0].append(r):"out"===i&&RVS.LIB.LAYERANIMS.translists[999].append(r))}},RVS.F.checkUsedFonts=function(t){RVS.F.checkAvailableFontWeights(t);var i={},a=[];for(var r in RVS.L)if(RVS.L.hasOwnProperty(r)){var s=RVS.L[r];if(("text"===s.type||"button"===s.type)&&void 0!==s.idle&&void 0!==s.idle.fontFamily){var o=s.idle.fontFamily.replace(/\ /g,"_"),n=[];for(var d in RVS.V.sizes)if(RVS.V.sizes.hasOwnProperty(d)){var c=s.idle.fontWeight[RVS.V.sizes[d]].v;c=s.idle.fontStyle?c+"italic":c,-1!==e.inArray(c,n)||void 0!==l[o]&&-1!==e.inArray(c,l[o].weights)||void 0!==i[o]&&-1!==e.inArray(c,i[o].weights)||n.push(c)}n.length>0&&(void 0===i[o]?i[o]={family:o,font:s.idle.fontFamily,weights:n,italic:s.idle.fontStyle}:i[o]={family:o,font:s.idle.fontFamily,weights:RVS.F.mergeArrays(n,i[o].weights),italic:!0===i[o]||s.idle.fontStyle})}}for(var r in i)if(i.hasOwnProperty(r)){var S=RVS.F.loadSingleFont(i[r]);void 0!==S&&a.push(S)}RVS.F.do_google_font_load(a,{silent:!0})},RVS.F.preloadUsedFonts=function(){var e={},t=[];for(var i in RVS.L)if(RVS.L.hasOwnProperty(i)&&("text"===RVS.L[i].type||"button"===RVS.L[i].type)&&void 0!==RVS.L[i].idle&&void 0!==RVS.L[i].idle.fontFamily){var a=RVS.L[i].idle.fontFamily.replace(/\ /g,"_");for(var r in e[a]=void 0===e[a]?{family:a,weights:[],italic:!1}:e[a],e[a].font=RVS.L[i].idle.fontFamily,e[a].italic=!0===e[a].italic||RVS.L[i].idle.fontStyle,RVS.V.sizes)RVS.V.sizes.hasOwnProperty(r)&&-1===e[a].weights.toString().indexOf(RVS.L[i].idle.fontWeight[RVS.V.sizes[r]].v)&&e[a].weights.push(RVS.L[i].idle.fontWeight[RVS.V.sizes[r]].v)}for(var i in e)if(e.hasOwnProperty(i)){var s=RVS.F.loadSingleFont(e[i]);void 0!==s&&t.push(s)}RVS.F.do_google_font_load(t)},RVS.F.loadSingleFont=function(t){var i=function(e){var t=!1;for(var i in RVS.LIB.FONTS)if(RVS.LIB.FONTS.hasOwnProperty(i)&&RVS.LIB.FONTS[i].label==e){"googlefont"==RVS.LIB.FONTS[i].type&&(t=RVS.LIB.FONTS[i]);break}return t}(t.font);if(i&&(t.weights=void 0===t.weights?[]:t.weights,t.subsets=void 0===t.subsets?[]:t.subsets,t.font=t.font.replace(/\ /g,"+"),void 0===l[t.family]||!RVS.F.matchArray(t.weights,l[t.family].weights))){l[t.family]=void 0===l[t.family]?{weights:t.weights,subsets:t.subsets}:l[t.family],l[t.family].weights=RVS.F.mergeArrays(t.weights,l[t.family].weights);var a="",r="";if(l[t.family].weights=function(t,i){var a=[];for(var r in t)t.hasOwnProperty(r)&&e.inArray(t[r],i)>=0&&a.push(t[r]);return a}(l[t.family].weights,i.variants),0===l[t.family].weights.length)for(var s in i.variants)i.variants.hasOwnProperty(s)&&(s>0?r+=",":r=":",r+=i.variants[s],l[t.family].weights.push(i.variants[s]));else for(var o in l[t.family].weights)l[t.family].weights.hasOwnProperty(o)&&(o>0?r+=",":r=":",r+=l[t.family].weights[o],t.italic&&-1==r.indexOf("italic")&&-1==e.inArray(l[t.family].weights[o]+"italic",l[t.family].weights)&&(r+=","+l[t.family].weights[o]+"italic"));if(void 0!==i.subsets)for(var s in i.subsets)i.subsets.hasOwnProperty(s)&&(s>0?a+=",":a=":",a+=i.subsets[s],t.subsets.push(i.subsets[s]));return t.font+r+a}},RVS.F.do_google_font_load=function(e,t,i){if(t=void 0===t?{silent:!1}:t,null!==e&&e.length>0){var a=0;for(var r in e)e.hasOwnProperty(r)&&(r>0&&" ",e[r],a++);a=1===a?a+" Font":a+" Fonts",tpWebFont.load({google:{families:e},fontactive:m,loading:function(){!0!==t.silent&&RVS.F.showWaitAMinute({fadeIn:500,text:"Please Wait<br><span style='display:block;font-size:30px;line-height:35px'>Loading "+a+"</span>"})},active:function(e){!0!==t.silent&&setTimeout(function(){RVS.F.showWaitAMinute({fadeOut:500}),void 0!==i&&setTimeout(function(){RVS.DOC.trigger(i)},500)},50)},inactive:function(e){!0!==t.silent&&setTimeout(function(){RVS.F.showWaitAMinute({fadeOut:500}),void 0!==i&&setTimeout(function(){RVS.DOC.trigger(i)},500)},50)}})}},RVS.F.importSelectedLayers=function(t){t=void 0===t?RVS.LIB.OBJ.items.moduleslides[RVS.LIB.OBJ.selectedSlideId].layers:t;var i=!1;void 0!==window.copyPasteLayers&&void 0!==window.copyPasteLayers.layers&&(i=!0,window.backupCopyPaste=RVS.F.safeExtend(!0,{},window.copyPasteLayers.layers)),window.copyPasteLayers={amount:0,layers:{}};for(let e in RVS.LIB.OBJ.import.toImport)RVS.LIB.OBJ.import.toImport.hasOwnProperty(e)&&(window.copyPasteLayers.layers[t[RVS.LIB.OBJ.import.toImport[e]].uid]=RVS.F.safeExtend(!0,RVS.F.addLayerObj(t[RVS.LIB.OBJ.import.toImport[e]].type,void 0,!0),t[RVS.LIB.OBJ.import.toImport[e]]));for(var a in"grouplayers"===RVS.LIB.OBJ.depth&&(delete window.copyPasteLayers.layers.bottom,delete window.copyPasteLayers.layers.middle,delete window.copyPasteLayers.layers.top),window.copyPasteLayers.layers)if(window.copyPasteLayers.layers.hasOwnProperty(a))for(var r in window.copyPasteLayers.layers[a].actions.action)window.copyPasteLayers.layers[a].actions.action.hasOwnProperty(r)&&void 0!==window.copyPasteLayers.layers[a].actions.action[r]&&window.copyPasteLayers.layers[a].actions.action[r].layer_target&&(window.copyPasteLayers.layers[a].actions.action[r].beforemigration_layer_target=window.copyPasteLayers.layers[a].actions.action[r].layer_target);var s,o=[],n=[],l=[],d={},c=[];for(var S in window.copyPasteLayers.layers)if(window.copyPasteLayers.layers.hasOwnProperty(S)){var p=window.copyPasteLayers.layers[S].uid;o.push({type:window.copyPasteLayers.layers[p].type,copyPaste:"paste",duplicateId:p,ignoreBackupGroup:!0,ignoreLayerList:!0,ignoreOrderHTMLLayers:!0,prefix:RVS_LANG.imported}),n.push(p),"column"===window.copyPasteLayers.layers[p].type&&(s="row"===window.copyPasteLayers.layers[p].type?p:window.copyPasteLayers.layers[p].group.puid,-1===e.inArray(s,c)&&c.push(s))}for(var a in RVS.F.openBackupGroup({id:"addLayer",txt:"Duplicate Layer(s)",icon:"layers",lastkey:"layer"}),o)if(o.hasOwnProperty(a)){var u=window.copyPasteLayers.layers[n[a]].group.puid;if(-1===u||-1==e.inArray(parseInt(u,0),n)){let e=RVS.F.addLayer(o[a]);d[n[a]]=e,l.push(e)}}for(var a in c)c.hasOwnProperty(a)&&void 0!==RVS.L[c[a]]&&RVS.F.fixColumnsInRows({layerid:c[a]});for(var a in RVS.L)if(RVS.L.hasOwnProperty(a)&&RVS.L[a].actions)for(var r in RVS.L[a].actions.action)RVS.L[a].actions.action.hasOwnProperty(r)&&void 0!==RVS.L[a].actions.action[r]&&RVS.L[a].actions.action[r].beforemigration_layer_target&&(RVS.L[a].actions.action[r].layer_target=d[RVS.L[a].actions.action[r].beforemigration_layer_target],delete RVS.L[a].actions.action[r].beforemigration_layer_target);for(var a in RVS.F.closeBackupGroup({id:"addLayer"}),RVS.F.buildLayerLists({force:!0,ignoreRebuildHTML:!0}),RVS.F.reOrderHTMLLayers(),l)l.hasOwnProperty(a)&&RVS.F.selectLayers({id:l[a],overwrite:!1,action:"add",ignoreUpdate:!0});RVS.F.selectedLayersVisualUpdate(),RVS.F.updateSelectedHtmlLayers(),RVS.F.checkShowHideLayers(),RVS.F.checkLockedLayers(),i&&(window.copyPasteLayers.layers=RVS.F.safeExtend({},window.backupCopyPaste)),setTimeout(function(){RVS.F.showWaitAMinute({fadeOut:500})},100),"layers"===RVS.LIB.OBJ.depth&&(e("#rb_modal_underlay").appendTo("#slider_settings"),RVS.F.RSDialog.close()),RVS.F.closeObjectLibrary(),RVS.F.checkUsedFonts()},RVS.F.getUniqueid=function(){for(;e.inArray(RVS.S.uniqueId,RVS.S.uniqueIds)>=0;)RVS.S.uniqueId++;return RVS.S.uniqueId},RVS.F.addLayerObj=function(t,i,a,r){if(void 0===RVS.ENV.img_ph_url&&(RVS.ENV.video_ph_url=RVS.ENV.img_ph_url=RVS.ENV.plugin_url+"admin/assets/images/transparent_placeholder.png"),"object"==typeof t&&(t=(i=t).type),void 0!==i&&void 0!==i.uid&&e.inArray(i.uid,["top","bottom","middle","zone"])>=0)return i;if(e.inArray(t,["top","bottom","middle","zone"])>=0)return i;"undefined"!=typeof _rmig_&&(i=void 0===i?{}:_rmig_.migrateLayer(i)),i=void 0===i?{}:i;var s={};switch(s.addOns=i.addOns||{},s.type=f(i.type,t),s.subtype=f(i.subtype,""),s.linebreak=f(i.linebreak,!1),s.text="text"===t||"button"===t?f(i.text,"New Layer"):"",s.alias=RVS.F.firstCharUppercase(f(i.alias,"New Layer")),a||(s.uid=f(i.uid,RVS.F.getUniqueid())),s.version=f(i.version,"6.0.0"),s.version=s.version<"6.0.0"?"6.0.0":s.version,s.htmltag=f(i.htmltag,"div"),s.customCSS=f(i.customCSS,""),s.customHoverCSS=f(i.customHoverCSS,""),s.type){case"text":case"button":case"image":s.media=f(i.media,{imageUrl:RVS.ENV.img_ph_url,imageId:"",imageFromStream:!1}),s.media.loaded=!1;break;case"audio":case"video":s.media=f(i.media,{mediaType:"audio"===s.type?"audio":a?"":"html5",audioUrl:"",audioTitle:"",posterUrl:RVS.ENV.video_ph_url,posterId:"",posterFromStream:!1,thumbs:{veryBig:{width:640,height:480,url:RVS.ENV.video_ph_url},big:{width:640,height:480,url:RVS.ENV.video_ph_url},large:{width:640,height:360,url:RVS.ENV.video_ph_url},medium:{width:320,height:240,url:RVS.ENV.video_ph_url},small:{width:200,height:150,url:RVS.ENV.video_ph_url}},nointeraction:!1,descSmall:"",description:"",link:"",mp4Url:"",ogvUrl:"",webmUrl:"",allowFullscreen:!1,args:"",author:"",autoPlay:"true",controls:!1,cover:!1,disableOnMobile:!1,dotted:"none",startAt:"00:00",endAt:"00:00",forceRewind:!0,fullWidth:!1,id:"",videoFromStream:!1,largeControls:!0,leaveOnPause:!0,mute:!0,nextSlideAtEnd:!0,preload:"auto",preloadAudio:"metadata",preloadWait:"0",ratio:"16:9",posterOnPause:!1,posterOnMobile:!1,stopAllVideo:!0,playInline:!0,hideAudio:!0,speed:1,loop:!0,pausetimer:!1,volume:"100"}),s.media.mediaType=a||""!==s.media.mediaType&&void 0!==s.media.mediaType?a?"alwayswrite":s.media.mediaType:"html5",s.media.loop=!0===s.media.loop||void 0!==i&&void 0!==i.media&&("loopandnoslidestop"===i.media.loop||"loop"===i.media.loop||!0===i.media.loop||"true"===i.media.loop),s.media.pausetimer=void 0!==i&&void 0!==i.media&&(!0===i.media.pausetimer||"loopandnoslidestop"!==i.media.loop),!0===s.media.loop&&!0===s.media.nextSlideAtEnd&&(s.media.loop=!1);break;case"svg":case"object":s.svg=f(i.svg,{source:"",renderedData:""})}s.toggle=f(i.toggle,{set:!1,text:"",inverse:!1,useHover:!1});var o=!0===a||!0===r?"auto":"audio"===s.type?"54":"image"!==s.type&&"shape"!==s.type&&"video"!==s.type&&"group"!==s.type?"auto":"300px",n=!0===a||!0===r?"auto":"audio"===s.type?"54":"image"!==s.type&&"shape"!==s.type&&"video"!==s.type&&"group"!==s.type?"auto":"180px",l=!0===a?"auto":"svg"===s.type||"image"===s.type||"video"===s.type,d=!0===a||!0===r?"auto":"image"!==s.type&&"shape"!==s.type&&"video"!==s.type&&"group"!==s.type?"none":300/180;for(var c in s.size=f(i.size,{width:RVS.F.cToResp({default:o}),height:RVS.F.cToResp({default:n}),maxWidth:RVS.F.cToResp({default:"none"}),maxHeight:RVS.F.cToResp({default:"none"}),minWidth:RVS.F.cToResp({default:"none"}),minHeight:RVS.F.cToResp({default:"none"}),originalWidth:0,originalHeight:0,aspectRatio:RVS.F.cToResp({default:d}),covermode:"custom",scaleProportional:l}),void 0!==s.size.height.d&&null===s.size.height.d.v&&(s.size.height.d.v="auto"),"svg"===s.type&&(s.size.scaleProportional=!0),s.size.originalWidth=0===s.size.originalWidth||void 0===s.size.originalWidth?s.size.width.d.v:s.size.originalWidth,s.size.originalHeight=0===s.size.originalHeight||void 0===s.size.originalHeight?s.size.height.d.v:s.size.originalHeight,s.position=f(i.position,{x:a||r?RVS.F.cToResp({default:0,unit:"px"}):RVS.F.cToResp({default:50+RVS.S.rb_ScrollX,unit:"px"}),y:a||r?RVS.F.cToResp({default:0,unit:"px"}):RVS.F.cToResp({default:50+RVS.S.rb_ScrollY,unit:"px"}),horizontal:RVS.F.cToResp({default:"left"}),vertical:RVS.F.cToResp({default:"top"}),position:"absolute"}),void 0!==i.position&&void 0!==i.position.zIndex?s.position.zIndex=i.position.zIndex:s.position.zIndex=function(){var e=5;for(var t in RVS.L)RVS.L.hasOwnProperty(t)&&parseInt(RVS.L[t].position.zIndex,0)>=e&&(e=parseInt(RVS.L[t].position.zIndex,0)+1);return e}(),s.attributes=f(i.attributes,{alt:"",altOption:"media_library",id:"",classes:"",rel:"",tabIndex:0,title:"",wrapperClasses:"",wrapperId:""}),s.behavior=f(i.behavior,{autoResponsive:"row"!==s.type&&"column"!==s.type&&(!(!a&&!r)||RVS.SLIDER.settings.def.autoResponsive),intelligentInherit:"row"!==s.type&&"column"!==s.type&&(!(!a&&!r)||RVS.SLIDER.settings.def.intelligentInherit),responsiveChilds:!(!a&&!r)||RVS.SLIDER.settings.def.responsiveChilds,baseAlign:"grid",responsiveOffset:!(!a&&!r)||RVS.SLIDER.settings.def.responsiveOffset,lazyLoad:"auto",imageSourceType:"full"}),s.group=f(i.group,{puid:-1,groupOrder:s.position.zIndex,columnbreakat:"tablet",columnSize:"1/3"}),"row"===s.type&&-1===s.group.puid&&(s.group.puid="top"),_opacity="group"!==s.type&&"column"!==s.type&&"row"!==s.type||a||r?0:1,s.timeline=f(i.timeline,{scrollBased:"default",forcePrepare:!1,scrollBasedOffset:0,frameToIdle:"frame_1",frames:{frame_0:h({alias:RVS_LANG.enterstage,opacity:_opacity},"frame_0"),frame_1:h({alias:RVS_LANG.onstage,opacity:1,chars:{x:0,y:0,z:0,opacity:1,rotationZ:0,rotationX:0,rotationY:0,scaleX:1,scaleY:1,skewX:0,skewY:0,blur:0,grayscale:0,brightness:100,fuse:!1},words:{x:0,y:0,z:0,opacity:1,rotationZ:0,rotationX:0,rotationY:0,scaleX:1,scaleY:1,skewX:0,skewY:0,blur:0,grayscale:0,brightness:100,fuse:!1},lines:{x:0,y:0,z:0,opacity:1,rotationZ:0,rotationX:0,rotationY:0,scaleX:1,scaleY:1,skewX:0,skewY:0,blur:0,grayscale:0,brightness:100,fuse:!1}},"frame_1"),frame_999:h({endWithSlide:!0,alias:RVS_LANG.leavestage,opacity:a||r?"inherit":0},"frame_999")},clipPath:{use:!1,type:"rectangle",origin:"l"},static:{start:1,end:"last"},loop:y(),tloop:{use:!1,from:"",to:"",repeat:-1,keep:!0,children:!0}}),s.timeline.tloop=void 0===s.timeline.tloop?{use:!1,from:"",to:"",repeat:-1}:s.timeline.tloop,s.timeline.scrollBased=void 0===s.timeline.scrollBased?"default":s.timeline.scrollBased,s.timeline.scrollBasedOffset=void 0===s.timeline.scrollBasedOffset?0:s.timeline.scrollBasedOffset,s.timeline.frames.frame_0.alias=void 0===s.timeline.frames.frame_0.alias?RVS_LANG.enterstage:s.timeline.frames.frame_0.alias,s.timeline.frames.frame_1.alias=void 0===s.timeline.frames.frame_1.alias?RVS_LANG.onstage:s.timeline.frames.frame_1.alias,s.timeline.frames.frame_999.alias=void 0===s.timeline.frames.frame_999.alias?RVS_LANG.leavestage:s.timeline.frames.frame_999.alias,s.timeline.frames)s.timeline.frames.hasOwnProperty(c)&&(s.timeline.frames[c]=v(s.timeline.frames[c]),s.timeline.frames[c].timeline.start<0&&(s.timeline.frames[c].timeline.start=0),s.timeline.frames[c].timeline.startRelative<0&&(s.timeline.frames[c].timeline.startRelative=0));for(var c in s.effects=f(i.effects,{parallax:"-",pxmask:!1,attachToBg:!1,effect:"default"}),s.idle=f(i.idle,{style:"",color:RVS.F.cToResp({default:"#ffffff"}),margin:RVS.F.cToResp({default:[0,0,0,0]}),marginLock:!1,paddingLock:!1,borderWidthLock:!1,borderRadiusLock:!1,padding:RVS.F.cToResp({default:"column"===s.type?[10,10,10,10]:"row"===s.type?[10,10,10,10]:[0,0,0,0]}),autolinebreak:!0,float:RVS.F.cToResp({default:"none"}),clear:RVS.F.cToResp({default:"none"}),display:"block",fontFamily:"Roboto",fontStyle:!1,fontSize:RVS.F.cToResp({default:"20"}),fontWeight:RVS.F.cToResp({default:"400"}),letterSpacing:RVS.F.cToResp({default:"0"}),lineHeight:RVS.F.cToResp({default:"25"}),overflow:"visible",textAlign:RVS.F.cToResp({default:"left"}),verticalAlign:"top",cursor:"auto",backgroundColor:"shape"!==s.type||a||r?"transparent":"rgba(0,0,0,0.5)",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:"",backgroundImageId:"",borderColor:"transparent",borderRadius:{v:[0,0,0,0],u:"%"},borderStyle:RVS.F.cToResp({default:"none"}),borderWidth:[0,0,0,0],rotationX:0,rotationY:0,rotationZ:0,opacity:1,textDecoration:"none",textTransform:"none",boxShadow:{inuse:!1,container:"content",hoffset:RVS.F.cToResp({default:0,val:0}),voffset:RVS.F.cToResp({default:0,val:0}),blur:RVS.F.cToResp({default:0,val:0}),spread:RVS.F.cToResp({default:0,val:0}),color:"rgba(0,0,0,0)"},textShadow:{inuse:!1,hoffset:RVS.F.cToResp({default:0,val:0}),voffset:RVS.F.cToResp({default:0,val:0}),blur:RVS.F.cToResp({default:0,val:0}),color:"rgba(0,0,0,0.25)"},filter:{blendMode:"normal",showInEditor:!0},spikeUse:!1,spikeLeft:"none",spikeLeftWidth:10,spikeRight:"none",spikeRightWidth:10,cornerLeft:"none",cornerRight:"none",selectable:"default",whiteSpace:RVS.F.cToResp({default:"row"===s.type||"column"===s.type?"normal":!0!==a&&1!=r?"full":"nowrap"}),svg:{color:RVS.F.cToResp({default:"#ffffff"}),strokeColor:"transparent",strokeDashArray:0,strokeDashOffset:0,strokeWidth:0}}),"object"!=typeof s.idle.borderStyle&&(s.idle.borderStyle=RVS.F.cToResp({default:s.idle.borderStyle})),s.idle.fontFamily=void 0===s.idle.fontFamily||""===s.idle.fontFamily||s.idle.fontFamily.toLowerCase()!==s.idle.fontFamily?RVS.F.compareGoogleFontName(s.idle.fontFamily,!0):RVS.F.compareGoogleFontName(s.idle.fontFamily),s.idle.fontFamily=void 0===s.idle.fontFamily?"Roboto":s.idle.fontFamily,s.idle.fontStyle="normal"!==s.idle.fontStyle&&!1!==s.idle.fontStyle,RVS.V.sizes)if(RVS.V.sizes.hasOwnProperty(c))for(var S=0;S<4;S++)s.idle.margin[RVS.V.sizes[c]].v[S]=parseInt(s.idle.margin[RVS.V.sizes[c]].v[S],0)||0,s.idle.padding[RVS.V.sizes[c]].v[S]=parseInt(s.idle.padding[RVS.V.sizes[c]].v[S],0)||0;for(var c in s.hover=f(i.hover,{usehover:!1,usehovermask:!1,color:"#ffffff",opacity:1,backgroundColor:"transparent",borderColor:"transparent",borderRadius:{v:[0,0,0,0],u:"%"},borderStyle:"none",borderWidth:[0,0,0,0],transformPerspective:"600",originX:"50%",originY:"50%",originZ:"50%",rotationZ:0,rotationX:0,rotationY:0,scaleX:1,scaleY:1,skewX:0,skewY:0,textDecoration:"none",x:0,y:0,z:0,speed:300,ease:"Power3.easeInOut",zIndex:"auto",pointerEvents:"auto",filter:{grayscale:0,brightness:100,blur:0},svg:{color:"#ffffff",strokeColor:"transparent",strokeDashArray:0,strokeDashOffset:0,strokeWidth:0}}),s.actions=f(i.actions,{triggerMemory:"reset",action:[]}),s.visibility=f(i.visibility,{visible:!0,locked:!1,d:!0,m:!0,n:!0,t:!0,hideunder:!1,onlyOnSlideHover:!1}),s.runtime=f(i.runtime,{internalClass:"",isDemo:!1,unavailable:!1}),RVS.S.uniqueIds.push(s.uid),RVS.LIB.ADDONS)RVS.LIB.ADDONS.hasOwnProperty(c)&&(s.addOns[c]=void 0===s.addOns[c]?{enable:!1}:s.addOns[c]);if(void 0!==s.customCSS&&s.customCSS.length>0){s.customCSS=s.customCSS.replace(/\s\s+/g," ");var p=s.customCSS.split(";"),u="";for(var c in p)if(p.hasOwnProperty(c)){var R=p[c].split(":"),V=R[0].replace(/\s/g,"");if(""!==e.trim(V))switch(V){case"letter-spacing":s.idle.letterSpacing=RVS.F.cToResp({default:R[1]});break;case"text-align":s.idle.textAlign=RVS.F.cToResp({default:R[1]});break;case"text-shadow":-1===R[1].indexOf("none")&&(u+=p[c]);break;default:u+=p[c]+";"}}s.customCSS=u}return s},RVS.F.simplifyLayer=function(e){return"zone"===e.type?RVS.F.safeExtend(!0,{},e):RVS.F.safeExtend(!0,{},RVS.F.simplifyObject(RVS.F.addLayerObj(e.type,void 0,!0),RVS.F.safeExtend(!0,{},e)))},RVS.F.simplifyAllLayer=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=RVS.F.simplifyLayer(e[i]),t[i].type=e[i].type);return t},RVS.F.expandAllLayer=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=RVS.F.safeExtend(!0,RVS.F.addLayerObj(e[i].type,void 0,!0),e[i]));return t},RVS.F.initAddonMigration=function(e){}}()}($nwd_jQuery),function(e){!function(){RVS.RSCBA={a:["width","height","maxWidth","maxHeight","minWidth","minHeight"],ai:["layer_width","layer_height","layer_max_width","layer_max_height","layer_min_width","layer_min_height"],t:["fontSize","lineHeight","letterSpacing"],ti:["layer_font_size_idle","layer_line_height_idle","layer_letter_spacing_idle"],f:["transform","mask","chars","words","lines"],sh:["hoffset","voffset","blur","spread"]};var t,i,a=["horizontal","vertical","borderStyle","width","height","x","y","lineHeight","fontSize","color","textAlign","fontWeight","letterSpacing","blur","hoffset","voffset","spread","frameX","frameY","charsX","charsY","wordsX","wordsY","linesX","linesY","whiteSpace"];function r(e){var t="start";void 0!==e.container&&e.container.find(e.type).each(function(){e.uid!==this.dataset.uid&&(t=RVS.L[this.dataset.uid].group.groupOrder<=RVS.L[e.uid].group.groupOrder&&void 0!==RVS.H[this.dataset.uid]?this.dataset.uid:t)}),"start"===t?e.container.prepend(e.layer):RVS.F.insertAfter(e.layer[0],RVS.H[t].w[0])}function s(e){void 0!==e&&e.resizable({handles:"se",start:function(e,t){switch(RVS.L[RVS.selLayers[0]].type){case"text":case"button":RVS.F.showForms("*slidelayout**mode__slidecontent*#form_layer_style",!0);break;default:RVS.F.showForms("*slidelayout**mode__slidecontent*#form_layer_position",!0)}RVS.C.layergrid.addClass("layersInDragorResize"),RVS.F.doResizeLayers({mode:"init"}),window.lastReScalerWidth=RVS.H[RVS.selLayers[0]].w.width()},resize:function(e,t){var i=Math.round(t.size.width/t.originalSize.width*100)/100;i!==window.lastReScalerSize&&RVS.F.doResizeLayers({mode:"update",size:i}),window.lastReScalerSize=i},aspectRatio:!0,stop:function(e,t){var i=Math.round(t.size.width/t.originalSize.width*100)/100;RVS.F.doResizeLayers({mode:"set",size:i}),t.helper[0].style.width="100%",t.helper[0].style.height="100%",RVS.C.layergrid.removeClass("layersInDragorResize"),RVS.S.justresized=!0,setTimeout(function(){RVS.S.justresized=!1},100)}})}function o(t,i,a,r,s){var o;return void 0===i||"auto"==i||"none"==i||!e.isNumeric(parseInt(i,0))||!e.isNumeric(i)&&i.indexOf("%")>0?o=i:(o=Math[t](parseInt(i,0)*a),o=void 0===r?o:o+r),o}function n(t){var i={x:t.position.x[RVS.screen].v,y:t.position.y[RVS.screen].v,padding:RVS.F.safeExtend(!0,{},t.idle.padding[RVS.screen].v),borderRadius:RVS.F.safeExtend(!0,{},t.idle.borderRadius.v),width:t.size.width[RVS.screen].v,height:t.size.height[RVS.screen].v,minHeight:t.size.minHeight[RVS.screen].v,maxHeight:t.size.maxHeight[RVS.screen].v,minWidth:t.size.minWidth[RVS.screen].v,maxWidth:t.size.maxWidth[RVS.screen].v,wrap:t.idle.whiteSpace[RVS.screen].v,boxShadow:{hoffset:t.idle.boxShadow.hoffset[RVS.screen].v,voffset:t.idle.boxShadow.voffset[RVS.screen].v,blur:t.idle.boxShadow.blur[RVS.screen].v,spread:t.idle.boxShadow.spread[RVS.screen].v}};for(var a in e.inArray(t.type,["text","button"])>=0&&(i.fontSize=t.idle.fontSize[RVS.screen].v,i.letterSpacing=t.idle.letterSpacing[RVS.screen].v,i.lineHeight=t.idle.lineHeight[RVS.screen].v),i.frames={},t.timeline.frames)t.timeline.frames.hasOwnProperty(a)&&(i.frames[a]={transform:{x:t.timeline.frames[a].transform.x[RVS.screen].v,y:t.timeline.frames[a].transform.y[RVS.screen].v},mask:{x:t.timeline.frames[a].mask.x[RVS.screen].v,y:t.timeline.frames[a].mask.y[RVS.screen].v},chars:{x:t.timeline.frames[a].chars.x[RVS.screen].v,y:t.timeline.frames[a].chars.y[RVS.screen].v},words:{x:t.timeline.frames[a].words.x[RVS.screen].v,y:t.timeline.frames[a].words.y[RVS.screen].v},lines:{x:t.timeline.frames[a].lines.x[RVS.screen].v,y:t.timeline.frames[a].lines.y[RVS.screen].v}});return i}function l(t){var i=RVS.L[t.layerid],a=RSCBS[t.layerid],r=RVS.S.slideId+".layers."+t.layerid;if(e.inArray(i.type,["text","button"])>=0)for(var s in RVS.RSCBA.t)RVS.F.updateSliderObj({path:r+".idle."+RVS.RSCBA.t[s]+"."+RVS.screen+".v",val:o("round",a[RVS.RSCBA.t[s]],t.size),ignoreResponsive:t.ignoreResponsive,ignoreBackup:t.ignoreBackup});for(var s in RVS.RSCBA.a)RVS.F.updateSliderObj({path:r+".size."+RVS.RSCBA.a[s]+"."+RVS.screen+".v",val:o("round",a[RVS.RSCBA.a[s]],t.size),ignoreResponsive:t.ignoreResponsive,ignoreBackup:t.ignoreBackup});for(var n=0;n<4;n++)RVS.F.updateSliderObj({path:r+".idle.padding."+RVS.screen+".v."+n,val:o("round",a.padding[n],t.size),ignoreResponsive:t.ignoreResponsive,ignoreBackup:t.ignoreBackup});if(!0===i.idle.boxShadow.inuse)for(var s in RVS.RSCBA.sh)RVS.RSCBA.sh.hasOwnProperty(s)&&RVS.F.updateSliderObj({path:r+".idle.boxShadow."+RVS.RSCBA.sh[s]+"."+RVS.screen+".v",val:o("round",a.boxShadow[RVS.RSCBA.sh[s]],t.size,"px"),ignoreResponsive:t.ignoreResponsive,ignoreBackup:t.ignoreBackup});for(n in RVS.L[t.layerid].timeline.frames)if(RVS.L[t.layerid].timeline.frames.hasOwnProperty(n))for(var s in RVS.RSCBA.f)RVS.RSCBA.f.hasOwnProperty(s)&&(RVS.F.updateSliderObj({path:r+".timeline.frames."+n+"."+RVS.RSCBA.f[s]+".x."+RVS.screen+".v",val:o("round",a.frames[n][RVS.RSCBA.f[s]].x,t.size,"px"),ignoreResponsive:t.ignoreResponsive,ignoreBackup:t.ignoreBackup}),RVS.F.updateSliderObj({path:r+".timeline.frames."+n+"."+RVS.RSCBA.f[s]+".y."+RVS.screen+".v",val:o("round",a.frames[n][RVS.RSCBA.f[s]].y,t.size,"px"),ignoreResponsive:t.ignoreResponsive,ignoreBackup:t.ignoreBackup}));t.ingroup&&(RVS.F.updateSliderObj({path:r+".position.x."+RVS.screen+".v",val:o("round",a.x,t.size,"px"),ignoreResponsive:t.ignoreResponsive,ignoreBackup:t.ignoreBackup}),RVS.F.updateSliderObj({path:r+".position.y."+RVS.screen+".v",val:o("round",a.y,t.size,"px"),ignoreResponsive:t.ignoreResponsive,ignoreBackup:t.ignoreBackup})),RVS.F.drawHTMLLayer({uid:t.layerid}),RVS.F.updateEasyInputs({container:e("#form_layer_style"),path:RVS.S.slideId+".layers.",trigger:"init",multiselection:!0}),RVS.F.updateEasyInputs({container:e("#form_layer_advstyle"),path:RVS.S.slideId+".layers.",trigger:"init",multiselection:!0}),RVS.F.updateEasyInputs({container:e("#form_layer_position"),path:RVS.S.slideId+".layers.",trigger:"init",multiselection:!0})}function d(t){var i=RVS.L[t.layerid],a=RSCBS[t.layerid];if(RVS.cC=void 0===RVS.cC?{}:RVS.cC,e.inArray(i.type,["text","button"])>=0)for(var r in RVS.RSCBA.t)RVS.RSCBA.t.hasOwnProperty(r)&&(i.idle[RVS.RSCBA.t[r]][RVS.screen].v=o("round",a[RVS.RSCBA.t[r]],t.size),RVS.cC["js_"+RVS.RSCBA.t[r]]=void 0===RVS.cC["js_"+RVS.RSCBA.t[r]]?document.getElementById(RVS.RSCBA.ti[r]):RVS.cC["js_"+RVS.RSCBA.t[r]],RVS.cC["js_"+RVS.RSCBA.t[r]].value=i.idle[RVS.RSCBA.t[r]][RVS.screen].v+"px");for(var r in RVS.RSCBA.a)RVS.RSCBA.a.hasOwnProperty(r)&&(i.size[RVS.RSCBA.a[r]][RVS.screen].v=o("width"===RVS.RSCBA.a[r]?"ceil":"round",a[RVS.RSCBA.a[r]],t.size),RVS.cC["js_"+RVS.RSCBA.a[r]]=void 0===RVS.cC["js_"+RVS.RSCBA.a[r]]?document.getElementById(RVS.RSCBA.ai[r]):RVS.cC["js_"+RVS.RSCBA.a[r]],RVS.cC["js_"+RVS.RSCBA.a[r]].value=i.size[RVS.RSCBA.a[r]][RVS.screen].v+(e.isNumeric(i.size[RVS.RSCBA.a[r]][RVS.screen].v)?"px":""));if(!0===i.idle.boxShadow.inuse)for(var r in RVS.RSCBA.sh)RVS.RSCBA.sh.hasOwnProperty(r)&&(i.idle.boxShadow[RVS.RSCBA.sh[r]][RVS.screen].v=o("round",a.boxShadow[RVS.RSCBA.sh[r]],t.size,"px"));for(var s=0;s<4;s++)i.idle.padding[RVS.screen].v[s]=o("round",a.padding[s],t.size);t.ingroup&&(i.position.x[RVS.screen].v=o("round",a.x,t.size,"px"),i.position.y[RVS.screen].v=o("round",a.y,t.size,"px")),RVS.F.drawHTMLLayer({uid:t.layerid,ignoreLayerAnimation:!0})}function c(e){RVS.H[e].w.removeClass("dont_blur").removeClass("drop_over_layer").removeClass("drop_after_layer").removeClass("drop_before_layer").removeClass("drop_before_firstlayer").removeClass("drop_after_lastlayer")}function S(){var e=void 0!==RVS.S.DaD.target?RVS.S.DaD.target.into:"free";"column"===e?(void 0!==RVS.S.DaD.target&&(RVS.C.layergrid.removeClass("drop_in_root"),void 0!==RVS.S.DaD.target.rowID&&"group"!==RVS.S.DaD.target.rowID&&RVS.H[RVS.S.DaD.target.rowID].w.addClass("dont_blur").addClass("drop_over_layer"),void 0!==RVS.S.DaD.target.columnID&&(RVS.H[RVS.S.DaD.target.columnID].w.addClass("dont_blur").addClass("drop_over_layer"),void 0===RVS.S.DaD.target.elementID&&(RVS.S.DaD.target.columnTop?RVS.H[RVS.S.DaD.target.columnID].w.addClass("drop_before_firstlayer"):RVS.H[RVS.S.DaD.target.columnID].w.addClass("drop_after_lastlayer"))),void 0!==RVS.S.DaD.target.elementID&&(RVS.S.DaD.target.elementBefore?RVS.H[RVS.S.DaD.target.elementID].w.addClass("drop_before_layer"):RVS.H[RVS.S.DaD.target.elementID].w.addClass("drop_after_layer"))),"column"==RVS.S.DaD.target.columnType&&0==RVS.S.DaD.showInMini&&(RVS.S.DaD.showInMini=!0,punchgs.TweenLite.to(RVS.S.DaD.uiHelper,.3,{left:RVS.S.mP.left-RVS.S.layer_grid_offset.left,top:RVS.S.mP.top-RVS.S.layer_grid_offset.top,transformOrigin:"0 0",width:RVS.S.DaD.originalWidth,display:RVS.L[RVS.S.DaD.currentLayerId].idle.display,opacity:.75,scale:.6,x:0+RVS.S.DaD.scrolldiff.x,y:0+RVS.S.DaD.scrolldiff.y}))):"free"===e&&(RVS.S.DaD.showInMini&&1==RVS.S.DaD.showInMini&&punchgs.TweenLite.to(RVS.S.DaD.uiHelper,.3,{top:RVS.S.mP.top+RVS.S.rb_ScrollY,width:RVS.L[RVS.S.DaD.currentLayerId].size.width[RVS.screen].v,display:"block",left:RVS.S.mP.left+RVS.S.rb_ScrollX,scale:1,x:0-RVS.S.DaD.touchPosition.x+"px",y:0-RVS.S.DaD.touchPosition.y+"px"}),RVS.S.DaD.showInMini=!1,void 0!==RVS.S.DaD.target&&(RVS.C.layergrid.addClass("drop_in_root"),void 0!==RVS.S.DaD.target.rowID&&-1!==RVS.S.DaD.target.rowID&&"group"!==RVS.S.DaD.target.rowID&&RVS.H[RVS.S.DaD.target.rowID].w.removeClass("dont_blur").removeClass("drop_over_layer"),void 0!==RVS.S.DaD.target.columnID&&RVS.H[RVS.S.DaD.target.columnID].w.removeClass("dont_blur").removeClass("drop_over_layer").removeClass("drop_before_firstlayer").removeClass("drop_after_lastlayer"),void 0!==RVS.S.DaD.target.elementID&&RVS.H[RVS.S.DaD.target.elementID].w.removeClass("drop_after_layer").removeClass("drop_before_layer"),-1!==RVS.S.DaD.lastRegisteredRow&&"group"!==RVS.S.DaD.lastRegisteredRow&&void 0!==RVS.S.DaD.lastRegisteredRow&&void 0!==RVS.S.DaD.lastRegisteredRow&&RVS.H[RVS.S.DaD.lastRegisteredRow].w.addClass("dont_blur").addClass("drop_over_layer")))}function p(){for(var e in RVS.H)RVS.H.hasOwnProperty(e)&&delete RVS.H[e].coor}function u(t){for(var i=t.l[RVS.V.sizes[0]].v,a=1,r=0;r<=3;r++){var s=e.isNumeric(i)?"":i.indexOf("%")>=0?"%":"px",o="inherit"===i||!e.isNumeric(i)&&(i.indexOf("{")>=0||i.indexOf("[")>=0||e.inArray(i,["top","left","bottom","right","center","middle"])>=0||"#"==i[0]&&"/"==i[2]&&"#"==i[4]);a=t.iii?RVS.S.shrink[RVS.V.sizes[r]]:a,t.allToOne||(i=t.reset||!t.l[RVS.V.sizes[r]].e?t.shrink?o||"auto"===i||!e.isNumeric(i)&&i.indexOf("%")>=0?i:parseInt(i,0)*a:i:t.number&&!o&&"auto"!==i?parseInt(t.l[RVS.V.sizes[r]].v,0):t.l[RVS.V.sizes[r]].v);var n=t.allToOne?i:!t.reset&&t.l[RVS.V.sizes[r]].e?t.l[RVS.V.sizes[r]].v:t.number?"auto"===i||o?i:void 0!==t.minValue?Math.max(t.minValue,Math.round(parseInt(i,0))):Math.round(parseInt(i,0)):i;s="auto"!==n&&e.isNumeric(n)?s:"",t.backup?(RVS.F.updateSliderObj({ignoreResponsive:!0,path:RVS.S.slideId+".layers."+t.p+RVS.V.sizes[r]+".v",val:n+s}),t.notEdited&&RVS.F.updateSliderObj({ignoreResponsive:!0,path:RVS.S.slideId+".layers."+t.p+RVS.V.sizes[r]+".e",val:!1})):(t.l[RVS.V.sizes[r]].v=n+s,t.notEdited&&(t.l[RVS.V.sizes[r]].e=!1)),i=n+s}}function R(t){var i=e(t.id);i.addClass("selected"),e(t.remove).removeClass("selected"),e("#toolkit_selector_ph_icon").html(i[0].dataset.toolkiticon),e("#toolkit_selector_ph_icon_sub").html(i[0].dataset.toolkiticonsub),t.multi&&0===e("#selectbydraw").length?e("#rev_slider_ul").append('<div id="selectbydraw"></div>'):t.multi||e("#selectbydraw").remove(),window.RS_sel_and_add=t.add}RVS.F.initLayerTools=function(){RVS.DOC.on("copyhoversettings",function(t,i){if(0!==RVS.selLayers.length&&(void 0===i||"checkiffirst"!==i||!0!==RVS.L[RVS.selLayers[0]].hover.copied)){for(var a in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(a)){var r=RVS.L[RVS.selLayers[a]];r.hover.copied=!0,r.hover.backgroundColor=r.idle.backgroundColor,r.hover.borderColor=r.idle.borderColor,r.hover.color=r.idle.color[RVS.screen].v,r.hover.borderRadius=RVS.F.safeExtend(!0,{},r.idle.borderRadius),r.hover.borderStyle=r.idle.borderStyle[RVS.screen].v,r.hover.borderWidth=r.idle.borderWidth.map(e=>e),RVS.F.drawHTMLLayer({uid:RVS.selLayers[a]})}RVS.F.updateEasyInputs({container:e("#form_layer_hover"),path:RVS.S.slideId+".layers.",trigger:"init",multiselection:!0})}}),RVS.DOC.on("click",".add_linebreak",function(){var e=new Array;for(var t in RVS.F.openBackupGroup({id:"addLineBreak",txt:"Add LineBreak",icon:"add",lastkey:"layer"}),RVS.selLayers)RVS.selLayers.hasOwnProperty(t)&&e.push(RVS.selLayers[t]);for(t in e)if(e.hasOwnProperty(t)&&-1!==RVS.L[e[t]].group.puid&&"column"===RVS.L[RVS.L[e[t]].group.puid].type){var i=RVS.F.addLayer({type:"linebreak",forceSelect:!1,subtype:this.dataset.subtype});RVS.F.intelligentUpdateValuesOnLayer(i),RVS.F.sortLayer({layer:""+i,target:this.dataset.pos,env:""+e[t]})}RVS.F.closeBackupGroup({id:"addLineBreak",txt:"Add LineBreak",icon:"add",lastkey:"layer"})}),RVS.DOC.on("updateRowPosition",function(e,t){if(null!=t&&void 0!==t.val)for(var i in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(i))if("row"===RVS.L[RVS.selLayers[i]].type)RVS.L[RVS.selLayers[i]].group.puid!==t.val&&RVS.F.sortLayer({layer:RVS.selLayers[i],target:"zone",env:t.val});else if("column"===RVS.L[RVS.selLayers[i]].type){var a=RVS.L[RVS.selLayers[i]].group.puid;RVS.L[a].group.puid!==t.val&&RVS.F.sortLayer({layer:a,target:"zone",env:t.val})}}),RVS.DOC.on("click","#import_layers",function(){return RVS.F.openObjectLibrary({types:["modules"],filter:"all",selected:["modules"],context:"editor",depth:"layers",updatelist:!1,staticalso:!0,success:{slide:"addImportedLayers"}}),!1}),RVS.DOC.on("click","#add_from_layerlibrary",function(){return RVS.F.openObjectLibrary({types:["layers"],filter:"all",selected:["layers"],context:"editor",depth:"grouplayers",success:{layers:"addLayerLibrary"}}),!1}),RVS.DOC.on("click",".colselector",function(){e("#row_column_structure").val(this.dataset.col).change()}),RVS.DOC.on("click","._group_lock_toggle_",function(){RVS.L[this.dataset.uid].group.locked=void 0===RVS.L[this.dataset.uid].group.locked||!RVS.L[this.dataset.uid].group.locked,RVS.F.updateGroupLocks()}),RVS.DOC.on("update blur change","#row_column_structure",function(){if(void 0!==this.value&&""!=this.value){var t=this.value=RVS.F.figureColumnSizes({plain:this.value}).plain;e("#colselector_wrap .colselector").each(function(){t==RVS.F.sanitize_columns(this.dataset.col)?this.className="colselector selected":this.className="colselector"})}}),RVS.DOC.on("addMetaToLayer",function(t,i){window.metatarget=i.eventparam,RVS.F.RSDialog.create({modalid:"rbm_layer_metas",bgopacity:.5}),e("#rbm_layer_metas .rbm_content").RSScroll({wheelPropagation:!1,suppressScrollX:!0})}),RVS.DOC.on("click",".mdl_group_header",function(){var t=e(this).closest(".mdl_group");t.toggleClass("closed")}),RVS.DOC.on("click","#rbm_layer_metas .rbm_close",function(){RVS.F.RSDialog.close()}),RVS.DOC.on("click",".mdl_group_member",function(){if("layer"===metatarget){var t=e("#ta_layertext")[0].selectionStart;for(var i in RVS.F.openBackupGroup({id:"insertMeta",txt:"Insert Meta Data",icon:"note_add"}),RVS.selLayers)if(RVS.selLayers.hasOwnProperty(i)){var a=RVS.selLayers[i],r=RVS.S.slideId+".layers."+a+".text",s=RVS.L[a].text.substring(0,t),o=RVS.L[a].text.substring(t,RVS.L[a].text.length);RVS.F.updateSliderObj({path:r,val:s+this.dataset.val+o}),RVS.F.redrawTextLayerInnerHTML(a),RVS.F.drawHTMLLayer({uid:a})}RVS.F.closeBackupGroup({id:"insertMeta"}),RVS.F.updateInputFields()}else{var n=e(window.metatarget),t=n[0].selectionStart,l=n.val().substring(0,t)+this.dataset.val+n.val().substring(t,n.val().length);n.val(l).change(),RVS.F.RSDialog.close()}}),RVS.DOC.on("checkforaudiolayer",RVS.F.checkForAudioLayer),RVS.DOC.on("click",".add_layer",function(e,t){if("import_layers"!==this.id&&"add_from_layerlibrary"!==this.id){var i=RVS.F.addLayer({type:this.dataset.type,forceSelect:!0,subtype:this.dataset.subtype});RVS.F.intelligentUpdateValuesOnLayer(i),RVS.F.selectLayers({id:i,overwrite:!0,action:"add"})}}),RVS.DOC.on("click","#do_delete_layer",function(e){RVS.DOC.trigger("do_delete_layer")}),RVS.DOC.on("click",".all_layer_selector",function(){return RVS.DOC.trigger("do_select_all_layer"),!1}),RVS.DOC.on("click","#do_duplicate_layer",function(){RVS.DOC.trigger("do_duplicate_layer")}),RVS.DOC.on("click","#do_copy_layer",function(){RVS.DOC.trigger("do_copy_layer")}),RVS.DOC.on("click","#do_paste_layer",function(){RVS.DOC.trigger("do_paste_layer")}),RVS.DOC.on("mouseenter","#do_background_layer, #do_foreground_layer",function(){var e=RVS.selLayers[0];punchgs.TweenLite.set(RVS.H[e].w,{zIndex:RVS.L[e].position.zIndex})}),RVS.DOC.on("mouseleave","#do_background_layer, #do_foreground_layer",function(){RVS.F.updateSelectedHtmlLayers()}),RVS.DOC.on("click","#do_background_layer",function(){var t=RVS.selLayers[0],i=RVS.F.getLayerAfterZIndex(t);switch(RVS.L[t].type){case"row":void 0!==i?RVS.F.sortLayer({layer:t,target:"after",env:i,redraw:!0}):"top"===RVS.L[t].group.puid?RVS.F.sortLayer({layer:t,target:"zone",env:"middle",redraw:!0}):"middle"===RVS.L[t].group.puid&&RVS.F.sortLayer({layer:t,target:"zone",env:"bottom",redraw:!0});break;case"column":void 0!==i&&RVS.F.sortLayer({layer:t,target:"after",env:i,redraw:!0});break;default:-1===e.inArray(i,["top","bottom","middle"])&&void 0!==RVS.L[t].group&&-1!==RVS.L[t].group.puid&&"column"===RVS.L[RVS.L[t].group.puid].type?(i=RVS.F.getPrevNextLayerInOrder(t,"next"))!==t&&RVS.F.sortLayer({layer:t,target:"after",env:i,redraw:!0}):void 0!==i&&(i="top"===i||"middle"===i?"bottom":i,RVS.F.sortLayer({layer:t,target:"after",env:i,redraw:!0}))}}),RVS.DOC.on("click","#do_foreground_layer",function(){var t=RVS.selLayers[0],i=RVS.F.getLayerBeforeZIndex(t);switch(RVS.L[t].type){case"row":void 0!==i?RVS.F.sortLayer({layer:t,target:"before",env:i,redraw:!0}):"bottom"===RVS.L[t].group.puid?RVS.F.sortLayer({layer:t,target:"zonebottom",env:"middle",redraw:!0}):"middle"===RVS.L[t].group.puid&&RVS.F.sortLayer({layer:t,target:"zonebottom",env:"top",redraw:!0});break;case"column":void 0!==i&&RVS.F.sortLayer({layer:t,target:"before",env:i,redraw:!0});break;default:-1===e.inArray(i,["top","bottom","middle"])&&void 0!==RVS.L[t].group&&-1!==RVS.L[t].group.puid&&"column"===RVS.L[RVS.L[t].group.puid].type?(i=RVS.F.getPrevNextLayerInOrder(t,"prev"))!==t&&RVS.F.sortLayer({layer:t,target:"before",env:i,redraw:!0}):void 0!==i&&(i="bottom"===i||"middle"===i?"top":i,RVS.F.sortLayer({layer:t,target:"before",env:i,redraw:!0}))}}),RVS.DOC.on("keydown",function(e){window.shiftdown=e.shiftKey,window.altdown=e.altKey;var t=!1,i=window.shiftdown?10:1;if(("MacOS"===RVS.S.OSName&&e.metaKey&&!e.ctrlKey||e.ctrlKey)&&(window.cmdctrldown=!0),RVS.S.builderHover&&("none"===RVS.S.inFocus||void 0===RVS.S.inFocus)){if(!window.shiftdown||"layer"===RVS.eMode.top&&"#form_layer_animation"===RVS.eMode.menu||RVS.DOC.trigger("squareselection"),!window.cmdctrldown||"layer"===RVS.eMode.top&&"#form_layer_animation"===RVS.eMode.menu||RVS.DOC.trigger("cursorselectionadd"),"MacOS"===RVS.S.OSName&&e.metaKey&&!e.ctrlKey||e.ctrlKey)switch(e.keyCode){case 65:return RVS.DOC.trigger("do_select_all_layer"),!1;case 67:RVS.DOC.trigger("do_copy_layer");break;case 86:RVS.DOC.trigger("do_paste_layer");break;case 74:!0!==window.altdown&&RVS.DOC.trigger("do_duplicate_layer");break;case 79:var a=document.getElementById("magnet_fr_sticky_inh");a.checked=!0,t=!0;break;case 73:var a=document.getElementById("magnet_fr_sticky");a.checked=!0,t=!0;break;case 85:var a=document.getElementById("magnet_fr_none");a.checked=!0,t=!0}switch(e.keyCode){case 8:case 46:return RVS.DOC.trigger("do_delete_layer"),!1;case 37:return RVS.F.moveLayerByKeys({x:-1*i,y:0}),!1;case 39:return RVS.F.moveLayerByKeys({x:1*i,y:0}),!1;case 38:return RVS.F.moveLayerByKeys({x:0,y:-1*i}),!1;case 40:return RVS.F.moveLayerByKeys({x:0,y:1*i}),!1}}if(t)return e.preventDefault(),!1}),RVS.DOC.on("keyup",function(e){window.shiftdown=e.shiftKey,window.altdown=e.altKey,window.cmdctrldown="MacOS"===RVS.S.OSName&&e.metaKey&&!e.ctrlKey||e.ctrlKey,window.shiftdown||window.cmdctrldown||RVS.DOC.trigger("cursorselection"),window.moveByKeyboard&&(RVS.F.closeBackupGroup({id:"LayerPosition"}),window.moveByKeyboard=!1)}),RVS.DOC.on("click",".ui_free_layers, .ui_top_row_layers",function(){var t=e(this);t.toggleClass("selected"),t.hasClass("selected")?(e("#rev_builder_inner").removeClass(this.dataset.realref),e("#timeline").removeClass(this.dataset.ref)):(e("#rev_builder_inner").addClass(this.dataset.realref),e("#timeline").addClass(this.dataset.ref))}),RVS.DOC.on("click dblclick","._lc_",function(t){if(void 0!==RVS.S.inFocus&&"none"!==RVS.S.inFocus&&RVS.S.inFocus.history&&RVS.S.inFocus.value&&RVS.S.inFocus.history!=RVS.S.inFocus.value&&e(RVS.S.inFocus).trigger("change"),"click"===t.type&&RVS.S.clickedLayer===this.dataset.uid&&void 0!==RVS.S.clickOnLayerTimer&&t.timeStamp-RVS.S.clickOnLayerTimer<800)return!1;if(RVS.S.clickOnLayerTimer=t.timeStamp,RVS.S.clickedLayer=this.dataset.uid,RVS.F.selectLayers({id:this.dataset.uid,overwrite:!window.RS_sel_and_add&&!window.cmdctrldown,action:"add",ignoreUpdate:!1}),-1!==RVS.L[this.dataset.uid].group.puid&&"row"!==RVS.L[this.dataset.uid].type){var i=RVS.L[this.dataset.uid].group.puid;e("#tllayerlist_element_"+RVS.S.slideId+"_"+i).removeClass("collapsed"),-1!==RVS.L[i].group.puid&&"row"!==RVS.L[i].type&&e("#tllayerlist_element_"+RVS.S.slideId+"_"+RVS.L[i].group.puid).removeClass("collapsed"),RVS.F.saveCollapsedGroups()}if("dblclick"===t.type)switch(RVS.F.openSettings({forms:["*slidelayout**mode__slidecontent*#form_layer_content"],uncollapse:!0}),RVS.L[this.dataset.uid].type){case"text":case"button":e("#ta_layertext").focus();break;case"image":"objectlibrary"===RVS.L[this.dataset.uid].media.lastLibrary?e("#image_layer_object_library_button").trigger("click"):e("#image_layer_media_library_button").trigger("click");break;case"svg":RVS.F.openObjectLibrary({types:["fonticons","svgs"],filter:"all",selected:["svgs"],success:{icon:"insertContentFromOL"}})}return 1===RVS.selLayers.length&&RVS.F.layerListScrollable("scrollToSelected"),RVS.DOC.trigger("layerselectioncomplete",[this]),!1}),RVS.DOC.on("dblclick","._lc_",function(){return RVS.F.selectLayers({id:this.dataset.uid,overwrite:!window.RS_sel_and_add,action:"add",ignoreUpdate:!1}),!1}),RVS.DOC.on("mouseenter",".layerlist_element",function(){-1==e.inArray(this.dataset.id,["top","bottom","middle"])&&RVS.H[this.dataset.id].w.addClass("hoveredinlist")}),RVS.DOC.on("mouseleave",".layerlist_element",function(){-1==e.inArray(this.dataset.id,["top","bottom","middle"])&&RVS.H[this.dataset.id].w.removeClass("hoveredinlist")}),RVS.DOC.on("click","#unlock_all_layer",function(){for(var e in RVS.L)if(RVS.L.hasOwnProperty(e)&&void 0!==RVS.L[e].visibility&&RVS.L[e].visibility.locked){RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+e+".visibility.locked",val:!1}),RVS.H[e].w.removeClass("_locked_");var t=document.getElementById("tllayerlist_element_"+RVS.S.slideId+"_"+e);t.className=t.className.replace(" _locked_","")}RVS.F.checkLockedLayers()}),RVS.DOC.on("click",".unlock_single_layerm",function(){RVS.F.lockUnlockLayer({uid:this.dataset.uid,val:!1}),RVS.F.checkLockedLayers()}),RVS.DOC.on("click",".layer_current_locked",function(){RVS.F.lockUnlockLayer({uid:this.dataset.uid}),RVS.F.checkLockedLayers()}),RVS.DOC.on("click","#visible_all_layer",function(){for(var e in RVS.L)if(RVS.L.hasOwnProperty(e)&&void 0!==RVS.L[e].visibility&&!1===RVS.L[e].visibility.visible){RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+e+".visibility.visible",val:!0}),RVS.H[e].w.removeClass("_unvisible_");var t=document.getElementById("tllayerlist_element_"+RVS.S.slideId+"_"+e);t.className=t.className.replace(" _unvisible_","")}RVS.F.checkShowHideLayers()}),RVS.DOC.on("click","#toggle_lock_layer",function(){RVS.F.lockUnlockLayers()}),RVS.DOC.on("click","#toggle_visible_layer",function(){RVS.F.showHideLayers({uid:this.dataset.uid})}),RVS.DOC.on("click","#hide_highlight_boxes",function(){e(this).toggleClass("selected"),e("#the_editor").toggleClass("nohiglightboxes")}),RVS.DOC.on("click",".visible_single_layer",function(){return RVS.F.showHideLayer({uid:this.dataset.uid,val:!0}),RVS.F.checkShowHideLayers(),!1}),RVS.DOC.on("click"," .layer_current_visibility",function(){return RVS.F.showHideLayer({uid:this.dataset.uid}),RVS.F.checkShowHideLayers(),!1}),RVS.DOC.on("mouseenter",".visible_single_layer",function(e){RVS.H[this.dataset.uid].w.addClass("hoveredinlist")}),RVS.DOC.on("mouseleave",".visible_single_layer",function(e){RVS.H[this.dataset.uid].w.removeClass("hoveredinlist")}),RVS.DOC.on("mouseenter",".unlock_single_layer",function(e){RVS.H[this.dataset.uid].w.addClass("hoveredinlist")}),RVS.DOC.on("mouseleave",".unlock_single_layer",function(e){RVS.H[this.dataset.uid].w.removeClass("hoveredinlist")}),RVS.DOC.on("mousedown","#selectbydraw",function(t){RVS.WIN.scrollTop(0);var i=e("#selectbydraw");i.append('<div id="selectbydraw_box"></div>'),RVS.F.updateContentDeltas(),RVS.S.click.y=t.clientY+RVS.S.rb_ScrollY,RVS.S.click.x=t.clientX+RVS.S.rb_ScrollX,window.scrollCacheY=RVS.S.rb_ScrollY,window.scrollCacheX=RVS.S.rb_ScrollX,window.selectbydraw=1,RVS.F.selectLayers({overwrite:!0})}),RVS.DOC.on("mouseup","#selectbydraw",function(t){e("#selectbydraw").remove(),e("#select_by_cursor").click(),RVS.F.selectLayers({}),window.selectbydraw=0}),RVS.DOC.on("mousemove","#selectbydraw",function(t){if(1===window.selectbydraw){var i=e("#selectbydraw");RVS.S.DaD.dragdelta.x=t.clientX+RVS.S.rb_ScrollX-RVS.S.click.x,RVS.S.DaD.dragdelta.y=t.clientY+RVS.S.rb_ScrollY-RVS.S.click.y;var a={x:RVS.S.click.x,y:RVS.S.click.y};a.x=RVS.S.DaD.dragdelta.x<0?a.x+RVS.S.DaD.dragdelta.x:a.x,a.y=RVS.S.DaD.dragdelta.y<0?a.y+RVS.S.DaD.dragdelta.y:a.y;var r={top:a.y,left:a.x,right:a.x+Math.abs(RVS.S.DaD.dragdelta.x),bottom:a.y+Math.abs(RVS.S.DaD.dragdelta.y)},s=i.offset();for(var o in punchgs.TweenLite.set("#selectbydraw_box",{top:a.y,left:a.x,width:Math.abs(RVS.S.DaD.dragdelta.x),height:Math.abs(RVS.S.DaD.dragdelta.y)}),RVS.H)if(RVS.H.hasOwnProperty(o)){var n={top:RVS.H[o].w.offset().top-s.top,left:RVS.H[o].w.offset().left-s.left};n.right=n.left+RVS.H[o].w.width(),n.bottom=n.top+RVS.H[o].w.height(),RVS.L[o].visibility.locked||!RVS.L[o].visibility.visible?RVS.F.selectLayers({id:o,overwrite:!1,action:"remove",ignoreUpdate:"onlyhtml",ignoreFieldUpdates:!0,ignoreModeChange:!0}):!(n.left>r.left&&n.left<r.right&&n.top>r.top&&n.top<r.bottom||n.right>r.left&&n.right<r.right&&n.top>r.top&&n.top<r.bottom||n.left>r.left&&n.left<r.right&&n.bottom>r.top&&n.bottom<r.bottom||n.right>r.left&&n.right<r.right&&n.bottom>r.top&&n.bottom<r.bottom||r.left>n.left&&r.left<n.right&&r.top>n.top&&r.top<n.bottom||r.right>n.left&&r.right<n.right&&r.top>n.top&&r.top<n.bottom||r.left>n.left&&r.left<n.right&&r.bottom>n.top&&r.bottom<n.bottom||r.right>n.left&&r.right<n.right&&r.bottom>n.top&&r.bottom<n.bottom||r.top<n.top&&r.bottom>n.bottom&&r.left>n.left&&r.right<n.right||r.top>n.top&&r.bottom<n.bottom&&r.left<n.left&&r.right>n.right)||r.left>n.left&&r.right<n.right&&r.top>n.top&&r.bottom<n.bottom?RVS.F.selectLayers({id:o,overwrite:!1,action:"remove",ignoreUpdate:"onlyhtml",ignoreFieldUpdates:!0,ignoreModeChange:!0}):RVS.F.selectLayers({id:o,overwrite:!1,action:"add",ignoreUpdate:"onlyhtml",ignoreFieldUpdates:!0,ignoreModeChange:!0})}}}),RVS.DOC.on("mousemove","#dropSensor",function(t){if(1===RVS.S.DaD.dropSensor){RVS.S.rb_ScrollX===window.scrollMem.x&&RVS.S.rb_ScrollY===window.scrollMem.y||p();var i=e("#dropSensor"),a={x:t.clientX,y:t.clientY},r=i.offset();if(RVS.S.DaD.dropTimer=0,RVS.S.DaD.targetBefore=RVS.S.DaD.target,RVS.S.DaD.target={},RVS.S.DaD.dropParentPos={x:0,y:0},clearTimeout(RVS.S.DaD.timer),"group"!==RVS.L[RVS.S.DaD.currentLayerId].type){for(var s in RVS.H)if(RVS.H.hasOwnProperty(s)){c(s),RVS.H[s].coor=void 0===RVS.H[s].coor?{top:RVS.H[s].w.offset().top-r.top-RVS.S.rb_ScrollY,left:RVS.H[s].w.offset().left-r.left-RVS.S.rb_ScrollX,width:RVS.H[s].w.outerWidth(),height:RVS.H[s].w.outerHeight()}:RVS.H[s].coor,RVS.H[s].coor.right=RVS.H[s].coor.left+RVS.H[s].coor.width,RVS.H[s].coor.center=RVS.H[s].coor.left+RVS.H[s].coor.width/2,RVS.H[s].coor.bottom=RVS.H[s].coor.top+RVS.H[s].coor.height,RVS.H[s].coor.middle=RVS.H[s].coor.top+RVS.H[s].coor.height/2;var o=a.x>=RVS.H[s].coor.left&&a.x<=RVS.H[s].coor.right&&a.y>=RVS.H[s].coor.top&&a.y<=RVS.H[s].coor.bottom;o&&"column"===RVS.L[s].type&&RVS.L[s].visibility.visible?(RVS.S.DaD.target.rowID=RVS.L[s].group.puid,RVS.S.DaD.target.columnID=RVS.S.DaD.toContainerID=s,RVS.S.DaD.target.columnType=RVS.S.DaD.toContainerType="column",RVS.S.DaD.target.columnTop=a.y<=RVS.H[s].coor.middle):o&&"group"===RVS.L[s].type&&RVS.L[s].visibility.visible?(RVS.S.DaD.target.rowID="group",RVS.S.DaD.target.columnID=RVS.S.DaD.toContainerID=s,RVS.S.DaD.target.columnType=RVS.S.DaD.toContainerType="group",RVS.S.DaD.target.columnTop=!0):o&&"row"!==RVS.L[s].type&&"group"!==RVS.S.DaD.target.columnType&&s!=RVS.S.DaD.currentLayerId&&(RVS.S.DaD.target.elementID=s,RVS.S.DaD.target.puid=RVS.L[s].group.puid,RVS.S.DaD.target.elementMiddle=RVS.H[s].coor.middle,RVS.S.DaD.target.elementBefore=a.y<=RVS.H[s].coor.middle)}if(void 0!==RVS.S.DaD.target&&"group"===RVS.S.DaD.target.rowID&&(RVS.S.DaD.dropParentPos.x=RVS.H[RVS.S.DaD.target.columnID].w_offset.left,RVS.S.DaD.dropParentPos.y=RVS.H[RVS.S.DaD.target.columnID].w_offset.top),void 0!==RVS.S.DaD.targetBefore&&void 0===RVS.S.DaD.target.elementID&&void 0!==RVS.S.DaD.target.columnID&&RVS.S.DaD.target.columnID===RVS.S.DaD.targetBefore.columnID){var n=RVS.F.getLayerChildren({layerid:RVS.S.DaD.target.columnID}),l=[],d=0,u=1e4;for(var s in n)n.hasOwnProperty(s)&&s!=RVS.S.DaD.currentLayerId&&(RVS.H[s].coor.bottom<a.y||RVS.H[s].coor.middle<=a.y&&RVS.H[s].coor.bottom>=a.y)&&(l.push(s),d=d<RVS.H[s].coor.bottom?RVS.H[s].coor.bottom:d);for(var R in l)if(l.hasOwnProperty(R)){var s=l[R];d<=RVS.H[s].coor.bottom&&u>Math.abs(RVS.H[s].coor.center-a.x)&&(u=Math.abs(RVS.H[s].coor.center-a.x),RVS.S.DaD.target.elementID=s,RVS.S.DaD.target.elementBefore=!1)}}else void 0!==RVS.S.DaD.target.elementID&&void 0!==RVS.S.DaD.target.columnID&&-1==RVS.S.DaD.target.puid&&(RVS.S.DaD.target.elementID=void 0)}else for(var s in RVS.H)RVS.H.hasOwnProperty(s)&&c(s);void 0!==RVS.S.DaD.target&&RVS.S.DaD.lastRegisteredRow===RVS.S.DaD.target.rowID?(RVS.S.DaD.target.into="column",RVS.S.DaD.toContainerID=RVS.S.DaD.target.columnID,RVS.S.DaD.toContainerType=RVS.S.DaD.target.columnType,clearTimeout(RVS.S.DaD.timerLeaveRow),RVS.S.DaD.timerLeaveRowStarted=!1,S()):(RVS.S.DaD.toContainerType="root",RVS.S.DaD.target.into="free",RVS.S.DaD.toContainerID=-1,S()),void 0!==RVS.S.DaD.target&&RVS.S.DaD.lastRegisteredRow!==RVS.S.DaD.target.rowID&&void 0!==RVS.S.DaD.target.rowID&&(RVS.S.DaD.timer=setTimeout(function(){RVS.S.DaD.lastRegisteredRow=RVS.S.DaD.target.rowID,void 0!==RVS.S.DaD.target&&RVS.S.DaD.lastRegisteredRow===RVS.S.DaD.target.rowID?(RVS.S.DaD.lastRegisteredRowBefore&&-1!==RVS.S.DaD.lastRegisteredRowBefore&&"group"!==RVS.S.DaD.lastRegisteredRowBefore&&RVS.H[RVS.S.DaD.lastRegisteredRowBefore].w.removeClass("dont_blur").removeClass("drop_over_layer"),clearTimeout(RVS.S.DaD.timerLeaveRow),RVS.S.DaD.timerLeaveRowStarted=!1,RVS.S.DaD.target.into="column",RVS.S.DaD.toContainerID=RVS.S.DaD.target.columnID,RVS.S.DaD.toContainerType=RVS.S.DaD.target.columnType,S()):(RVS.S.DaD.target.into="free",RVS.S.DaD.toContainerType="root",RVS.S.DaD.toContainerID=-1,S()),RVS.S.DaD.lastRegisteredRowBefore=RVS.S.DaD.lastRegisteredRow},400)),!0!==RVS.S.DaD.timerLeaveRowStarted&&-1!==RVS.S.DaD.lastRegisteredRow&&void 0!==RVS.S.DaD.target&&RVS.S.DaD.lastRegisteredRow!==RVS.S.DaD.target.rowID&&void 0===RVS.S.DaD.target.rowID&&(RVS.S.DaD.timerLeaveRowStarted=!0,RVS.S.DaD.timerLeaveRow=setTimeout(function(){-1!==RVS.S.DaD.lastRegisteredRow&&"group"!==RVS.S.DaD.lastRegisteredRow&&RVS.H[RVS.S.DaD.lastRegisteredRow].w.removeClass("dont_blur").removeClass("drop_over_layer"),RVS.S.DaD.lastRegisteredRow=-1,RVS.S.DaD.target.into="free",RVS.S.DaD.toContainerType="root",RVS.S.DaD.toContainerID=-1,RVS.S.DaD.timerLeaveRowStarted=!1,S()},600))}}),RVS.DOC.on("updateLayerPosition",function(){for(var e in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(e)){var t=RVS.selLayers[e];RVS.F.updateHTMLLayerPosition({uid:t,updateValues:!1,lhCwidth:RVS.H[t].c.outerWidth(),lhCheight:RVS.H[t].c.outerHeight()})}}),RVS.DOC.on("intelligentInheritUpdate",function(e,t){for(var i in void 0!==t&&(!0===t.val?RVS.F.setToIntelligentUpdate():RVS.F.disableIntelligentUpdate()),RVS.selLayers)RVS.selLayers.hasOwnProperty(i)&&RVS.F.drawHTMLLayer({uid:RVS.selLayers[i]})}),RVS.DOC.on("inheritValuesFromDesktop",function(e,t){RVS.F.resetLayersDeviceSizesToDesktop()}),RVS.DOC.on("resetIntelligentInherits",function(e,t){RVS.F.resetIntelligentInherits()}),RVS.DOC.on("updateAllInheritedSize",function(e,t){RVS.F.updateAllInheritedSize()}),RVS.DOC.on("updateColumnStructure",function(){RVS.F.openBackupGroup({id:"RowStructure",txt:"Change Row(s) Structure",icon:"view_column"});var t=RVS.F.figureColumnSizes({plain:e("#row_column_structure").val()});for(var i in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(i)){var a="column"===RVS.L[RVS.selLayers[i]].type?RVS.L[RVS.selLayers[i]].group.puid:RVS.selLayers[i];if("row"===RVS.L[a].type){var r=RVS.F.getColumnsInRow({layerid:a});if(r.length>t.cols.length)for(var s=r[t.cols.length-1],o=r.length-1;o>=t.cols.length;o--)RVS.F.deleteLayerfromLayers({layerid:r[o],newpuid:s});else if(r.length<t.cols.length)for(var o=r.length;o<t.cols.length;o++)RVS.F.addLayerToLayers({type:"column",puid:a,alias:"column"});r=RVS.F.getColumnsInRow({layerid:a});for(var o=0;o<r.length;o++){var n=RVS.S.slideId+".layers."+r[o]+".group.columnSize";RVS.F.updateSliderObj({path:n,val:t.cols[o]})}}}RVS.F.closeBackupGroup({id:"RowStructure"}),RVS.F.buildLayerLists({force:!0})}),RVS.DOC.on("updateLayerAliasFromSingleInput",function(e,t){null!=t.layerid&&(document.getElementById("layerlist_element_alias_"+RVS.S.slideId+"_"+t.layerid).innerHTML=RVS.L[t.layerid].alias,document.getElementById("layerlist_element_alias_input_"+RVS.S.slideId+"_"+t.layerid).value=RVS.L[t.layerid].alias,"group"===RVS.L[t.layerid].type&&(document.getElementById("_group_head_title_"+RVS.S.slideId+"_"+t.layerid).innerHTML=RVS.L[t.layerid].alias))}),RVS.DOC.on("do_select_all_layer",function(){for(var e in RVS.L)RVS.L.hasOwnProperty(e)&&RVS.F.selectLayers({id:e,overwrite:!1,action:"add",ignoreUpdate:"onlyhtml",ignoreFieldUpdates:!0,ignoreModeChange:!0});RVS.F.selectLayers({})}),RVS.DOC.on("do_delete_layer",function(){RVS.DOC.trigger("previewStopLayerAnimation"),RVS.F.openBackupGroup({id:"removeLayer",txt:"Remove Multiple Layers",icon:"delete",lastkey:"layer"});var t,i=[],a=[];for(var r in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(r)){var s=RVS.selLayers[r];-1==RVS.L[s].group.puid?i.push(s):"row"!==RVS.L[s].type&&"column"!==RVS.L[s].type||(t="row"===RVS.L[s].type?s:RVS.L[s].group.puid,-1===e.inArray(t,a)&&a.push(t),i.push(s))}for(var r in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(r)){var s=RVS.selLayers[r];if(-1!==RVS.L[s].group.puid&&"column"!==RVS.L[s].type&&"row"!==RVS.L[s].type){var o="column"===RVS.L[RVS.L[s].group.puid].type?RVS.L[RVS.L[s].group.puid].group.puid:RVS.L[s].group.puid;-1===e.inArray(o,i)&&i.push(s)}}for(var n in i)i.hasOwnProperty(n)&&RVS.F.deleteLayerfromLayers({layerid:i[n]});if(a.length>0)for(var n in a)a.hasOwnProperty(n)&&void 0!==RVS.L[a[n]]&&(0===RVS.F.getColumnsInRow({layerid:a[n]}).length?RVS.F.deleteLayerfromLayers({layerid:a[n]}):RVS.F.fixColumnsInRows({layerid:a[n]}));RVS.F.closeBackupGroup({id:"removeLayer"}),RVS.F.buildLayerLists({force:!0})}),RVS.DOC.on("updateColumnBreak",function(e,t){RVS.F.openBackupGroup({id:"ColumnBreak",txt:"Row Breakpoint",icon:"layers",lastkey:"layer"});var i=[];for(var a in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(a)&&("row"===RVS.L[RVS.selLayers[a]].type||"column"===RVS.L[RVS.selLayers[a]].type)){var r="column"===RVS.L[RVS.selLayers[a]].type?RVS.L[RVS.selLayers[a]].group.puid:RVS.selLayers[a],s=RVS.S.slideId+".layers."+r+".";RVS.F.updateSliderObj({path:s+"group.columnbreakat",val:t.val}),i.push(r)}for(var o in RVS.F.closeBackupGroup({id:"ColumnBreak"}),i)if(i.hasOwnProperty(o)){var n=RVS.F.getColumnsInRow({layerid:i[o]});for(var l in n)n.hasOwnProperty(l)&&(RVS.L[n[l]].group.columnbreakat=t.val,RVS.F.drawHTMLLayer({uid:n[l]}));RVS.F.drawHTMLLayer({uid:i[o]})}}),RVS.DOC.on("squareselection",function(){R({id:"#select_by_draw",remove:"#select_by_cursor, #select_by_cursor_add",add:!1,multi:!0})}),RVS.DOC.on("cursorselection",function(){R({id:"#select_by_cursor",remove:"#select_by_draw, #select_by_cursor_add",add:!1,multi:!1})}),RVS.DOC.on("cursorselectionadd",function(){R({id:"#select_by_cursor_add",remove:"#select_by_draw, #select_by_cursor",add:!0,multi:!1})}),RVS.DOC.on("lockLayer",function(e,t){RVS.F.lockUnlockLayers(t)}),RVS.DOC.on("showHideLayer",function(e,t){RVS.F.showHideLayers(t)}),RVS.DOC.on("frameAnimToCustom",function(e,t){}),RVS.DOC.on("click",".getLayerImageFromVimeo",function(){e.ajax({type:"GET",url:"http://vimeo.com/api/v2/video/"+e("#layer_youtubevimeo_id").val()+".json?callback=showThumb",jsonp:"callback",dataType:"jsonp",success:function(t){e("#layer_video_poster").val(t[0].thumbnail_large).trigger("change")}})}),RVS.DOC.on("click",".getLayerImageFromYouTube",function(){var t=e("#layer_youtubevimeo_id").val();e("#layer_video_poster").val("https://img.youtube.com/vi/"+t+"/maxresdefault.jpg").trigger("change")}),RVS.DOC.on("click",".removeLayerPoster",function(){e("#layer_video_poster").val(RVS.ENV.img_ph_url).trigger("change")}),RVS.DOC.on("click",".resetVideoArguments",function(){var t=e('input[name="layer_video_type"]:checked').val(),i="vimeo"===t?RVS.ENV.vimeoargs:"youtube"===t?RVS.ENV.youtubeargs:"";e("#layer_video_arg").val(i).trigger("change")}),RVS.DOC.on("checkVideoID",function(t,i){if(void 0!==i&&void 0!==i.val){for(var a in RVS.F.openBackupGroup({id:"VideoTypeChange",txt:"Change Video Type",icon:"layers",lastkey:"layer"}),RVS.selLayers)RVS.selLayers.hasOwnProperty(a)&&(_.uid=RVS.selLayers[a],_.l=RVS.L[_.uid],_.pre=RVS.S.slideId+".layers."+_.uid+".","vimeo"===i.val?(RVS.F.updateSliderObj({path:_.pre+"media.args",val:RVS.ENV.vimeoargs}),e("#layer_video_arg").val(RVS.ENV.vimeoargs)):"youtube"===i.val&&(RVS.F.updateSliderObj({path:_.pre+"media.args",val:RVS.ENV.youtubeargs}),e("#layer_video_arg").val(RVS.ENV.youtubeargs)),RVS.F.updateSliderObj({path:_.pre+"media.mediaType",val:i.val}));RVS.F.closeBackupGroup({id:"VideoTypeChange"})}var r=e('input[name="layer_video_type"]:checked').val(),s=e("#layer_youtubevimeo_id").val();"vimeo"===r&&RVS.F.checkVimeoID({id:s}),"youtube"===r&&RVS.F.checkYouTubeID({id:s})}),RVS.DOC.on("do_duplicate_layer",function(){var t,i=[],a=[],r=[],s=[];for(var o in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(o)){var n=RVS.selLayers[o];i.push({type:RVS.L[n].type,duplicateId:n,ignoreBackupGroup:!0,ignoreLayerList:!0,ignoreOrderHTMLLayers:!0}),a.push(n),"column"===RVS.L[n].type&&(t="row"===RVS.L[n].type?n:RVS.L[n].group.puid,-1===e.inArray(t,s)&&s.push(t))}for(var l in RVS.F.openBackupGroup({id:"addLayer",txt:"Duplicate Layer(s)",icon:"layers",lastkey:"layer"}),i)if(i.hasOwnProperty(l)){var d=RVS.L[a[l]].group.puid;-1!==d&&-1!=e.inArray(d,a)||r.push(RVS.F.addLayer(i[l]))}if(s.length>0)for(var l in s)s.hasOwnProperty(l)&&void 0!==RVS.L[s[l]]&&RVS.F.fixColumnsInRows({layerid:s[l]});for(var l in RVS.F.buildLayerLists({force:!0,ignoreRebuildHTML:!0}),RVS.F.reOrderHTMLLayers(),r)r.hasOwnProperty(l)&&RVS.F.selectLayers({id:r[l],overwrite:!1,action:"add",ignoreUpdate:!0,ignoreFieldUpdates:!0});RVS.F.selectedLayersVisualUpdate(),RVS.F.updateSelectedHtmlLayers(),RVS.F.updateZIndexTable(),RVS.F.closeBackupGroup({id:"addLayer"})}),RVS.DOC.on("do_copy_layer",function(){window.copyPasteLayers={amount:0,layers:{}};var t=[],i=[];for(var a in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(a)){var r=RVS.selLayers[a];t.push({type:RVS.L[r].type,duplicateId:r,ignoreBackupGroup:!0,ignoreLayerList:!0,ignoreOrderHTMLLayers:!0,copyPaste:"copy"}),i.push(r)}for(var s in t)if(t.hasOwnProperty(s)){var o=RVS.L[i[s]].group.puid;-1!==o&&-1!=e.inArray(o,i)||RVS.F.addLayer(t[s])}e("#do_paste_layer").removeClass("disabled")}),RVS.DOC.on("do_paste_layer",function(){var t,i=[],a=[],r=[],s=RVS.F.getFirstSelectedType("row"),o=RVS.F.getFirstSelectedType("column"),n=[];for(var l in window.backupCopyPaste=RVS.F.safeExtend(!0,{},window.copyPasteLayers.layers),s=!1===s&&!1!==o?RVS.L[o].group.puid:s,o=!1===o?RVS.F.getFirstSelectedType("group"):o,window.copyPasteLayers.layers)if(window.copyPasteLayers.layers.hasOwnProperty(l)){var d=window.copyPasteLayers.layers[l].type,c=window.copyPasteLayers.layers[l].group.puid;switch(d){case"column":void 0!==window.copyPasteLayers.layers[c]&&"row"===window.copyPasteLayers.layers[c].type||-1!==(c=!1!==s?s:RVS.F.addLayerToLayers({type:"row",alias:"row",buildHTMLLayer:!1,copyPaste:"copy"}))&&-1===e.inArray(c,n)&&n.push(c);break;case"group":case"row":break;default:if((c=c>=0&&c<=5e3&&(void 0===window.copyPasteLayers.layers[c]||"group"!==window.copyPasteLayers.layers[c].type&&"column"!==window.copyPasteLayers.layers[c].type)?!1!==o?o:-1:-1===c&&!1!==o?o:c)===o)for(var S in RVS.V.sizes)if(RVS.V.sizes.hasOwnProperty(S)){var p=RVS.V.sizes[S];window.copyPasteLayers.layers[l].position.horizontal[p].v="center",window.copyPasteLayers.layers[l].position.vertical[p].v="middle",window.copyPasteLayers.layers[l].position.x[p].v=0,window.copyPasteLayers.layers[l].position.y[p].v=0}}window.copyPasteLayers.layers[l].group.puid=c}for(var l in window.copyPasteLayers.layers)if(window.copyPasteLayers.layers.hasOwnProperty(l)){var u=window.copyPasteLayers.layers[l].uid;i.push({type:window.copyPasteLayers.layers[l].type,duplicateId:u,ignoreBackupGroup:!0,ignoreLayerList:!0,ignoreOrderHTMLLayers:!0,copyPaste:"paste"}),a.push(u)}for(var R in RVS.F.openBackupGroup({id:"addLayer",txt:"Paste Layer(s)",icon:"layers",lastkey:"layer"}),i)if(i.hasOwnProperty(R)){var c=window.copyPasteLayers.layers[a[R]].group.puid;if(t=-1,-1===c||-1==e.inArray(c,a)||"column"===i[R].type&&void 0!==RVS.L[c]&&"row"===RVS.L[c].type){var V=RVS.F.addLayer(i[R]);r.push(V),t="row"===RVS.L[V].type?V:c}-1!==(t=void 0!==RVS.L[c]&&"row"===RVS.L[c].type?c:t)&&-1===e.inArray(t,n)&&n.push(t)}if(n.length>0)for(var R in n)n.hasOwnProperty(R)&&void 0!==RVS.L[n[R]]&&RVS.F.fixColumnsInRows({layerid:n[R]});for(var R in RVS.F.closeBackupGroup({id:"addLayer"}),RVS.F.buildLayerLists({force:!0,ignoreRebuildHTML:!0}),RVS.F.reOrderHTMLLayers(),r)r.hasOwnProperty(R)&&RVS.F.selectLayers({id:r[R],overwrite:!1,action:"add",ignoreUpdate:!0});RVS.F.selectedLayersVisualUpdate(),RVS.F.updateSelectedHtmlLayers(),window.copyPasteLayers.layers=RVS.F.safeExtend({},window.backupCopyPaste)}),RVS.DOC.on("insertContentFromOL",function(e,t){if("fonticons"==t.libraryType){var i="MaterialIcons"===t.tags[0]?"material-icons":t.handle.replace(".",""),a="MaterialIcons"===t.tags[0]?t.handle.replace(".",""):"";for(var r in RVS.F.openBackupGroup({id:"PreStyleLAyer",txt:"Prestyle Object Layer",icon:"layers",lastkey:"layer"}),RVS.selLayers)RVS.selLayers.hasOwnProperty(r)&&(RVS.F.updateLayerObj({path:"text",val:'<i class="'+i+'">'+a+"</i>",ignoreRedraw:!0}),RVS.F.updateLayerObj({path:"type",val:"text",ignoreRedraw:!0}),RVS.F.updateLayerObj({path:"idle.fontSize."+RVS.screen+".v",val:"50px",ignoreRedraw:!0}),RVS.F.updateLayerObj({path:"idle.lineHeight."+RVS.screen+".v",val:"50px",ignoreRedraw:!0}),RVS.H[RVS.selLayers[r]].c[0].innerHTML='<i class="'+i+'">'+a+"</i>",RVS.F.drawHTMLLayer({uid:RVS.selLayers[r]}));RVS.F.closeBackupGroup({id:"PreStyleLAyer"})}else if("svgs"===t.libraryType){RVS.F.openBackupGroup({id:"PreStyleLAyer",txt:"Prestyle Object Layer",icon:"layers",lastkey:"layer"});var s=[];for(var r in RVS.selLayers)RVS.selLayers.hasOwnProperty(r)&&(s.push(RVS.selLayers[r]),RVS.F.updateLayerObj({path:"svg.source",val:t.img,ignoreRedraw:!0}),RVS.F.updateLayerObj({path:"type",val:"svg",ignoreRedraw:!0}),RVS.F.updateLayerObj({path:"size.width."+RVS.screen+".v",val:"100px",ignoreRedraw:!0}),RVS.F.updateLayerObj({path:"size.height."+RVS.screen+".v",val:"100px",ignoreRedraw:!0}));RVS.F.updateLayerSVGSrc({uids:s,src:t.img}),RVS.F.closeBackupGroup({id:"PreStyleLAyer"})}RVS.F.selectedLayersVisualUpdate(),RVS.F.updateSelectedHtmlLayers(),RVS.F.updateInputFields()}),s()},RVS.F.allSelectedHasHover=function(){var e=!0;for(var t in RVS.selLayers)RVS.selLayers.hasOwnProperty(t)&&(e=!!RVS.L[RVS.selLayers[t]].hover.usehover&&e);return e},RVS.F.buildHTMLLayer=function(t){var i=RVS.L[t.uid];if(RVS.H=null==RVS.H?{}:RVS.H,1==t.force||null==RVS.H||void 0===RVS.H[t.uid]||0==e("#_lc_"+RVS.S.slideId+"_"+t.uid+"_").length){if(1==t.force||0==e("#_lc_"+RVS.S.slideId+"_"+t.uid+"_").length){e("#_lc_"+RVS.S.slideId+"_"+t.uid+"_").remove();var a='<div id="_lc_'+RVS.S.slideId+"_"+t.uid+'_" class="_lc_ _lc_type_'+i.type+'"  data-uid="'+t.uid+'" data-pid="'+i.group.puid+'" data-multiplemark="true"><div class="_lc_locked_bg_"></div><div class="_lc_locked_"><i class="material-icons">lock_outline</i></div>';a+='<span class="_tb_ _borders_"></span><span class="_bb_ _borders_"></span><span class="_rb_ _borders_"></span><span class="_lb_ _borders_"></span>',a+="column"===i.type||"row"===i.type?'<span class="_c_margins _topm_"></span><span class="_c_margins _botm_"></span><span class="_c_margins _lefm_"></span><span class="_c_margins _rigm_"></span>':"",a+="column"===i.type||"row"===i.type?'<span class="_c_paddings _lefp_"></span><span class="_c_paddings _rigp_"></span><span class="_c_paddings _botp_"></span>':"",a+="column"===i.type||"row"===i.type?'<span class="_c_paddings _topp_"></span>':"",a+='<div class="_lc_loop_">',a+='<div class="_lc_mask_">',a+='<div class="_lc_iw_">',a+='<div class="_lc_content_">';var o=e(a+="</div></div></div></div></div>");-1===i.group.puid||"row"===i.type?"row"==i.type?r({container:RVS.C.rZone[i.group.puid],layer:o,uid:t.uid,type:"._lc_type_row"}):RVS.C.layergrid.append(o):"column"===i.type?r({container:RVS.H[i.group.puid].c,layer:o,uid:t.uid,type:"._lc_type_column"}):r({container:RVS.H[i.group.puid].c,layer:o,uid:t.uid,type:"._lc_"})}switch(RVS.H[t.uid]={w:e("#_lc_"+RVS.S.slideId+"_"+t.uid+"_")},RVS.H[t.uid].m=RVS.H[t.uid].w.find("._lc_mask_").first(),RVS.H[t.uid].lp=RVS.H[t.uid].w.find("._lc_loop_").first(),RVS.H[t.uid].iw=RVS.H[t.uid].w.find("._lc_iw_").first(),RVS.H[t.uid].c=RVS.H[t.uid].w.find("._lc_content_").first(),void 0!==i.idle.style&&i.idle.style.length>0&&(RVS.H[t.uid].c[0].className+=" "+i.idle.style),"column"!==i.type&&"row"!==i.type||(RVS.H[t.uid].margins={top:RVS.H[t.uid].w.find("._topm_._c_margins").first(),bottom:RVS.H[t.uid].w.find("._botm_._c_margins").first(),left:RVS.H[t.uid].w.find("._lefm_._c_margins").first(),right:RVS.H[t.uid].w.find("._rigm_._c_margins").first()},RVS.H[t.uid].paddings={top:RVS.H[t.uid].w.find("._topp_._c_paddings").first(),bottom:RVS.H[t.uid].w.find("._botp_._c_paddings").first(),left:RVS.H[t.uid].w.find("._lefp_._c_paddings").first(),right:RVS.H[t.uid].w.find("._rigp_._c_paddings").first()}),RVS.H[t.uid].borders={top:RVS.H[t.uid].w.find("._tb_._borders_").first(),bottom:RVS.H[t.uid].w.find("._bb_._borders_").first(),left:RVS.H[t.uid].w.find("._lb_._borders_").first(),right:RVS.H[t.uid].w.find("._rb_._borders_").first()},i.type){case"svg":RVS.H[t.uid].c[0].innerHTML=i.svg.renderedData,RVS.H[t.uid].svg=RVS.H[t.uid].w.find("svg"),RVS.H[t.uid].svgPath=RVS.H[t.uid].w.find("svg path");break;case"button":case"object":break;case"image":RVS.H[t.uid].c.html('<img class="_lc_image_inside_" data-ow="'+i.size.originalWidth+'" data-oh="'+i.size.originalHeight+'" src="'+i.media.imageUrl+'"></i>'),RVS.H[t.uid].c.append('<div class="_lc_img_placeholder"><i class="material-icons">filter_hdr</i></div>'),i.media.imageUrl===RVS.ENV.img_ph_url&&RVS.H[t.uid].c.addClass("placeholder_on");break;case"video":RVS.H[t.uid].c.html("<div class='_lc_video_title_'>"+i.media.mediaType+"</div><div class='_lc_video_placeholder_'></div><div class='_lc_video_overlay'></div>"),RVS.H[t.uid].vtitle=RVS.H[t.uid].c.find("._lc_video_title_"),RVS.H[t.uid].volay=RVS.H[t.uid].c.find("._lc_video_overlay"),RVS.H[t.uid].c.append('<div class="_lc_img_placeholder"><i class="material-icons">videocam</i></div>'),i.media.posterUrl===RVS.ENV.img_ph_url&&RVS.H[t.uid].c.addClass("placeholder_on");break;case"audio":RVS.H[t.uid].c.html('<div class="_lc_img_placeholder"><i class="material-icons">audiotrack</i></div>'),RVS.H[t.uid].c.append("<audio controls></audio>"),!1===i.media.controls?RVS.H[t.uid].c.addClass("placeholder_on"):RVS.H[t.uid].c.addClass("audio_controls_on");break;case"group":0===RVS.H[t.uid].w.find(">._lc_extra_bg").length&&RVS.H[t.uid].w.append('<div class="_lc_extra_bg"></div>'),0==RVS.H[t.uid].c.find("._lc_group_placeholder").length&&RVS.H[t.uid].c.append('<div class="_lc_group_placeholder"><i class="material-icons">format_shapes</i></div>'),0===RVS.H[t.uid].c.find("._group_lock_").length&&RVS.H[t.uid].c.append('<div class="_group_lock_"><i class="material-icons">layers</i></div>'),0===RVS.H[t.uid].w.find("._group_head_").length&&RVS.H[t.uid].w.append('<div class="_group_head_"><span id="_group_head_title_'+RVS.S.slideId+"_"+t.uid+'" class="_group_head_title_">'+i.alias+'</span><div data-uid="'+t.uid+'" class="_group_lock_toggle_"><i class="group_lock_icon material-icons">layers_clear</i><i class="group_lockopen_icon material-icons">layers</i></div></div>'),RVS.H[t.uid].bg=RVS.H[t.uid].w.find(">._lc_extra_bg");break;case"row":0===RVS.H[t.uid].w.find(">._lc_extra_bg").length&&RVS.H[t.uid].w.append('<div class="_lc_extra_bg"></div>'),RVS.H[t.uid].bg=RVS.H[t.uid].w.find(">._lc_extra_bg");break;case"column":0===RVS.H[t.uid].w.find(">._lc_extra_bg_wrap").length&&RVS.H[t.uid].w.append('<div class="_lc_extra_bg_wrap"><div class="_lc_extra_bg"></div></div>'),RVS.H[t.uid].bg=RVS.H[t.uid].w.find(">._lc_extra_bg_wrap>._lc_extra_bg"),RVS.H[t.uid].bgmask=RVS.H[t.uid].w.find(">._lc_extra_bg_wrap")}i.linebreak&&RVS.H[t.uid].w.addClass("rs-linebreak"),RVS.H[t.uid].lipi=RVS.H[t.uid].c.find("._lc_img_placeholder i"),"column"!==i.type&&"row"!==i.type&&RVS.F.doDraggable({uid:t.uid,drag:!0,resize:!0})}if(e.inArray(i.type,["text","button","svg","shape","group"])>=0&&0===RVS.H[t.uid].w.find(">._lc_reScaler").length&&(RVS.H[t.uid].w.append('<div class="_lc_reScaler"><div class="_lc_reScaler_pin"></div><div class="_lc_reScaler_icon"></div></div>'),RVS.H[t.uid].sclr=RVS.H[t.uid].w.find(">._lc_reScaler ._lc_reScaler_pin"),s(RVS.H[t.uid].sclr)),"text"===i.type||"button"==i.type)RVS.F.redrawTextLayerInnerHTML(t.uid),RVS.F.drawHTMLLayer({uid:t.uid});else if("svg"===i.type)void 0===i.svg.renderedData||void 0!==i.svg.source&&i.svg.source.length>4?e.get(i.svg.source,function(e){RVS.H[t.uid].c[0].innerHTML=i.svg.renderedData=(new XMLSerializer).serializeToString(e.documentElement),RVS.H[t.uid].svg=RVS.H[t.uid].w.find("svg"),RVS.H[t.uid].svgPath=RVS.H[t.uid].w.find("svg path"),RVS.F.drawHTMLLayer({uid:t.uid})}):RVS.F.drawHTMLLayer({uid:t.uid});else{var n="image"===i.type?i.media.imageUrl:RVS.H[t.uid].c.find("img").first();void 0!==n&&n.length>0&&void 0!==i.media&&!0!==i.media.loaded?(punchgs.TweenLite.set(RVS.H[t.uid].w,{visibility:"hidden"}),RVS.F.preloadImage({uid:t.uid,slideId:RVS.S.slideId,image:RVS.H[t.uid].c.find("img").first().attr("src"),silent:!1,callback:function(){punchgs.TweenLite.set(RVS.H[t.uid].w,{visibility:"visible"}),RVS.F.drawHTMLLayer({uid:t.uid})}})):RVS.F.drawHTMLLayer({uid:t.uid})}},RVS.F.reOrderHTMLLayer=function(t){if(null!=RVS.H&&void 0!==RVS.H[t.uid]&&0!=e("#_lc_"+RVS.S.slideId+"_"+t.uid+"_").length){var i=RVS.L[t.uid],a=RVS.H[t.uid].w,s=RVS.H[t.uid].last_puid===i.group.puid&&RVS.H[t.uid].last_groupOrder===i.group.groupOrder;RVS.H[t.uid].last_puid=i.group.puid,RVS.H[t.uid].last_groupOrder=i.group.groupOrder,-1===i.group.puid||"row"===i.type?"row"==i.type?r({container:RVS.C.rZone[i.group.puid],layer:a,uid:t.uid,type:"._lc_type_row"}):RVS.C.layergrid.append(a):"column"===i.type?r({container:RVS.H[i.group.puid].c,layer:a,uid:t.uid,type:"._lc_type_column"}):r({container:RVS.H[i.group.puid].c,layer:a,uid:t.uid,type:"._lc_"}),s||RVS.F.drawHTMLLayer({uid:t.uid})}},RVS.F.checkRowsChildren=function(){for(var e in RVS.L)if(RVS.L.hasOwnProperty(e)&&("row"==RVS.L[e].type||"group"==RVS.L[e].type)){var t=RVS.F.getLayerChildren({layerid:e}),i=0;for(var a in t)t.hasOwnProperty(a)&&"column"!==t[a].type&&i++;i>0?RVS.H[e].w.removeClass("nocontent"):RVS.H[e].w.addClass("nocontent")}},RVS.F.addLayerToLayers=function(e){var t;return void 0!==e.layerobject?((t=RVS.F.safeExtend(!0,{},e.layerobject)).uid="copy"===e.copyPaste?window.copyPasteLayers.amount:RVS.F.getUniqueid(),(t=RVS.F.addLayerObj(t)).alias=void 0!==e.prefix?e.prefix+" "+t.alias.replace(/Copy/g,""):"Copy "+t.alias.replace(/Copy/g,"")):t=RVS.F.addLayerObj(e.type),e.extension&&(t=RVS.F.safeExtend(!0,t,e.extension)),t.group.puid=void 0!==e.puid?e.puid:t.group.puid,e.newGroupOrder&&"copy"!==e.copyPaste&&(t.group.groupOrder=function(e){e.type=void 0===e.type?"column":e.type;var t=RVS.F.getColumnsInRow({layerid:e.uid,type:e.type}),i=0;for(var a in t)t.hasOwnProperty(a)&&(i=parseInt(i,0)<=parseInt(RVS.L[t[a]].group.groupOrder,0)?parseInt(RVS.L[t[a]].group.groupOrder,0)+1:i);return i}({uid:t.group.puid,type:t.type})),t.alias=void 0!==e.alias?e.alias+"-"+t.uid:t.alias,"copy"===e.copyPaste?(window.copyPasteLayers.amount++,window.copyPasteLayers.layers[t.uid]=t):(RVS.SLIDER[RVS.S.slideId].layers[t.uid]=t,RVS.F.backup({path:t.uid,icon:"layers",txt:"Create New Layer",lastkey:"newlayer",force:!0,slideid:RVS.S.slideId,val:RVS.F.safeExtend(!0,{},RVS.SLIDER[RVS.S.slideId]).layers[t.uid],old:{},backupType:"layer",bckpGrType:"addlayer"})),e.buildHTMLLayer&&"copy"!==e.copyPaste&&RVS.F.buildHTMLLayer({uid:t.uid}),t.uid},RVS.F.extendLayerTypes=function(t){if(RVS.S.extendedLayerTypes=void 0===RVS.S.extendedLayerTypes?{}:RVS.S.extendedLayerTypes,void 0===RVS.S.extendedLayerTypes[t.subtype]){t.extension.subtype=t.subtype,RVS.S.extendedLayerTypes[t.subtype]={type:t.type,subtype:t.subtype,extension:t.extension};var i='<div class="add_layer" data-type="'+t.type+'" data-subtype="'+t.subtype+'"><i class="material-icons">'+t.icon+"</i>"+t.alias+"</div>";e("#add_layer_main_wrap").append(e(i))}},RVS.F.addLayer=function(t){RVS.DOC.trigger("changeToLayerMode"),t.ignoreBackupGroup||RVS.F.openBackupGroup({id:"addLayer",txt:"Create New "+t.type+" Layer",icon:"layers",lastkey:"layer"});var i,a,r,s="paste"===t.copyPaste?window.copyPasteLayers.layers:RVS.L;switch(t.type){case"row":if(void 0===t.duplicateId){i=a=RVS.F.addLayerToLayers({type:"row",alias:"row",buildHTMLLayer:!0});for(var o=0;o<3;o++)RVS.F.addLayerToLayers({type:"column",puid:i,alias:"column",buildHTMLLayer:!0})}else{i=a=RVS.F.addLayerToLayers({layerobject:s[t.duplicateId],buildHTMLLayer:!0,copyPaste:t.copyPaste,prefix:t.prefix,newGroupOrder:!0});var n=RVS.F.getColumnsInRow({layerid:t.duplicateId,copyPaste:t.copyPaste});for(var l in n)if(n.hasOwnProperty(l)){var d=RVS.F.addLayerToLayers({puid:i,layerobject:s[n[l]],buildHTMLLayer:!0,copyPaste:t.copyPaste,prefix:t.prefix}),c=RVS.F.getLayersFirstDepth({layerid:n[l],copyPaste:t.copyPaste});for(var S in c)c.hasOwnProperty(S)&&RVS.F.addLayerToLayers({puid:d,layerobject:s[c[S]],buildHTMLLayer:!0,copyPaste:t.copyPaste,prefix:t.prefix})}}break;case"column":var p;if(void 0===t.duplicateId)a=RVS.F.addLayerToLayers({type:"column",puid:t.puid,alias:"column",buildHTMLLayer:!0});else for(var S in p=a=RVS.F.addLayerToLayers({layerobject:s[t.duplicateId],newGroupOrder:!0,buildHTMLLayer:!0,copyPaste:t.copyPaste,prefix:t.prefix}),r=RVS.F.getLayersFirstDepth({layerid:t.duplicateId,copyPaste:t.copyPaste}))r.hasOwnProperty(S)&&RVS.F.addLayerToLayers({puid:p,layerobject:s[r[S]],buildHTMLLayer:!0,copyPaste:t.copyPaste,prefix:t.prefix});break;case"group":var u;if(void 0===t.duplicateId)a=RVS.F.addLayerToLayers({type:"group",alias:"group",buildHTMLLayer:!0});else for(var S in u=a=RVS.F.addLayerToLayers({layerobject:s[t.duplicateId],buildHTMLLayer:!0,copyPaste:t.copyPaste,prefix:t.prefix,newGroupOrder:!0}),r=RVS.F.getLayersFirstDepth({layerid:t.duplicateId,copyPaste:t.copyPaste}))r.hasOwnProperty(S)&&RVS.F.addLayerToLayers({puid:u,layerobject:s[r[S]],buildHTMLLayer:!0,copyPaste:t.copyPaste,prefix:t.prefix});break;case"linebreak":a=RVS.F.addLayerToLayers({type:"shape",alias:"linebreak",buildHTMLLayer:!0,extension:{size:{width:{d:{v:"100%"},n:{v:"100%"},t:{v:"100%"},m:{v:"100%"}},height:{d:{v:"10px"},n:{v:"10px"},t:{v:"10px"},m:{v:"10px"}}},idle:{backgroundColor:"transparent",clear:{d:{v:"both"},n:{v:"both"},t:{v:"both"},m:{v:"both"}}},linebreak:!0}});break;default:switch(a=void 0===t.duplicateId?void 0!==RVS.S.extendedLayerTypes&&void 0!==RVS.S.extendedLayerTypes[t.subtype]?RVS.F.addLayerToLayers({type:t.type,alias:t.type,extension:RVS.S.extendedLayerTypes[t.subtype].extension,buildHTMLLayer:!0}):RVS.F.addLayerToLayers({type:t.type,alias:t.type,buildHTMLLayer:!0}):RVS.F.addLayerToLayers({layerobject:s[t.duplicateId],buildHTMLLayer:!0,copyPaste:t.copyPaste,prefix:t.prefix,newGroupOrder:-1!==s[t.duplicateId].group.puid}),t.subtype){case"wordpress_library":"image"===t.type?e("#image_layer_media_library_button").trigger("click"):"video"===t.type&&e("#video_layer_media_library_button").trigger("click");break;case"object_library":"object"===t.type?RVS.F.openObjectLibrary({types:["fonticons","svgs"],filter:"all",selected:["fonticons"],success:{icon:"insertContentFromOL"}}):"image"===t.type?e("#image_layer_object_library_button").trigger("click"):"video"===t.type&&e("#video_layer_object_library_button").trigger("click");break;case"headline":t.ignoreBackupGroup=!0,RVS.F.openQuickStyle({bacupGroupOpen:"addLayer",list:["headlines","content"]});break;case"simple_content":t.ignoreBackupGroup=!0,RVS.F.openQuickStyle({bacupGroupOpen:"addLayer",list:["content","headlines"]});break;case"button":t.ignoreBackupGroup=!0,RVS.F.openQuickStyle({bacupGroupOpen:"addLayer",list:["button"]})}}return t.ignoreBackupGroup||RVS.F.closeBackupGroup({id:"addLayer"}),t.ignoreLayerList||RVS.F.buildLayerLists({force:!0,ignoreRebuildHTML:!0}),t.ignoreOrderHTMLLayers||RVS.F.reOrderHTMLLayers(),void 0!==RVS.eMode&&"layer"===RVS.eMode.top&&"animation"===RVS.eMode.mode&&RVS.F.showForms("*slidelayout**mode__slidecontent*#form_layer_style",!0),a},RVS.F.deleteLayerfromLayers=function(t){if(RVS.DOC.trigger("changeToLayerMode"),void 0!==RVS.L[t.layerid]){var i=!1;switch(void 0!==t.groupisopen||RVS.S.bckpGrp||(RVS.S.bckpGrp||(i=!0),RVS.F.openBackupGroup({id:"removeLayer",txt:"Remove "+RVS.L[t.layerid].type+" Layer",icon:"delete",lastkey:"layer"})),RVS.L[t.layerid].type){case"row":var a=RVS.F.getColumnsInRow({layerid:t.layerid});for(var r in a)if(a.hasOwnProperty(r)){var s=RVS.F.getLayersFirstDepth({layerid:a[r]});for(var o in s)s.hasOwnProperty(o)&&(void 0!==t.newpuid?RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+s[o]+".group.puid",val:t.newpuid}):(RVS.F.backup({path:s[o],icon:"layers",txt:"Remove Layer",lastkey:"removelayer",slideid:RVS.S.slideId,force:!0,val:{},old:RVS.F.safeExtend(!0,{},RVS.SLIDER[RVS.S.slideId]).layers[s[o]],backupType:"layer",bckpGrType:"removelayer"}),delete RVS.SLIDER[RVS.S.slideId].layers[s[o]],e("#_lc_"+RVS.S.slideId+"_"+s[o]+"_").remove(),delete RVS.H[s[o]]));RVS.F.backup({path:a[r],icon:"layers",txt:"Remove Layer",lastkey:"removelayer",slideid:RVS.S.slideId,force:!0,val:{},old:RVS.F.safeExtend(!0,{},RVS.SLIDER[RVS.S.slideId]).layers[a[r]],backupType:"layer",bckpGrType:"removelayer"}),delete RVS.SLIDER[RVS.S.slideId].layers[a[r]],e("#_lc_"+RVS.S.slideId+"_"+a[r]+"_").remove(),delete RVS.H[a[r]]}break;case"column":case"group":s=RVS.F.getLayersFirstDepth({layerid:t.layerid});for(var o in s)s.hasOwnProperty(o)&&(void 0!==t.newpuid?RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+s[o]+".group.puid",val:t.newpuid}):(RVS.F.backup({path:s[o],icon:"layers",txt:"Remove Layer",lastkey:"removelayer",force:!0,slideid:RVS.S.slideId,val:{},old:RVS.F.safeExtend(!0,{},RVS.SLIDER[RVS.S.slideId]).layers[s[o]],backupType:"layer",bckpGrType:"removelayer"}),delete RVS.SLIDER[RVS.S.slideId].layers[s[o]],e("#_lc_"+RVS.S.slideId+"_"+s[o]+"_").remove(),delete RVS.H[s[o]]))}RVS.F.backup({path:t.layerid,icon:"layers",txt:"Remove Layer",lastkey:"removelayer",slideid:RVS.S.slideId,force:!0,val:{},old:RVS.F.safeExtend(!0,{},RVS.SLIDER[RVS.S.slideId]).layers[t.layerid],backupType:"layer",bckpGrType:"removelayer"}),delete RVS.SLIDER[RVS.S.slideId].layers[t.layerid],delete RVS.H[t.layerid],e("#_lc_"+RVS.S.slideId+"_"+t.layerid+"_").remove(),i&&(RVS.F.closeBackupGroup({id:"removeLayer"}),RVS.F.buildLayerLists({force:!0}))}},RVS.F.updateSelectedHtmlLayers=function(e){for(var t in RVS.L)RVS.L.hasOwnProperty(t)&&"top"!==t&&"bottom"!==t&&"middle"!==t&&(!e&&RVS.F.inSelectedLayers({id:t})&&void 0!==RVS.H[t]?(RVS.H[t].w.addClass("selected").addClass("marked"),RVS.H[t].selected=!0,RVS.F.setZindex({id:t,o:475})):void 0!==RVS.H[t]&&(RVS.H[t].w.removeClass("selected").removeClass("marked"),RVS.H[t].selected=!1,RVS.F.setZindex({id:t})))},RVS.F.updateStaticStartEndList=function(){window.staticLayerStartIndex=void 0===window.staticLayerStartIndex?e("#staticlayer_Startindex"):window.staticLayerStartIndex,window.staticLayerEndIndex=void 0===window.staticLayerEndIndex?e("#staticlayer_Endindex"):window.staticLayerEndIndex,RVS.F.removeAllOptionsS2({select:window.staticLayerStartIndex}),RVS.F.removeAllOptionsS2({select:window.staticLayerEndIndex});for(var t=1;t<RVS.SLIDER.slideIDs.length-1;t++)RVS.F.addOptionS2({select:window.staticLayerStartIndex,val:t.toString(),txt:t}),RVS.F.addOptionS2({select:window.staticLayerEndIndex,val:(t+1).toString(),txt:t+1});RVS.F.addOptionS2({select:window.staticLayerEndIndex,val:"last",txt:RVS_LANG.lastslide})},RVS.F.setZindex=function(e){e.o=null==e.o?0:e.o,punchgs.TweenLite.set(RVS.H[e.id].w,{zIndex:parseInt(RVS.L[e.id].position.zIndex,0)+parseInt(e.o,0)})},RVS.F.selectedLayersVisualUpdate=function(){for(var t in e(".layerselector").removeClass("checked"),e(".tllayerlist_element").removeClass("checked"),RVS.S.selLayerTypes)RVS.S.selLayerTypes.hasOwnProperty(t)&&(RVS.S.selLayerTypes[t]=!1);var i=!1,a="";for(var r in RVS.selLayers)RVS.selLayers.hasOwnProperty(r)&&(e("#tllayerlist_element_"+RVS.S.slideId+"_"+RVS.selLayers[r]).addClass("checked"),e("#tllayerlist_element_selector_"+RVS.S.slideId+"_"+RVS.selLayers[r]).addClass("checked"),i||-1==RVS.L[RVS.selLayers[r]].group.puid||"column"!==RVS.L[RVS.L[RVS.selLayers[r]].group.puid].type||(i=!0),RVS.S.selLayerTypes[RVS.L[RVS.selLayers[r]].type]=!0);for(var t in RVS.S.selLayerTypes)RVS.S.selLayerTypes.hasOwnProperty(t)&&RVS.S.selLayerTypes[t]&&(a=a+" _"+t+"_sel_");a=""===(a=!0===i?a+" _layer_in_column_sel_":a)?"no_layers_selected":a,a=RVS.selLayers.length>1?a+" multiple_layers_selected":a,RVS.C.the_cont=void 0===RVS.C.the_cont?e("#the_container"):RVS.C.the_cont,RVS.C.the_cont[0].className=a},RVS.F.doResizeLayers=function(e){if(!(RVS.selLayers.length>1||0===RVS.selLayers.length))switch(e.mode){case"init":if(window.RSCBS={},window.RSCBS[RVS.selLayers[0]]=n(RVS.L[RVS.selLayers[0]]),"group"===RVS.L[RVS.selLayers[0]].type||"auto"!==window.RSCBS[RVS.selLayers[0]].width||-1!==RVS.L[RVS.selLayers[0]].group.puid||"text"!==RVS.L[RVS.selLayers[0]].type&&"button"!==RVS.L[RVS.selLayers[0]].type||("full"!==window.RSCBS[RVS.selLayers[0]].wrap&&"normal"!==window.RSCBS[RVS.selLayers[0]].wrap||(RVS.L[RVS.selLayers[0]].idle.whiteSpace[RVS.screen].v="content"),window.RSCBS[RVS.selLayers[0]].CacheWidth=window.RSCBS[RVS.selLayers[0]].width,window.RSCBS[RVS.selLayers[0]].width="auto"===window.RSCBS[RVS.selLayers[0]].width?RVS.H[RVS.selLayers[0]].w.width():window.RSCBS[RVS.selLayers[0]].width),"group"===RVS.L[RVS.selLayers[0]].type)for(var t in window.RSCBS.layers=RVS.F.getLayersFirstDepth({layerid:RVS.selLayers[0]}),window.RSCBS.layers)window.RSCBS.layers.hasOwnProperty(t)&&(window.RSCBS[window.RSCBS.layers[t]]=n(RVS.L[window.RSCBS.layers[t]]));break;case"update":if(d({layerid:RVS.selLayers[0],size:e.size}),"group"===RVS.L[RVS.selLayers[0]].type)for(var t in window.RSCBS.layers)window.RSCBS.layers.hasOwnProperty(t)&&d({layerid:window.RSCBS.layers[t],size:e.size,ingroup:!0});break;case"set":var i=!1;if("group"!==RVS.L[RVS.selLayers[0]].type&&-1===RVS.L[RVS.selLayers[0]].group.puid&&("text"===RVS.L[RVS.selLayers[0]].type||"button"===RVS.L[RVS.selLayers[0]].type)&&RVS.S.layer_grid_offset.left+RVS.S.lgw>RVS.H[RVS.selLayers[0]].w.offset().left+RVS.H[RVS.selLayers[0]].w.width()&&(i=!0,window.RSCBS[RVS.selLayers[0]].width="auto"===window.RSCBS[RVS.selLayers[0]].CacheWidth?"auto":window.RSCBS[RVS.selLayers[0]].width),d({layerid:RVS.selLayers[0],size:1}),"group"===RVS.L[RVS.selLayers[0]].type)for(var t in window.RSCBS.layers)window.RSCBS.layers.hasOwnProperty(t)&&d({layerid:window.RSCBS.layers[t],size:1});if(RVS.F.openBackupGroup({id:"layerScaling",txt:"Layer Scaling",icon:"layers",lastkey:"layer"}),l({layerid:RVS.selLayers[0],size:e.size,ignore:!1,redraw:!0,updatefields:!0,ignoreBackup:!1}),!0===i?RVS.L[RVS.selLayers[0]].idle.whiteSpace[RVS.screen].v=window.RSCBS[RVS.selLayers[0]].wrap:"group"===RVS.L[RVS.selLayers[0]].type||-1!==RVS.L[RVS.selLayers[0]].group.puid||"text"!==RVS.L[RVS.selLayers[0]].type&&"button"!==RVS.L[RVS.selLayers[0]].type||window.RSCBS[RVS.selLayers[0]].width===window.RSCBS[RVS.selLayers[0]].CacheWidth||"auto"!=window.RSCBS[RVS.selLayers[0]].CacheWidth||RVS.F.showInfo({content:RVS_LANG.layerbleedsout,type:"info",showdelay:0,hidedelay:8,hideon:"",event:""}),"group"===RVS.L[RVS.selLayers[0]].type)for(var t in window.RSCBS.layers)window.RSCBS.layers.hasOwnProperty(t)&&l({layerid:window.RSCBS.layers[t],size:e.size,ingroup:!0,ignore:!1,redraw:!0,updatefields:!0,ignoreBackup:!1});RVS.F.closeBackupGroup({id:"layerScaling"})}},RVS.F.selectLayers=function(t){RVS.S.justresized||(t=void 0===t?{}:t,"animation"!==RVS.eMode.mode?RVS.S.keyFrame="idle":(t.selectedKeyFrame=void 0===t.selectedKeyFrame?"idle":t.selectedKeyFrame,RVS.S.keyFrame=t.selectedKeyFrame),void 0===t||"add"!==t.action||void 0===t.id||!RVS.L[t.id].visibility||!RVS.L[t.id].visibility.locked&&RVS.L[t.id].visibility.visible||(t.action="remove"),t.ignoreModeChange||(RVS.F.mainMode({set:!1,ignoreReDraw:!0,mode:"slidelayout"}),RVS.F.showHideLayerEditor({mode:"slidecontent",openSettings:!1})),t.id="top"===t.id||"bottom"===t.id||"middle"===t.id?"ignore":void 0===t.id?t.id:parseInt(t.id,0),(t.overwrite||"layer"===RVS.eMode.top&&"#form_layer_animation"===RVS.eMode.menu)&&(!t.overwrite&&RVS.selLayers.length>0&&RVS.F.showInfo({content:RVS_LANG.noMultipleSelectionOfLayers,type:"info",showdelay:.2,hidedelay:2,hideon:"",event:""}),RVS.selLayers=[]),void 0!==t.id&&"ignore"!==t.id&&"add"===t.action&&-1==e.inArray(t.id,RVS.selLayers)&&RVS.selLayers.push(t.id),void 0!==t.id&&"ignore"!==t.id&&"remove"===t.action&&-1!==e.inArray(t.id,RVS.selLayers)&&RVS.selLayers.splice(e.inArray(t.id,RVS.selLayers),1),!0!==t.ignoreUpdate&&("onlyhtml"!==t.ignoreUpdate&&RVS.F.selectedLayersVisualUpdate(),RVS.F.updateSelectedHtmlLayers(),"animation"!==RVS.eMode.mode&&RVS.F.updateAllLayerToIDLE(),RVS.F.updateSelectedLayersIdleHover()),!0!==t.ignoreFieldUpdates&&(RVS.F.updateInputFields(),RVS.C.slit.innerHTML=1===RVS.selLayers.length?RVS.F.getLayerIcon(RVS.L[RVS.selLayers[0]].type):"layers",RVS.DOC.trigger("selectLayersDone"),RVS.F.checkForAudioLayer()),window.qstyle_library_open&&RVS.F.updateAvailableLayerTypes(),void 0!==t.selectedKeyFrame?(RVS.TL.cache.main=(RVS.F.getTimeAtSelectedFrameEnd()-2)/100,RVS.TL.cache.main<=0?RVS.F.updateCurTime({pos:!0,cont:!0,force:!0,left:0,refreshMainTimeLine:!0,caller:"selectLayers"}):RVS.F.updateTimeLine({force:!0,state:"time",time:RVS.TL.cache.main,timeline:"main",forceFullLayerRender:!0,updateCurTime:!0})):0===RVS.selLayers.length&&e("framewrap.selected").removeClass("selected"),RVS.S.shwLayerAnim&&RVS.DOC.trigger("previewLayerAnimation"))},RVS.F.convertTimeToSec=function(t,i){t=""===t?parseFloat(i):t;var a=!e.isNumeric(t)&&t.indexOf(":")>=0,r=0;return t=a?t.split(":"):t,null==(r=a&&t.length>1?60*parseFloat(t[0])+parseFloat(t[1]):a?parseFloat(t[0]):t)?0:r},RVS.F.updateAudioTimes=function(e){if(1==RVS.selLayers.length&&"audio"===RVS.L[RVS.selLayers[0]].type){RVS.L[RVS.selLayers[0]].media.startAt=""===RVS.L[RVS.selLayers[0]].media.startAt?0:RVS.L[RVS.selLayers[0]].media.startAt,RVS.L[RVS.selLayers[0]].media.endAt=""===RVS.L[RVS.selLayers[0]].media.endAt?e:RVS.L[RVS.selLayers[0]].media.endAt,RVS.L[RVS.selLayers[0]].media.endAt=RVS.L[RVS.selLayers[0]].media.endAt>e?e:RVS.L[RVS.selLayers[0]].media.endAt,document.getElementById("layer_video_start").value=RVS.L[RVS.selLayers[0]].media.startAt,document.getElementById("layer_video_end").value=RVS.L[RVS.selLayers[0]].media.endAt;var t=RVS.F.convertTimeToSec(RVS.L[RVS.selLayers[0]].media.startAt,0),i=RVS.F.convertTimeToSec(RVS.L[RVS.selLayers[0]].media.endAt,window.audiomaster.getDuration());i=0===i||i<=t?window.audiomaster.getDuration():i,window.audiomaster.regions.destroy(),window.audioregion=window.audiomaster.regions.add({start:t,end:i,color:"rgba(0,109,210,0.2)"}),window.audioregion.on("update",function(){RVS.L[RVS.selLayers[0]].media.startAt=window.audioregion.start,RVS.L[RVS.selLayers[0]].media.endAt=window.audioregion.end,document.getElementById("layer_video_start").value=RVS.L[RVS.selLayers[0]].media.startAt,document.getElementById("layer_video_end").value=RVS.L[RVS.selLayers[0]].media.endAt}),window.audioregion.on("dblclick",function(){window.audioregion.play()})}},RVS.F.checkForAudioLayer=function(){1==RVS.selLayers.length&&"audio"===RVS.L[RVS.selLayers[0]].type&&""!==RVS.L[RVS.selLayers[0]].media.audioUrl&&"FAIL"!==window.audiomaster&&(void 0===window.audiomaster?(RVS.F.showWaitAMinute({fadeIn:500,text:RVS_LANG.audiolibraryloading}),e.getScript(RVS.ENV.plugin_url+"/admin/assets/js/plugins/wavesurfer.js",function(){window.audiomaster=WaveSurfer.create({container:"#media_audio_master",cursorColor:"#5e35b1",progressColor:"transparent",height:30,plugins:[WaveSurfer.regions.create({})]}),RVS.DOC.on("listenAudioMaster",function(){window.audiomaster.play()}),RVS.DOC.on("muteAudioMaster",function(){window.audiomaster.pause()}),RVS.DOC.on("updateaudiorange",function(){RVS.F.updateAudioTimes(window.audiomaster.getDuration())}),RVS.F.checkForAudioLayer(),setTimeout(function(){RVS.F.showWaitAMinute({fadeOut:500})},100)}).fail(function(e,t,i){setTimeout(function(){RVS.F.showWaitAMinute({fadeOut:500})},100),window.audiomaster="FAIL"})):(window.audiomaster.on("ready",function(){RVS.F.updateAudioTimes(window.audiomaster.getDuration()),e("#audio_simulator").removeClass("disabled")}),window.audiomaster.on("loading",function(){e("#audio_simulator").addClass("disabled")}),window.audiomaster.on("finish",function(){RVS.F.changeSwitchState({el:e("#audio_simulator")[0],state:"play"})}),window.audiomaster.load(RVS.L[RVS.selLayers[0]].media.audioUrl)))},RVS.F.updateSelectedLayersIdleHover=function(){for(var t in RVS.L)RVS.L.hasOwnProperty(t)&&void 0!==RVS.H[t]&&("idle"===RVS.eMode.mode&&void 0!==RVS.H[t].hover?RVS.H[t].hover.seek(0).pause():"hover"===RVS.eMode.mode&&RVS.L[t].hover.usehover&&void 0!==RVS.H[t].hover&&(e.inArray(parseInt(t,0),RVS.selLayers)>=0?RVS.H[t].hover.seek(9999).pause():(RVS.F.drawHTMLLayer({uid:t}),RVS.H[t].hover.seek(0).pause())))},RVS.F.checkCurrentLayerHoverMode=function(e){"hover"===RVS.eMode.mode&&RVS.L[e.layerid].hover.usehover&&void 0!==RVS.H[e.layerid].hover&&RVS.H[e.layerid].hover.seek(9999).pause()},RVS.F.getRowStructures=function(e){if("row"===RVS.L[e.layerid].type){var t=RVS.F.getColumnsInRow({layerid:e.layerid}),i="",a=0;for(var r in t)t.hasOwnProperty(r)&&(i=0===a?"":i+"+",i+=RVS.L[t[r]].group.columnSize,a++);return i}},RVS.F.updateRowColumnField=function(){var t="",i=!1;for(var a in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(a)){var r=RVS.selLayers[a],s="";"row"===RVS.L[r].type?s=RVS.F.getRowStructures({layerid:r}):"column"===RVS.L[r].type&&(s=RVS.F.getRowStructures({layerid:RVS.L[RVS.L[r].group.puid].uid})),"row"!==RVS.L[r].type&&"column"!==RVS.L[r].type||i||(""===t||t===s?t=s:(i=!0,t=""))}e("#row_column_structure").val(RVS.F.sanitize_columns(t)).change()},RVS.F.getPrevNextLayerInOrder=function(e,t){if(void 0!==RVS.L[e]&&void 0!==RVS.L[e].group&&void 0!==RVS.L[e].group.puid){var i={order:"next"===t?99999:-2,id:e};for(var a in RVS.L)RVS.L.hasOwnProperty(a)&&RVS.L[a].group&&RVS.L[a].group.puid==RVS.L[e].group.puid&&("next"===t&&RVS.L[a].group.groupOrder>RVS.L[e].group.groupOrder&&RVS.L[a].group.groupOrder<i.order||"prev"===t&&RVS.L[a].group.groupOrder<RVS.L[e].group.groupOrder&&RVS.L[a].group.groupOrder>i.order)&&(i.order=RVS.L[a].group.groupOrder,i.id=RVS.L[a].uid);return i.id}},RVS.F.getColumnsInRow=function(e){var t=[],i=[];if(e.type=void 0===e.type?"column":e.type,"paste"===e.copyPaste)for(var a in window.copyPasteLayers.layers)window.copyPasteLayers.layers.hasOwnProperty(a)&&window.copyPasteLayers.layers[a].type===e.type&&window.copyPasteLayers.layers[a].group.puid==e.layerid&&t.push({order:window.copyPasteLayers.layers[a].group.groupOrder,uid:window.copyPasteLayers.layers[a].uid});else for(var a in RVS.L)RVS.L.hasOwnProperty(a)&&RVS.L[a].type===e.type&&RVS.L[a].group.puid==e.layerid&&t.push({order:RVS.L[a].group.groupOrder,uid:RVS.L[a].uid});for(var a in t.sort(function(e,t){return e.order-t.order}),t)t.hasOwnProperty(a)&&i.push(t[a].uid);return i},RVS.F.getLayersFirstDepth=function(e){var t=[];if("paste"===e.copyPaste)for(var i in window.copyPasteLayers.layers)window.copyPasteLayers.layers.hasOwnProperty(i)&&window.copyPasteLayers.layers[i].group.puid==e.layerid&&t.push(window.copyPasteLayers.layers[i].uid);else for(var i in RVS.L)RVS.L.hasOwnProperty(i)&&RVS.L[i].group.puid==e.layerid&&t.push(RVS.L[i].uid);return t},RVS.F.getLayersAllDepth=function(e){var t=[];for(var i in RVS.L)if(RVS.L.hasOwnProperty(i)&&RVS.L[i].group.puid==e.layerid)if("column"===RVS.L[i].type){var a=RVS.F.getLayersFirstDepth({layerid:RVS.L[i].uid});for(var r in a)a.hasOwnProperty(r)&&t.push(a[r].uid)}else t.push(RVS.L[i].uid);return t},RVS.F.inSelectedLayers=function(e){var t=!1;for(var i in RVS.selLayers)RVS.selLayers.hasOwnProperty(i)&&RVS.selLayers[i]==e.id&&(t=!0);return t},RVS.F.notOnRoot=function(e){return void 0!==e&&void 0!==e.group&&void 0!==e.group.puid&&e.group.puid>=0&&e.group.puid<=5e3},RVS.F.groupOrColumn=function(e){return null!=e&&("column"===e.type||"group"===e.type)},RVS.F.getFirstSelectedType=function(e){var t=!1;for(var i in RVS.selLayers)RVS.selLayers.hasOwnProperty(i)&&(!1===t&&RVS.L[RVS.selLayers[i]].type===e&&(t=RVS.selLayers[i]),!1===t&&RVS.F.notOnRoot(RVS.L[RVS.selLayers[i]])&&RVS.L[RVS.L[RVS.selLayers[i]].group.puid].type===e&&(t=RVS.L[RVS.selLayers[i]].group.puid));return t},RVS.F.updateAllHTMLLayerPositions=function(){for(var e in RVS.L)RVS.L.hasOwnProperty(e)&&void 0!==RVS.L[e].position.x&&RVS.F.updateHTMLLayerPosition({uid:e})},RVS.F.updateHTMLLayerPosition=function(e){var t,i,a=RVS.H[e.uid],r=RVS.L[e.uid],s={left:0,top:0},o={},n=null==e.o?{x:0,y:0}:e.o,l=r.position.vertical[RVS.screen].v,d=r.position.horizontal[RVS.screen].v;if(t=i={x:parseInt(r.position.x[RVS.screen].v,0),y:+parseInt(r.position.y[RVS.screen].v,0)},"row"===r.type||"column"===r.type||-1!==r.group.puid&&"column"===RVS.L[r.group.puid].type)punchgs.TweenLite.set(a.w,{x:0,y:0,position:"relative",left:"auto",right:"auto",top:"auto",bottom:"auto"});else{var c=void 0===e.lhCwidth?a.c.outerWidth():e.lhCwidth,S=void 0===e.lhCheight?a.c.outerHeight():e.lhCheight,p=-1===r.group.puid?{width:RVS.C.layergrid.width(),height:RVS.C.layergrid.height()}:{width:RVS.H[r.group.puid].w.width(),height:RVS.H[r.group.puid].w.height()};if(o.left=s.left=p.width/2-c/2,s.left="left"===d?t.x+n.x:"right"===d?"auto":s.left+n.x,s.right="right"===d?t.x-n.x:"auto",o.top=s.top=p.height/2-S/2,s.top="top"===l?t.y+n.y:"bottom"===l?"auto":s.top+n.y,s.bottom="bottom"===l?t.y-n.y:"auto",s.x="center"===d?t.x:0,s.y="middle"===l?t.y:0,e.updateValues){var u={x:"right"===d?i.x-n.x:i.x+n.x,y:"bottom"===l?i.y-n.y:i.y+n.y};"column"===RVS.S.DaD.toContainerType&&(u.x=0,u.y=0),RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+e.uid+".position.x.#size#.v",val:u.x+"px",uid:e.uid}),RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+e.uid+".position.y.#size#.v",val:u.y+"px",uid:e.uid})}s.position="absolute",punchgs.TweenLite.set(a.w,s)}},RVS.F.resetDragStates=function(){for(var e in RVS.S.DaD.showInMini=!1,RVS.H)RVS.H.hasOwnProperty(e)&&c(e)},RVS.F.moveLayerByKeys=function(e){if(window.moveByKeyboard||(RVS.F.openBackupGroup({id:"LayerPosition",txt:"Layer Position",icon:"open_with"}),window.moveByKeyboard=!0),1===RVS.selLayers.length&&-1!==RVS.L[RVS.selLayers[0]].group.puid&&"column"===RVS.L[RVS.L[RVS.selLayers[0]].group.puid].type){if(-1==e.x||-1==e.y)(t=RVS.F.getPrevNextLayerInOrder(RVS.selLayers[0],"prev"))!==RVS.selLayers[0]&&RVS.F.sortLayer({layer:RVS.selLayers[0],target:"before",env:t,redraw:!0});else if(1===e.x||1===e.y){var t;(t=RVS.F.getPrevNextLayerInOrder(RVS.selLayers[0],"next"))!==RVS.selLayers[0]&&RVS.F.sortLayer({layer:RVS.selLayers[0],target:"after",env:t,redraw:!0})}}else for(var i in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(i)){var a=RVS.selLayers[i];RVS.F.updateHTMLLayerPosition({uid:a,o:e,updateValues:!0,lhCwidth:RVS.H[a].c.outerWidth(),lhCheight:RVS.H[a].c.outerHeight()}),document.getElementById("layer_pos_x").value=RVS.L[a].position.x[RVS.screen].v,document.getElementById("layer_pos_y").value=RVS.L[a].position.y[RVS.screen].v}},RVS.F.doDraggable=function(t){var i=RVS.H[t.uid];i.w.data("draggable")&&i.w.draggable("destroy"),i.w.data("resizable")&&i.w.resizable("destroy"),t.drag&&i.w.draggable({helper:"clone",delay:200,appendTo:"#layer_grid_"+RVS.S.slideId,start:function(a,r){for(var s in RVS.F.stopAndPauseAllLayerAnimation(),RVS.F.resetDragStates(),RVS.S.DaD.touchPosition={x:a.clientX-r.originalPosition.left,y:a.clientY-r.originalPosition.top},e("#rev_slider_ul_inner").addClass("dropSensorActive"),RVS.F.updateContentDeltas(),RVS.S.DaD.dropSensor=1,RVS.S.DaD.currentLayerId=t.uid,RVS.S.DaD.draggedPosType=i.w.css("position"),RVS.S.click.y=a.clientY,RVS.S.click.x=a.clientX,RVS.S.DaD.startPos="0",RVS.S.DaD.fromContainerID=RVS.L[t.uid].group.puid,RVS.S.DaD.lastRegisteredRow=-1===RVS.S.DaD.fromContainerID?-1:"group"===RVS.L[RVS.S.DaD.fromContainerID].type?"group":RVS.L[RVS.S.DaD.fromContainerID].group.puid,RVS.S.DaD.lastRegisteredRowBefore=RVS.S.DaD.lastRegisteredRow,window.scrollMem={y:RVS.S.rb_ScrollY,x:RVS.S.rb_ScrollX},RVS.S.DaD.fromContainerRowColumn=-1!==RVS.S.DaD.fromContainerID,RVS.S.DaD.uiHelper=r.helper,RVS.S.DaD.clone=RVS.S.DaD.fromContainerRowColumn?r.helper:i.w,RVS.S.DaD.dragItemOffset=i.w.offset(),RVS.S.DaD.fromContainerType=RVS.S.DaD.fromContainerID>=0&&RVS.S.DaD.fromContainerID<=5e3?RVS.L[RVS.L[t.uid].group.puid].type:"root",RVS.S.DaD.scrolldiff={x:RVS.S.rb_ScrollX-window.scrollMem.x,y:RVS.S.rb_ScrollY-window.scrollMem.y},RVS.H)RVS.H.hasOwnProperty(s)&&"group"===RVS.L[s].type&&(RVS.H[s].w_offset=RVS.H[s].w.offset());for(var o in 0==RVS.F.inSelectedLayers({id:t.uid})&&RVS.F.selectLayers({id:t.uid,overwrite:!0,action:"add"}),RVS.selLayers)if(RVS.selLayers.hasOwnProperty(o)){s=RVS.selLayers[o];RVS.H[s].c_width=RVS.H[s].c.outerWidth(),RVS.H[s].c_height=RVS.H[s].c.outerHeight(),RVS.H[s].w_offsetcache={horizontal:RVS.S.DaD.dragItemOffset.left-RVS.H[s].w.offset().left,vertical:RVS.S.DaD.dragItemOffset.top-RVS.H[s].w.offset().top}}RVS.S.DaD.originalWidth=i.w.width()+1,r.helper.css({zIndex:1e5,width:RVS.S.DaD.originalWidth}),punchgs.TweenLite.set(i.w,{opacity:0}),RVS.C.layergrid.addClass("layersInDragorResize")},drag:function(e,a){for(var r in RVS.S.DaD.startPos=void 0===RVS.S.DaD.startPos||"0"===RVS.S.DaD.startPos?RVS.S.DaD.fromContainerRowColumn?{x:a.helper.offset().left,y:a.helper.offset().top}:{x:i.w.offset().left,y:i.w.offset().top}:RVS.S.DaD.startPos,RVS.S.DaD.scrolldiff={x:RVS.S.rb_ScrollX-window.scrollMem.x,y:RVS.S.rb_ScrollY-window.scrollMem.y},RVS.S.DaD.dragdelta.x=e.clientX-RVS.S.click.x+RVS.S.DaD.scrolldiff.x,RVS.S.DaD.dragdelta.y=e.clientY-RVS.S.click.y+RVS.S.DaD.scrolldiff.y,"column"!==RVS.S.DaD.fromContainerType||RVS.S.DaD.showInMini||(RVS.S.DaD.dragdelta.x=RVS.S.DaD.dragdelta.x+RVS.S.DaD.touchPosition.x-RVS.S.layer_grid_offset.left,RVS.S.DaD.dragdelta.y=RVS.S.DaD.dragdelta.y+RVS.S.DaD.touchPosition.y-RVS.S.layer_grid_offset.top),a.position={},RVS.selLayers)if(RVS.selLayers.hasOwnProperty(r)){var s=RVS.selLayers[r];RVS.F.updateHTMLLayerPosition({uid:s,o:RVS.S.DaD.dragdelta,updateDistanceLines:t.uid,lhCwidth:RVS.H[s].c_width,lhCheight:RVS.H[s].c_height,updateFields:s==t.uid})}var o={left:e.clientX-RVS.S.layer_grid_offset.left,top:e.clientY-RVS.S.layer_grid_offset.top,transformOrigin:"0 0",opacity:.75,scale:.6,width:RVS.S.DaD.originalWidth,display:RVS.L[RVS.S.DaD.currentLayerId].idle.display,x:0+RVS.S.DaD.scrolldiff.x,y:0+RVS.S.DaD.scrolldiff.y};RVS.S.DaD.showInMini||("column"!==RVS.S.DaD.fromContainerType&&(o.left=e.clientX-RVS.S.DaD.touchPosition.x,o.top=e.clientY-RVS.S.DaD.touchPosition.y),o.width=RVS.L[RVS.S.DaD.currentLayerId].size.width[RVS.screen].v,o.display="block",o.scale=1),punchgs.TweenLite.set(a.helper,o)},stop:function(t,a){punchgs.TweenLite.set(a.helper,{scale:1}),e("#rev_slider_ul_inner").removeClass("dropSensorActive"),RVS.S.DaD.dropSensor=!1,p(),RVS.F.hideMouseInfo();var r=-1==RVS.S.DaD.fromContainerID&&void 0!==RVS.S.DaD.target&&"free"==RVS.S.DaD.target.into?"layermovement":"layersorting_layermovement";for(var s in RVS.F.openBackupGroup({id:r,txt:"Layer Position",icon:"open_with"}),RVS.selLayers)if(RVS.selLayers.hasOwnProperty(s)){var o=RVS.selLayers[s];RVS.F.updateHTMLLayerPosition({uid:o,o:RVS.S.DaD.dragdelta,updateValues:!0,lhCwidth:RVS.H[o].c_width,lhCheight:RVS.H[o].c_height})}RVS.C.layergrid.removeClass("layersInDragorResize"),function(){if(clearTimeout(RVS.S.DaD.timer),"column"===(void 0!==RVS.S.DaD.target?RVS.S.DaD.target.into:"free")){if(void 0!==RVS.S.DaD.target)if(void 0===RVS.S.DaD.target.columnID||"group"!==RVS.S.DaD.target.columnType&&void 0!==RVS.S.DaD.target.elementID)void 0!==RVS.S.DaD.target.elementID&&(RVS.S.DaD.target.elementBefore?RVS.F.sortAllSelectedLayers({layer:RVS.S.DaD.currentLayerId,target:"before",env:RVS.S.DaD.target.elementID}):RVS.F.sortAllSelectedLayers({layer:RVS.S.DaD.currentLayerId,target:"after",env:RVS.S.DaD.target.elementID}));else if(RVS.S.DaD.target.columnTop){if("group"!==RVS.S.DaD.target.columnType||RVS.S.DaD.fromContainerID!=RVS.S.DaD.target.columnID){var e={x:RVS.S.DaD.clone.offset().left-RVS.S.DaD.dropParentPos.x+RVS.S.DaD.scrolldiff.x,y:RVS.S.DaD.clone.offset().top-RVS.S.DaD.dropParentPos.y+RVS.S.DaD.scrolldiff.y};if("column"===RVS.S.DaD.target.columnType)for(var t in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(t)&&"text"===RVS.L[RVS.selLayers[t]].type)for(var i in RVS.V.sizes)RVS.V.sizes.hasOwnProperty(i)&&(RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+RVS.selLayers[t]+".idle.whiteSpace."+RVS.V.sizes[i]+".v",val:"full",uid:RVS.selLayers[t]}),-1==RVS.L[RVS.selLayers[t]].size.width[RVS.V.sizes[i]].v.indexOf("%")&&RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+RVS.selLayers[t]+".size.width."+RVS.V.sizes[i]+".v",val:"auto",uid:RVS.selLayers[t]}));RVS.F.sortAllSelectedLayers({layer:RVS.S.DaD.currentLayerId,target:RVS.S.DaD.target.columnType,env:RVS.S.DaD.target.columnID,dropto:RVS.S.DaD.target.columnType,resetPosition:e})}}else RVS.F.sortAllSelectedLayers({layer:RVS.S.DaD.currentLayerId,target:"columnend",env:RVS.S.DaD.target.columnID})}else{if(RVS.L[RVS.S.DaD.currentLayerId].linebreak)return void RVS.F.showInfo({content:RVS_LANG.cantpulllinebreakoutside,type:"goodtoknow",showdelay:0,hidedelay:3,hideon:"",event:""});-1!==RVS.L[RVS.S.DaD.currentLayerId].group.puid&&RVS.F.sortAllSelectedLayers({layer:RVS.S.DaD.currentLayerId,target:"before",env:"top",dropto:"root",resetPosition:{x:RVS.S.DaD.startPos.x+RVS.S.DaD.dragdelta.x-RVS.S.layer_grid_offset.left,y:RVS.S.DaD.startPos.y+RVS.S.DaD.dragdelta.y-RVS.S.layer_grid_offset.top}})}}(),punchgs.TweenLite.set(i.w,{opacity:1}),RVS.F.closeBackupGroup({id:r}),RVS.F.selectedLayersVisualUpdate()}}),t.resize&&i.w.resizable({handles:"n,s,w,e",start:function(e,i){RVS.F.stopAndPauseAllLayerAnimation(),RVS.F.showForms("*slidelayout**mode__slidecontent*#form_layer_position",!0),window.wwl=RVS.L[t.uid],window.lpv=wwl.position.vertical[RVS.screen].v,window.lph=wwl.position.horizontal[RVS.screen].v,window.wwhl=RVS.H[t.uid],window.layertemp_width=window.layerneww=i.size.width,window.layertemp_height=window.layernewh=i.size.height,window.resizeDirection="none",RVS.F.setZindex({id:t.uid,o:475}),RVS.C.layergrid.addClass("layersInDragorResize"),"text"!==wwl.type&&"button"!==wwl.type||(window.layerclone=window.wwhl.w.clone(!1),window.layercloneinside=window.layerclone.find("._lc_content_").first(),RVS.C.slide.append(window.layerclone),punchgs.TweenLite.set(window.layerclone,{autoAlpha:0}))},resize:function(i,a){var r=window.layerneww!=a.size.width?"horizontal":"vertical";switch(window.layerneww=a.size.width,window.layernewh=a.size.height,wwl.type){case"text":case"button":punchgs.TweenLite.set([window.layercloneinside],{width:a.size.width,height:"auto"}),("auto"===wwl.size.height[RVS.screen].v||window.layercloneinside.height()>a.size.height)&&(window.layernewh=a.size.height="horizontal"===r?window.layercloneinside.outerHeight():Math.max(parseInt(a.size.height,0)||0,parseInt(window.layercloneinside.outerHeight(),0)||0))}if("none"!==window.wwl.size.minWidth[RVS.screen].v&&(window.layerneww=a.size.width=Math.max(window.layerneww,parseInt(window.wwl.size.minWidth[RVS.screen].v,0)||0)),"none"!==window.wwl.size.maxWidth[RVS.screen].v&&(window.layerneww=a.size.width=Math.min(window.layerneww,parseInt(window.wwl.size.maxWidth[RVS.screen].v,0)||0)),"none"!==window.wwl.size.minHeight[RVS.screen].v&&(window.layernewh=a.size.height=Math.max(window.layernewh,parseInt(window.wwl.size.minHeight[RVS.screen].v,0)||0)),"none"!==window.wwl.size.maxHeight[RVS.screen].v&&(window.layernewh=a.size.height=Math.min(window.layernewh,parseInt(window.wwl.size.maxHeight[RVS.screen].v,0)||0)),RVS.F.showMouseInfo({html:"<div class='mouse_info_coor'><div><span class='mouselabel'>W</span><span class='mouseval'>"+window.layerneww+"</span></div><div><span class='mouselabel'>H</span><span class='mouseval'>"+window.layernewh+"</span></div></div><div class='mouse_info_align "+window.lph+" "+window.lpv+"'><span class='mia_tl'></span><span class='mia_tc'></span><span class='mia_tr'></span><span class='mia_ml'></span><span class='mia_mc'></span><span class='mia_mr'></span><span class='mia_bl'></span><span class='mia_bc'></span><span class='mia_br'></span></div>"}),window.layertemp_width!=window.layerneww&&("none"===window.resizeDirection&&(window.resizeDirection="horizontal"),e("#layer_width").val(window.layerneww+"px"),"fullwidth"!==RVS.L[t.uid].size.covermode&&"cover"!==RVS.L[t.uid].size.covermode&&"cover-proportional"!==RVS.L[t.uid].size.covermode||(e("#layer_covermode").val("custom").trigger("change.select2RS"),"cover"===RVS.L[t.uid].size.covermode||"cover-proportional"===RVS.L[t.uid].size.covermode?e(".layersize_wrap").removeClass("disablecontainer"):e(".layersize_wrap_width").removeClass("disablecontainer"))),window.layertemp_height!=window.layernewh&&("none"===window.resizeDirection&&(window.resizeDirection="vertical"),e("#layer_height").val("video"===wwl.type&&"auto"===wwl.size.height[RVS.screen].v?"auto":window.layernewh+"px"),"fullheight"!==RVS.L[t.uid].size.covermode&&"cover"!==RVS.L[t.uid].size.covermode&&"cover-proportional"!==RVS.L[t.uid].size.covermode||(e("#layer_covermode").val("custom").trigger("change.select2RS"),"cover"===RVS.L[t.uid].size.covermode||"cover-proportional"===RVS.L[t.uid].size.covermode?e(".layersize_wrap").removeClass("disablecontainer"):e(".layersize_wrap_height").removeClass("disablecontainer"))),wwl.size.scaleProportional&&"auto"!==wwl.size.aspectRatio[RVS.screen].v&&("horizontal"===window.resizeDirection?window.layernewh=a.size.height=Math.round(window.layerneww/wwl.size.aspectRatio[RVS.screen].v):window.layerneww=a.size.width=Math.round(window.layernewh*wwl.size.aspectRatio[RVS.screen].v)),"video"===wwl.type&&"auto"===wwl.size.height[RVS.screen].v){var s=wwl.media.ratio.split(":");s=s[1]/s[0],a.size.height=window.layerneww*s}punchgs.TweenLite.set(RVS.H[t.uid].c,{width:window.layerneww,height:window.layernewh}),RVS.F.updateHTMLLayerPosition({uid:t.uid});var o=RVS.F.getLayerChildren({layerid:t.uid});for(var n in o)o.hasOwnProperty(n)&&RVS.F.updateHTMLLayerPosition({uid:n});RVS.F.updateMinSliderHeights()&&RVS.DOC.trigger("updatesliderlayout","layertools.js - 1026"),RVS.F.updateSharpCorners({uid:t.uid,resize:!0})},stop:function(e,i){RVS.C.layergrid.removeClass("layersInDragorResize"),RVS.F.hideMouseInfo(),RVS.S.justresized=!0,RVS.F.openBackupGroup({id:"layerresize",txt:"Resize Layer",icon:"photo_size_select_large"}),"text"!==wwl.type&&"button"!==wwl.type||(window.layernewh=window.layercloneinside.height()===window.layernewh&&"text"==RVS.L[t.uid].type?"auto":window.layernewh,window.layerclone.remove()),window.layertemp_width!=window.layerneww&&(RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+t.uid+".size.width.#size#.v",val:window.layerneww+"px",uid:t.uid}),"fullwidth"!==RVS.L[t.uid].size.covermode&&"cover"!==RVS.L[t.uid].size.covermode&&"cover-proportional"!==RVS.L[t.uid].size.covermode||RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+t.uid+".size.covermode",val:"custom",uid:t.uid})),window.layertemp_height!=window.layernewh&&(RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+t.uid+".size.height.#size#.v",val:"video"===wwl.type&&"auto"===wwl.size.height[RVS.screen].v?"auto":isNaN(window.layernewh)?window.layernewh:window.layernewh+"px",uid:t.uid}),"fullheight"!==RVS.L[t.uid].size.covermode&&"cover"!==RVS.L[t.uid].size.covermode&&"cover-proportional"!==RVS.L[t.uid].size.covermode||RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+t.uid+".size.covermode",val:"custom",uid:t.uid})),RVS.F.closeBackupGroup({id:"layerresize"}),RVS.F.updateMinSliderHeights()&&RVS.DOC.trigger("updatesliderlayout","layertools.js - 1056"),setTimeout(function(){RVS.S.justresized=!1},100)}})},RVS.F.figureColumnSizes=function(t){if(void 0!==t.plain&&(t.plain=RVS.F.sanitize_columns(t.plain),t.plain=0===t.plain.length||void 0===t.plain||""===t.plain?"1/2+1/2":t.plain,t.cols=t.temp=t.plain.split("+")),t.summ=0,-1===t.plain.indexOf("/"))if(t.cols=[],t.plain="",1==t.temp.length){var i=parseInt(t.temp[0],0);i=i>9?"9":i;for(var a=0;a<i;a++)t.plain.length>0&&(t.plain+="+"),t.plain+="1/"+i,t.cols.push("1/"+i)}else{var r=0;t.plain="";for(a=0;a<t.temp.length;a++)""!==t.temp[a]&&t.temp[a].length>0&&(r+=parseInt(t.temp[a],0));for(a=0;a<t.temp.length;a++)""!==t.temp[a]&&t.temp[a].length>0&&(t.plain.length>0&&(t.plain+="+"),t.plain+=t.temp[a]+"/"+r,t.cols.push(t.temp[a]+"/"+r))}var s;for(var o in t.cols)t.cols.hasOwnProperty(o)&&(s=RVS.F.convertFraction(t.cols[o]),t.summ+=100*s);return 100!==Math.round(t.summ)?e("#row_column_structure").addClass("badvalue"):e("#row_column_structure").removeClass("badvalue"),t},RVS.F.fixColumnsInRows=function(e){if(void 0!==RVS.L[e.layerid]&&"row"===RVS.L[e.layerid].type){var t=RVS.F.getColumnsInRow(e),i=0,a=[];for(var r in t)t.hasOwnProperty(r)&&(i=i+=100*RVS.F.convertFraction(RVS.L[t[r]].group.columnSize),a.push(RVS.L[t[r]].group.columnSize.split("/")));var s=t.length;if((i=99.99999999999999===i?100:i)<100){var o=100-i,n=t[t.length-1],l=RVS.L[n].group.columnSize,d=l.split("/"),c=o/(100*RVS.F.convertFraction(l)/parseInt(d[0],0)),S=parseInt(d[0],0)+parseInt(c,0)+"/"+d[1],p=RVS.S.slideId+".layers."+n+".group.columnSize";1===s?RVS.F.updateSliderObj({path:p,val:"1/1"}):RVS.F.updateSliderObj({path:p,val:S}),RVS.F.drawHTMLLayer({uid:n})}if(i>100){for(var r in t)t.hasOwnProperty(r)&&(a[r][0]=1,a[r][1]=s);for(var r in t)if(t.hasOwnProperty(r)){n=t[r],p=RVS.S.slideId+".layers."+n+".group.columnSize";RVS.F.updateSliderObj({path:p,val:a[r][0]+"/"+a[r][1]}),RVS.F.drawHTMLLayer({uid:n})}}}},RVS.F.checkLockedLayers=function(){for(var i in(t=void 0===t?{wrap:e("#locked_layers_list"),switch:e("#layer_lock_iconswitch")}:t).default=void 0===t.default?t.wrap[0].innerHTML:t.default,t.layers=[],RVS.L)RVS.L.hasOwnProperty(i)&&void 0!==RVS.L[i].visibility&&RVS.L[i].visibility.locked&&-1===e.inArray(i,t.layers)&&t.layers.push(i);var a="";for(var r in t.layers)if(t.layers.hasOwnProperty(r)){var s=t.layers[r];RVS.H[s].w.addClass("_locked_");var o=document.getElementById("tllayerlist_element_"+RVS.S.slideId+"_"+s);-1===o.className.indexOf("_locked_")&&(o.className+=" _locked_",window.firstLockTest=void 0===window.firstLockTest?"change":window.firstLockTest),a+='<div data-uid="'+s+'" class="unlock_single_layer lockstep"><i class="material-icons">lock_open</i>'+RVS.L[s].alias+"</div>"}a=t.default+a,t.wrap[0].innerHTML=a},RVS.F.lockUnlockLayer=function(e){if(e.val=void 0===e.val?!RVS.L[e.uid].visibility.locked:e.val,RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+e.uid+".visibility.locked",val:e.val}),!1===e.val&&RVS.H[e.uid].w[0].className.indexOf("_locked_")>=0){RVS.H[e.uid].w.removeClass("_locked_");var t=document.getElementById("tllayerlist_element_"+RVS.S.slideId+"_"+e.uid);t.className=t.className.replace(" _locked_","")}},RVS.F.lockUnlockLayers=function(e){for(var t in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(t)){var i=void 0!==e&&void 0!==e.val?e.val:!RVS.L[RVS.selLayers[t]].visibility.locked;RVS.F.lockUnlockLayer({uid:RVS.selLayers[t],val:i})}RVS.F.checkLockedLayers()},RVS.F.checkShowHideLayers=function(){for(var t in(i=void 0===i?{wrap:e("#unvisible_layers_list"),switch:e("#layer_visibility_iconswitch")}:i).default=void 0===i.default?i.wrap[0].innerHTML:i.default,i.layers=[],RVS.L)RVS.L.hasOwnProperty(t)&&void 0!==RVS.L[t].visibility&&!1===RVS.L[t].visibility.visible&&-1===e.inArray(t,i.layers)&&i.layers.push(t);var a="";for(var r in i.layers)if(i.layers.hasOwnProperty(r)){var s=i.layers[r];RVS.H[s].w.addClass("_unvisible_");var o=document.getElementById("tllayerlist_element_"+RVS.S.slideId+"_"+s);-1===o.className.indexOf("_unvisible_")&&(o.className+=" _unvisible_",window.firstLockTest=void 0===window.firstLockTest?"change":window.firstLockTest),a+='<div data-uid="'+s+'" class="visible_single_layer visiblestep"><i class="material-icons">visibility</i>'+RVS.L[s].alias+"</div>"}a=i.default+a,i.wrap[0].innerHTML=a},RVS.F.showHideLayer=function(e){if(void 0===e.val&&(e.val=!RVS.L[e.uid].visibility.visible),RVS.F.updateSliderObj({ignoreBackup:e.ignoreBackup,path:RVS.S.slideId+".layers."+e.uid+".visibility.visible",val:e.val}),!0===e.val&&RVS.H[e.uid].w[0].className.indexOf("_unvisible_")>=0){RVS.H[e.uid].w.removeClass("_unvisible_");var t=document.getElementById("tllayerlist_element_"+RVS.S.slideId+"_"+e.uid);t.className=t.className.replace(" _unvisible_","")}},RVS.F.showHideLayers=function(e){for(var t in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(t)){var i=void 0!==e&&void 0!==e.val?e.val:!RVS.L[RVS.selLayers[t]].visibility.visible;RVS.F.showHideLayer({uid:RVS.selLayers[t],val:i})}RVS.F.checkShowHideLayers()},RVS.F.updateColumnBreaksChildren=function(){for(var e in RVS.L)RVS.L.hasOwnProperty(e)&&"column"===RVS.L[e].type&&(RVS.L[e].group.columnbreakat=RVS.L[RVS.L[e].group.puid].group.columnbreakat)},RVS.F.isIntelligentInherited=function(e){return void 0!==RVS.L[e]&&RVS.L[e].behavior.intelligentInherit},RVS.F.setToIntelligentUpdate=function(e){RVS.F.updateScreenShrinks();var t=e?"Reset All values to Intelligent Values":"Enable Intelligent Inherit";for(var i in RVS.F.openBackupGroup({id:"IntelligentInherit",txt:t,icon:"important_devices",lastkey:"layer"}),RVS.selLayers)if(RVS.selLayers.hasOwnProperty(i)){for(var r in a)a.hasOwnProperty(r)&&RVS.F.intelligentUpdate({calcShrink:!1,key:a[r],index:"v",uid:RVS.selLayers[i],backup:!0,notEdited:e,reset:e});for(var s=0;s<4;s++)RVS.F.intelligentUpdate({calcShrink:!1,key:"padding",index:s,uid:RVS.selLayers[i],backup:!0,notEdited:e,reset:e}),RVS.F.intelligentUpdate({calcShrink:!1,key:"margin",index:s,uid:RVS.selLayers[i],backup:!0,notEdited:e,reset:e});RVS.F.updateSliderObj({ignoreResponsive:!0,path:RVS.S.slideId+".layers."+RVS.selLayers[i]+".behavior.intelligentInherit",val:!0})}RVS.F.closeBackupGroup({id:"IntelligentInherit"})},RVS.F.intelligentUpdateValuesOnLayer=function(e){if(RVS.L[e].behavior.intelligentInherit){for(var t in a)a.hasOwnProperty(t)&&RVS.F.intelligentUpdate({calcShrink:!1,key:a[t],index:"v",uid:e,backup:!1,notEdited:!0,reset:!0});for(var i=0;i<4;i++)RVS.F.intelligentUpdate({calcShrink:!1,key:"padding",index:i,uid:e,backup:!1,notEdited:!0,reset:!0}),RVS.F.intelligentUpdate({calcShrink:!1,key:"margin",index:i,uid:e,backup:!1,notEdited:!0,reset:!0})}},RVS.F.updateAllInheritedSize=function(){for(var e in RVS.F.updateScreenShrinks(),RVS.L)if(RVS.L.hasOwnProperty(e)&&"zone"!==RVS.L[e].type&&RVS.L[e].behavior.intelligentInherit){for(var t in a)a.hasOwnProperty(t)&&RVS.F.intelligentUpdate({calcShrink:!1,key:a[t],index:"v",uid:RVS.L[e].uid});for(var i=0;i<4;i++)RVS.F.intelligentUpdate({calcShrink:!1,key:"padding",index:i,uid:RVS.L[e].uid}),RVS.F.intelligentUpdate({calcShrink:!1,key:"margin",index:i,uid:RVS.L[e].uid});RVS.F.drawHTMLLayer({uid:RVS.L[e].uid})}RVS.F.closeBackupGroup({id:"IntelligentInherit"})},RVS.F.disableIntelligentUpdate=function(){for(var e in RVS.F.openBackupGroup({id:"DIntelligentInherit",txt:"Disable Intelligent Inherit",icon:"important_devices",lastkey:"layer"}),RVS.selLayers)RVS.selLayers.hasOwnProperty(e)&&RVS.F.updateSliderObj({ignoreResponsive:!0,path:RVS.S.slideId+".layers."+RVS.selLayers[e]+".behavior.intelligentInherit",val:!1});RVS.F.closeBackupGroup({id:"DIntelligentInherit"})},RVS.F.resetLayersDeviceSizesToDesktop=function(){for(var e in RVS.F.openBackupGroup({id:"desktopValueReset",txt:"Reset Values to Dekstop",icon:"important_devices",lastkey:"layer"}),RVS.selLayers)if(RVS.selLayers.hasOwnProperty(e)){for(var t in a)a.hasOwnProperty(t)&&RVS.F.intelligentUpdate({calcShrink:!1,key:a[t],index:"v",uid:RVS.selLayers[e],backup:!0,allToOne:!0,notEdited:!0});for(var i=0;i<4;i++)RVS.F.intelligentUpdate({calcShrink:!1,key:"padding",index:i,uid:RVS.selLayers[e],backup:!0,allToOne:!0,notEdited:!0}),RVS.F.intelligentUpdate({calcShrink:!1,key:"margin",index:i,uid:RVS.selLayers[e],backup:!0,allToOne:!0,notEdited:!0})}for(var r in RVS.F.closeBackupGroup({id:"desktopValueReset"}),RVS.selLayers)RVS.selLayers.hasOwnProperty(r)&&RVS.F.drawHTMLLayer({uid:RVS.selLayers[r]})},RVS.F.resetIntelligentInherits=function(){RVS.F.setToIntelligentUpdate(!0)},RVS.F.intelligentUpdate=function(e){switch(e.calcShrink&&RVS.F.updateScreenShrinks(),RVS.S.respInfoBar.visible&&RVS.F.showFieldResponsiveValues(),e.iii=void 0===e.iii||e.iii,e.key){case"viewPortArea":e.l=RVS.SLIDER.settings.general.slideshow.viewPortArea,e.minValue=-1500,e.useSuffix=!0,e.number=!0,e.shrink=!0,u(e);break;case"horizontal":case"vertical":case"y":case"x":if(e.l=RVS.L[e.uid].position[e.key],e.p=e.uid+".position."+e.key+".","x"===e.key||"y"===e.key)for(var t in e.number=!0,e.shrink=!0,u(e),RVS.L[e.uid].timeline.frames)RVS.L[e.uid].timeline.frames.hasOwnProperty(t)&&(e.l=RVS.L[e.uid].timeline.frames[t].transform[e.key],e.p=e.uid+".timeline.frames."+t+".transform."+e.key+".",u(e),e.l=RVS.L[e.uid].timeline.frames[t].mask[e.key],e.p=e.uid+".timeline.frames."+t+".mask."+e.key+".",u(e),e.l=RVS.L[e.uid].timeline.frames[t].chars[e.key],e.p=e.uid+".timeline.frames."+t+".chars."+e.key+".",u(e),e.l=RVS.L[e.uid].timeline.frames[t].words[e.key],e.p=e.uid+".timeline.frames."+t+".words."+e.key+".",u(e),e.l=RVS.L[e.uid].timeline.frames[t].lines[e.key],e.p=e.uid+".timeline.frames."+t+".lines."+e.key+".",u(e));else u(e);break;case"width":case"height":e.l=RVS.L[e.uid].size[e.key],e.p=e.uid+".size."+e.key+".",e.minValue=1,e.useSuffix=!0,e.number=!0,e.shrink=!0,u(e);break;case"blur":case"spread":case"hoffset":case"voffset":e.l=RVS.L[e.uid].idle.boxShadow[e.key],e.p=e.uid+".idle.boxShadow."+e.key+".",e.useSuffix=!0,e.number=!0,e.shrink=!0,u(e),"spread"!==e.key&&(e.l=RVS.L[e.uid].idle.textShadow[e.key],e.p=e.uid+".idle.textShadow."+e.key+".",e.useSuffix=!0,e.number=!0,e.shrink=!0,u(e));break;case"margin":case"padding":if("v"===e.index)for(e.index=0;e.index<4;e.index++){e.val=RVS.L[e.uid].idle[e.key][RVS.V.sizes[0]].v[e.index];for(var i=parseInt(e.val,0),a=1,r=0;r<=3;r++)a=e.iii?RVS.S.shrink[RVS.V.sizes[r]]:a,i=e.allToOne?i:e.reset||!RVS.L[e.uid].idle[e.key][RVS.V.sizes[r]].e?Math.round(i*a):parseInt(RVS.L[e.uid].idle[e.key][RVS.V.sizes[r]].v[e.index],0),e.backup?(RVS.F.updateSliderObj({ignoreResponsive:!0,path:RVS.S.slideId+".layers."+e.uid+".idle."+e.key+"."+RVS.V.sizes[r]+".v."+e.index,val:i}),e.notEdited&&RVS.F.updateSliderObj({ignoreResponsive:!0,path:RVS.S.slideId+".layers."+e.uid+".idle."+e.key+"."+RVS.V.sizes[r]+".e",val:!1})):(RVS.L[e.uid].idle[e.key][RVS.V.sizes[r]].v[e.index]=i,e.notEdited&&(RVS.L[e.uid].idle[e.key][RVS.V.sizes[r]].e=!1))}else{e.val=RVS.L[e.uid].idle[e.key][RVS.V.sizes[0]].v[e.index];for(i=parseInt(e.val,0),a=1,r=0;r<=3;r++)a=e.iii?RVS.S.shrink[RVS.V.sizes[r]]:a,i=e.allToOne?i:e.reset||!RVS.L[e.uid].idle[e.key][RVS.V.sizes[r]].e?Math.round(i*a):parseInt(RVS.L[e.uid].idle[e.key][RVS.V.sizes[r]].v[e.index],0),e.backup?(RVS.F.updateSliderObj({ignoreResponsive:!0,path:RVS.S.slideId+".layers."+e.uid+".idle."+e.key+"."+RVS.V.sizes[r]+".v."+e.index,val:i}),e.notEdited&&RVS.F.updateSliderObj({ignoreResponsive:!0,path:RVS.S.slideId+".layers."+e.uid+".idle."+e.key+"."+RVS.V.sizes[r]+".e",val:!1})):(RVS.L[e.uid].idle[e.key][RVS.V.sizes[r]].v[e.index]=i,e.notEdited&&(RVS.L[e.uid].idle[e.key][RVS.V.sizes[r]].e=!1))}break;case"textAlign":case"fontWeight":case"borderStyle":case"color":e.l="color"===e.key&&"svg"===RVS.L[e.uid].type?RVS.L[e.uid].idle.svg.color:RVS.L[e.uid].idle[e.key],e.p="color"===e.key&&"svg"===RVS.L[e.uid].type?e.uid+".idle.svg.color.":e.uid+".idle."+e.key+".",u(e);break;case"lineHeight":case"letterSpacing":case"fontSize":e.l=RVS.L[e.uid].idle[e.key],e.p=e.uid+".idle."+e.key+".",e.number=!0,e.shrink=!0,"fontSize"===e.key&&(e.minValue=4),"lineHeight"===e.key&&(e.minValue=6),u(e);break;case"whiteSpace":e.p=e.uid+".idle.whiteSpace.",e.l=RVS.L[e.uid].idle[e.key],u(e)}},RVS.F.updateGroupLocks=function(){for(var e in RVS.L)RVS.L.hasOwnProperty(e)&&RVS.L[e].group&&"group"===RVS.L[e].type&&void 0!==RVS.H[e]&&(RVS.L[e].group.locked?RVS.H[e].w.addClass("_group_locked_"):RVS.H[e].w.removeClass("_group_locked_"))},RVS.DOC.on("updateLayerFrame",function(e,t){if(void 0!==t)for(var i in RVS.selLayers)RVS.selLayers.hasOwnProperty(i)&&(RVS.F.updateLayerFrame({layerid:parseInt(RVS.selLayers[i],0),frame:RVS.S.keyFrame}),RVS.F.updateFrameRealSpeed())}),RVS.DOC.on("updateLayerFrameStart",function(e,t){if(void 0!==t||void 0!==t.val){RVS.F.openBackupGroup({id:"LayerFrameStart",txt:"Layer Frame Start",icon:"layers",lastkey:"layer"});var i=parseInt(RVS.selLayers[0],0),a=RVS.F.getPrevNextFrame({layerid:i,frame:RVS.S.keyFrame});for(var i in cur=parseInt(t.val,0),cur=cur<a.prev.end?a.prev.end+10:cur+a.cur.framelength>a.next.start?a.next.start-(a.cur.framelength+10):cur,cur=cur>10*RVS.F.getSlideLength()?10*RVS.F.getSlideLength():cur,RVS.F.updateLayerObj({path:"timeline.frames."+RVS.S.keyFrame+".timeline.start",val:cur}),RVS.F.closeBackupGroup({id:"LayerFrameStart"}),document.getElementById("layerframestart").value=cur,RVS.selLayers)RVS.selLayers.hasOwnProperty(i)&&(RVS.F.updateLayerFrame({layerid:parseInt(RVS.selLayers[i],0),frame:RVS.S.keyFrame}),RVS.F.updateFrameRealSpeed())}})}(),function(e,t,i){function a(e,t,i){return e.call.apply(e.bind,arguments)}function r(e,t,i){if(!e)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,a),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function s(e,t,i){return(s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:r).apply(null,arguments)}var o=Date.now||function(){return+new Date};function n(e,t){this.K=e,this.w=t||e,this.G=this.w.document}function l(e,i,a){(e=e.G.getElementsByTagName(i)[0])||(e=t.documentElement),e&&e.lastChild&&e.insertBefore(a,e.lastChild)}function d(e,t,i){t=t||[],i=i||[];for(var a=e.className.split(/\s+/),r=0;r<t.length;r+=1){for(var s=!1,o=0;o<a.length;o+=1)if(t[r]===a[o]){s=!0;break}s||a.push(t[r])}for(t=[],r=0;r<a.length;r+=1){for(s=!1,o=0;o<i.length;o+=1)if(a[r]===i[o]){s=!0;break}s||t.push(a[r])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function c(e,t){for(var i=e.className.split(/\s+/),a=0,r=i.length;a<r;a++)if(i[a]==t)return!0;return!1}function S(e){if("string"==typeof e.na)return e.na;var t=e.w.location.protocol;return"about:"==t&&(t=e.K.location.protocol),"https:"==t?"https:":"http:"}function p(e,t){var i=e.createElement("link",{rel:"stylesheet",href:t,media:"all"}),a=!1;i.onload=function(){a||(a=!0)},i.onerror=function(){a||(a=!0)},l(e,"head",i)}function u(t,i,a,r){var s=t.G.getElementsByTagName("head")[0];if(s){var o=t.createElement("script",{src:i}),n=!1;return o.onload=o.onreadystatechange=function(){n||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(n=!0,a&&a(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&s.removeChild(o))},s.appendChild(o),e.setTimeout(function(){n||(n=!0,a&&a(Error("Script load timeout")))},r||5e3),o}return null}function R(e,t){this.Y=e,this.ga=t}function V(e,t,i,a){this.c=null!=e?e:null,this.g=null!=t?t:null,this.D=null!=i?i:null,this.e=null!=a?a:null}n.prototype.createElement=function(e,t,i){if(e=this.G.createElement(e),t)for(var a in t)t.hasOwnProperty(a)&&("style"==a?e.style.cssText=t[a]:e.setAttribute(a,t[a]));return i&&e.appendChild(this.G.createTextNode(i)),e};var m=/^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/;function f(e){var t=null,i=null,a=null,r=null;return(e=m.exec(e))&&(null!==e[1]&&e[1]&&(t=parseInt(e[1],10)),null!==e[2]&&e[2]&&(i=parseInt(e[2],10)),null!==e[3]&&e[3]&&(a=parseInt(e[3],10)),null!==e[4]&&e[4]&&(r=/^[0-9]+$/.test(e[4])?parseInt(e[4],10):e[4])),new V(t,i,a,r)}function y(e,t,i,a,r,s,o,n){this.N=e,this.k=n}function h(e){this.a=e}V.prototype.compare=function(e){return this.c>e.c||this.c===e.c&&this.g>e.g||this.c===e.c&&this.g===e.g&&this.D>e.D?1:this.c<e.c||this.c===e.c&&this.g<e.g||this.c===e.c&&this.g===e.g&&this.D<e.D?-1:0},V.prototype.toString=function(){return[this.c,this.g||"",this.D||"",this.e||""].join("")},y.prototype.getName=function(){return this.N};var v=new y("Unknown",0,0,0,0,0,0,new R(!1,!1));function g(e){var t=w(e.a,/(iPod|iPad|iPhone|Android|Windows Phone|BB\d{2}|BlackBerry)/,1);return""!=t?(/BB\d{2}/.test(t)&&(t="BlackBerry"),t):""!=(e=w(e.a,/(Linux|Mac_PowerPC|Macintosh|Windows|CrOS|PlayStation|CrKey)/,1))?("Mac_PowerPC"==e?e="Macintosh":"PlayStation"==e&&(e="Linux"),e):"Unknown"}function _(e){if((t=w(e.a,/(OS X|Windows NT|Android) ([^;)]+)/,2))||(t=w(e.a,/Windows Phone( OS)? ([^;)]+)/,2))||(t=w(e.a,/(iPhone )?OS ([\d_]+)/,2)))return t;if(t=w(e.a,/(?:Linux|CrOS|CrKey) ([^;)]+)/,1))for(var t=t.split(/\s/),i=0;i<t.length;i+=1)if(/^[\d\._]+$/.test(t[i]))return t[i];return(e=w(e.a,/(BB\d{2}|BlackBerry).*?Version\/([^\s]*)/,2))?e:"Unknown"}function L(e){var t=g(e),i=f(_(e)),a=f(w(e.a,/AppleWeb(?:K|k)it\/([\d\.\+]+)/,1)),r="Unknown",s=new V;s="Unknown";return/OPR\/[\d.]+/.test(e.a)?r="Opera":-1!=e.a.indexOf("Chrome")||-1!=e.a.indexOf("CrMo")||-1!=e.a.indexOf("CriOS")?r="Chrome":/Silk\/\d/.test(e.a)?r="Silk":"BlackBerry"==t||"Android"==t?r="BuiltinBrowser":-1!=e.a.indexOf("PhantomJS")?r="PhantomJS":-1!=e.a.indexOf("Safari")?r="Safari":-1!=e.a.indexOf("AdobeAIR")?r="AdobeAIR":-1!=e.a.indexOf("PlayStation")&&(r="BuiltinBrowser"),"BuiltinBrowser"==r?s="Unknown":"Silk"==r?s=w(e.a,/Silk\/([\d\._]+)/,1):"Chrome"==r?s=w(e.a,/(Chrome|CrMo|CriOS)\/([\d\.]+)/,2):-1!=e.a.indexOf("Version/")?s=w(e.a,/Version\/([\d\.\w]+)/,1):"AdobeAIR"==r?s=w(e.a,/AdobeAIR\/([\d\.]+)/,1):"Opera"==r?s=w(e.a,/OPR\/([\d.]+)/,1):"PhantomJS"==r&&(s=w(e.a,/PhantomJS\/([\d.]+)/,1)),s=f(s),new y(r,0,0,0,0,0,0,new R("AdobeAIR"==r?2<s.c||2==s.c&&5<=s.g:"BlackBerry"==t?10<=i.c:"Android"==t?2<i.c||2==i.c&&1<i.g:526<=a.c||525<=a.c&&13<=a.g,536>a.c||536==a.c&&11>a.g))}function w(e,t,i){return(e=e.match(t))&&e[i]?e[i]:""}function b(e){this.ma=e||"-"}function F(e,t){this.N=e,this.Z=4,this.O="n";var i=(t||"n4").match(/^([nio])([1-9])$/i);i&&(this.O=i[1],this.Z=parseInt(i[2],10))}function I(e){return e.O+e.Z}function x(e){var t=4,i="n",a=null;return e&&((a=e.match(/(normal|oblique|italic)/i))&&a[1]&&(i=a[1].substr(0,1).toLowerCase()),(a=e.match(/([1-9]00|normal|bold)/i))&&a[1]&&(/bold/i.test(a[1])?t=7:/[1-9]00/.test(a[1])&&(t=parseInt(a[1].substr(0,1),10)))),i+t}function k(e,t){this.d=e,this.q=e.w.document.documentElement,this.Q=t,this.j="wf",this.h=new b("-"),this.ha=!1!==t.events,this.F=!1!==t.classes}function T(e){if(e.F){var t=c(e.q,e.h.e(e.j,"active")),i=[],a=[e.h.e(e.j,"loading")];t||i.push(e.h.e(e.j,"inactive")),d(e.q,i,a)}D(e,"inactive")}function D(e,t,i){e.ha&&e.Q[t]&&(i?e.Q[t](i.getName(),I(i)):e.Q[t]())}function O(){this.C={}}function C(e,t){this.d=e,this.I=t,this.o=this.d.createElement("span",{"aria-hidden":"true"},this.I)}function z(e,t){var i,a=e.o;i=[];for(var r=t.N.split(/,\s*/),s=0;s<r.length;s++){var o=r[s].replace(/['"]/g,"");-1==o.indexOf(" ")?i.push(o):i.push("'"+o+"'")}i=i.join(","),r="normal","o"===t.O?r="oblique":"i"===t.O&&(r="italic"),a.style.cssText="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+i+";font-style:"+r+";font-weight:"+t.Z+"00;"}function P(e){l(e.d,"body",e.o)}function E(e,t,i,a,r,s,o,n){this.$=e,this.ka=t,this.d=i,this.m=a,this.k=r,this.I=n||"BESbswy",this.v={},this.X=s||3e3,this.ca=o||null,this.H=this.u=this.t=null,this.t=new C(this.d,this.I),this.u=new C(this.d,this.I),this.H=new C(this.d,this.I),z(this.t,new F("serif",I(this.m))),z(this.u,new F("sans-serif",I(this.m))),z(this.H,new F("monospace",I(this.m))),P(this.t),P(this.u),P(this.H),this.v.serif=this.t.o.offsetWidth,this.v["sans-serif"]=this.u.o.offsetWidth,this.v.monospace=this.H.o.offsetWidth}h.prototype.parse=function(){var e;if(-1!=this.a.indexOf("MSIE")||-1!=this.a.indexOf("Trident/")){e=g(this);var t=f(_(this)),i=null,a=w(this.a,/Trident\/([\d\w\.]+)/,1);i=-1!=this.a.indexOf("MSIE")?f(w(this.a,/MSIE ([\d\w\.]+)/,1)):f(w(this.a,/rv:([\d\w\.]+)/,1));""!=a&&f(a),e=new y("MSIE",0,0,0,0,0,0,new R("Windows"==e&&6<=i.c||"Windows Phone"==e&&8<=t.c,!1))}else if(-1!=this.a.indexOf("Opera"))e:if(e=f(w(this.a,/Presto\/([\d\w\.]+)/,1)),f(_(this)),null!==e.c||f(w(this.a,/rv:([^\)]+)/,1)),-1!=this.a.indexOf("Opera Mini/"))e=f(w(this.a,/Opera Mini\/([\d\.]+)/,1)),e=new y("OperaMini",0,0,0,g(this),0,0,new R(!1,!1));else{if(-1!=this.a.indexOf("Version/")&&null!==(e=f(w(this.a,/Version\/([\d\.]+)/,1))).c){e=new y("Opera",0,0,0,g(this),0,0,new R(10<=e.c,!1));break e}e=null!==(e=f(w(this.a,/Opera[\/ ]([\d\.]+)/,1))).c?new y("Opera",0,0,0,g(this),0,0,new R(10<=e.c,!1)):new y("Opera",0,0,0,g(this),0,0,new R(!1,!1))}else/OPR\/[\d.]+/.test(this.a)?e=L(this):/AppleWeb(K|k)it/.test(this.a)?e=L(this):-1!=this.a.indexOf("Gecko")?(e="Unknown",t=new V,f(_(this)),t=!1,-1!=this.a.indexOf("Firefox")?(e="Firefox",t=3<=(t=f(w(this.a,/Firefox\/([\d\w\.]+)/,1))).c&&5<=t.g):-1!=this.a.indexOf("Mozilla")&&(e="Mozilla"),i=f(w(this.a,/rv:([^\)]+)/,1)),t||(t=1<i.c||1==i.c&&9<i.g||1==i.c&&9==i.g&&2<=i.D),e=new y(e,0,0,0,g(this),0,0,new R(t,!1))):e=v;return e},b.prototype.e=function(e){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.ma)},F.prototype.getName=function(){return this.N},C.prototype.remove=function(){var e=this.o;e.parentNode&&e.parentNode.removeChild(e)};var A={sa:"serif",ra:"sans-serif",qa:"monospace"};function M(e,t,i){for(var a in A)if(A.hasOwnProperty(a)&&t===e.v[A[a]]&&i===e.v[A[a]])return!0;return!1}function H(e){var t=e.t.o.offsetWidth,i=e.u.o.offsetWidth;t===e.v.serif&&i===e.v["sans-serif"]||e.k.ga&&M(e,t,i)?o()-e.oa>=e.X?e.k.ga&&M(e,t,i)&&(null===e.ca||e.ca.hasOwnProperty(e.m.getName()))?B(e,e.$):B(e,e.ka):function(e){setTimeout(s(function(){H(this)},e),50)}(e):B(e,e.$)}function B(e,t){e.t.remove(),e.u.remove(),e.H.remove(),t(e.m)}function N(e,t,i,a){this.d=t,this.A=i,this.S=0,this.ea=this.ba=!1,this.X=a,this.k=e.k}function j(e,t,i,a,r){if(i=i||{},0===t.length&&r)T(e.A);else for(e.S+=t.length,r&&(e.ba=r),r=0;r<t.length;r++){var o=t[r],n=i[o.getName()],l=e.A,c=o;l.F&&d(l.q,[l.h.e(l.j,c.getName(),I(c).toString(),"loading")]),D(l,"fontloading",c),l=null,(l=new E(s(e.ia,e),s(e.ja,e),e.d,o,e.k,e.X,a,n)).start()}}function G(e){0==--e.S&&e.ba&&(e.ea?((e=e.A).F&&d(e.q,[e.h.e(e.j,"active")],[e.h.e(e.j,"loading"),e.h.e(e.j,"inactive")]),D(e,"active")):T(e.A))}function W(e){this.K=e,this.B=new O,this.pa=new h(e.navigator.userAgent),this.a=this.pa.parse(),this.U=this.V=0,this.R=this.T=!0}function Y(e,t,i){this.P=e||t+X,this.s=[],this.W=[],this.fa=i||""}E.prototype.start=function(){this.oa=o(),z(this.t,new F(this.m.getName()+",serif",I(this.m))),z(this.u,new F(this.m.getName()+",sans-serif",I(this.m))),H(this)},N.prototype.ia=function(e){var t=this.A;t.F&&d(t.q,[t.h.e(t.j,e.getName(),I(e).toString(),"active")],[t.h.e(t.j,e.getName(),I(e).toString(),"loading"),t.h.e(t.j,e.getName(),I(e).toString(),"inactive")]),D(t,"fontactive",e),this.ea=!0,G(this)},N.prototype.ja=function(e){var t=this.A;if(t.F){var i=c(t.q,t.h.e(t.j,e.getName(),I(e).toString(),"active")),a=[],r=[t.h.e(t.j,e.getName(),I(e).toString(),"loading")];i||a.push(t.h.e(t.j,e.getName(),I(e).toString(),"inactive")),d(t.q,a,r)}D(t,"fontinactive",e),G(this)},W.prototype.load=function(e){this.d=new n(this.K,e.context||this.K),this.T=!1!==e.events,this.R=!1!==e.classes;var t=new k(this.d,e),i=[],a=e.timeout;t.F&&d(t.q,[t.h.e(t.j,"loading")]),D(t,"loading");i=this.B;var r,o=this.d,l=[];for(r in e)if(e.hasOwnProperty(r)){var c=i.C[r];c&&l.push(c(e[r],o))}for(i=l,this.U=this.V=i.length,e=new N(this.a,this.d,t,a),a=0,r=i.length;a<r;a++)(o=i[a]).L(this.a,s(this.la,this,o,t,e))},W.prototype.la=function(e,t,i,a){var r=this;a?e.load(function(e,t,a){!function(e,t,i,a,r){var s=0==--e.V;(e.R||e.T)&&setTimeout(function(){j(t,i,a||null,r||null,s)},0)}(r,i,e,t,a)}):(e=0==--this.V,this.U--,e&&0==this.U?T(t):(this.R||this.T)&&j(i,[],{},null,e))};var X="//fonts.googleapis.com/css";function U(e){this.s=e,this.da=[],this.M={}}Y.prototype.e=function(){if(0==this.s.length)throw Error("No fonts to load!");if(-1!=this.P.indexOf("kit="))return this.P;for(var e=this.s.length,t=[],i=0;i<e;i++)t.push(this.s[i].replace(/ /g,"+"));return e=this.P+"?family="+t.join("%7C"),0<this.W.length&&(e+="&subset="+this.W.join(",")),0<this.fa.length&&(e+="&text="+encodeURIComponent(this.fa)),e};var q={latin:"BESbswy",cyrillic:"&#1081;&#1103;&#1046;",greek:"&#945;&#946;&#931;",khmer:"&#x1780;&#x1781;&#x1782;",Hanuman:"&#x1780;&#x1781;&#x1782;"},Z={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},K={i:"i",italic:"i",n:"n",normal:"n"},Q=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function J(e,t){this.a=new h(navigator.userAgent).parse(),this.d=e,this.f=t}U.prototype.parse=function(){for(var e=this.s.length,t=0;t<e;t++){var i=this.s[t].split(":"),a=i[0].replace(/\+/g," "),r=["n4"];if(2<=i.length){var s;if(s=[],o=i[1])for(var o,n=(o=o.split(",")).length,l=0;l<n;l++){var d;if((d=o[l]).match(/^[\w-]+$/)){var c=void 0;if(null==(d=Q.exec(d.toLowerCase())))c="";else{if(c=void 0,null==(c=d[1])||""==c)c="4";else{var S=Z[c];c=S||(isNaN(c)?"4":c.substr(0,1))}c=[null==(d=d[2])||""==d?"n":K[d],c].join("")}d=c}else d="";d&&s.push(d)}0<s.length&&(r=s),3==i.length&&(s=[],0<(i=(i=i[2])?i.split(","):s).length&&(i=q[i[0]])&&(this.M[a]=i))}for(this.M[a]||(i=q[a])&&(this.M[a]=i),i=0;i<r.length;i+=1)this.da.push(new F(a,r[i]))}};var $={Arimo:!0,Cousine:!0,Tinos:!0};function ee(e,t){this.d=e,this.f=t,this.p=[]}function te(e,t){this.d=e,this.f=t,this.p=[]}function ie(e,t){this.d=e,this.f=t,this.p=[]}function ae(e,t){this.d=e,this.f=t}J.prototype.L=function(e,t){t(e.k.Y)},J.prototype.load=function(e){var t=this.d;"MSIE"==this.a.getName()&&1!=this.f.blocking?function(e,t){!function i(){e.G.body?t():setTimeout(i,0)}()}(t,s(this.aa,this,e)):this.aa(e)},J.prototype.aa=function(e){for(var t=this.d,i=new Y(this.f.api,S(t),this.f.text),a=this.f.families,r=a.length,s=0;s<r;s++){var o=a[s].split(":");3==o.length&&i.W.push(o.pop());var n="";2==o.length&&""!=o[1]&&(n=":"),i.s.push(o.join(n))}(a=new U(a)).parse(),p(t,i.e()),e(a.da,a.M,$)},ee.prototype.J=function(e){var t=this.d;return S(this.d)+(this.f.api||"//f.fontdeck.com/s/css/js/")+(t.w.location.hostname||t.K.location.hostname)+"/"+e+".js"},ee.prototype.L=function(e,t){var i=this.f.id,a=this.d.w,r=this;i?(a.__tpwebfontfontdeckmodule__||(a.__tpwebfontfontdeckmodule__={}),a.__tpwebfontfontdeckmodule__[i]=function(e,i){for(var a=0,s=i.fonts.length;a<s;++a){var o=i.fonts[a];r.p.push(new F(o.name,x("font-weight:"+o.weight+";font-style:"+o.style)))}t(e)},u(this.d,this.J(i),function(e){e&&t(!1)})):t(!1)},ee.prototype.load=function(e){e(this.p)},te.prototype.J=function(e){var t=S(this.d);return(this.f.api||t+"//use.typekit.net")+"/"+e+".js"},te.prototype.L=function(e,t){var i=this.f.id,a=this.d.w,r=this;i?u(this.d,this.J(i),function(e){if(e)t(!1);else{if(a.Typekit&&a.Typekit.config&&a.Typekit.config.fn){e=a.Typekit.config.fn;for(var i=0;i<e.length;i+=2)for(var s=e[i],o=e[i+1],n=0;n<o.length;n++)r.p.push(new F(s,o[n]));try{a.Typekit.load({events:!1,classes:!1})}catch(e){}}t(!0)}},2e3):t(!1)},te.prototype.load=function(e){e(this.p)},ie.prototype.L=function(e,t){var i=this,a=i.f.projectId,r=i.f.version;if(a){var s=i.d.w;u(this.d,i.J(a,r),function(r){if(r)t(!1);else{if(s["__mti_fntLst"+a]&&(r=s["__mti_fntLst"+a]()))for(var o=0;o<r.length;o++)i.p.push(new F(r[o].fontfamily));t(e.k.Y)}}).id="__MonotypeAPIScript__"+a}else t(!1)},ie.prototype.J=function(e,t){return S(this.d)+"//"+(this.f.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,"")+"/"+e+".js"+(t?"?v="+t:"")},ie.prototype.load=function(e){e(this.p)},ae.prototype.load=function(e){var t,i,a=this.f.urls||[],r=this.f.families||[],s=this.f.testStrings||{};for(t=0,i=a.length;t<i;t++)p(this.d,a[t]);for(a=[],t=0,i=r.length;t<i;t++){var o=r[t].split(":");if(o[1])for(var n=o[1].split(","),l=0;l<n.length;l+=1)a.push(new F(o[0],n[l]));else a.push(new F(o[0]))}e(a,s)},ae.prototype.L=function(e,t){return t(e.k.Y)};var re=new W(this);re.B.C.custom=function(e,t){return new ae(t,e)},re.B.C.fontdeck=function(e,t){return new ee(t,e)},re.B.C.monotype=function(e,t){return new ie(t,e)},re.B.C.typekit=function(e,t){return new te(t,e)},re.B.C.google=function(e,t){return new J(t,e)},this.tpWebFont||(this.tpWebFont={},this.tpWebFont.load=s(re.load,re),this.tpWebFontConfig&&re.load(this.tpWebFontConfig))}(this,document)}($nwd_jQuery),RVS.LIB.QS={headlines:[{fs:32,lh:36,ff:"Indie Flower",fw:"400",ls:1},{fs:35,lh:45,ff:"Raleway",fw:"300",ls:2},{fs:46,lh:60,ff:"Shadows Into Light",fw:"400",ls:-1},{fs:36,lh:40,ff:"Roboto",fw:"500",ls:1.5},{fs:40,fst:"italic",lh:44,ff:"Raleway",fw:"800",ls:2},{fs:40,lh:50,ff:"Arial",fw:"400",ls:0},{fs:40,lh:50,ff:"Roboto",fw:"900",ls:0,tt:"uppercase"},{fs:60,lh:70,ff:"Poppins",fw:"500",ls:"-1",tt:"uppercase"},{fs:80,lh:90,ff:"Poppins",fw:"800",ls:"-4"},{fs:80,lh:90,ff:"Montserrat",fw:"200",ls:"-0.2"},{fs:100,lh:110,ff:"Montserrat",fw:"100",ls:"-6"}],headlines_color:"#fff",content_color:"#fff",content:[{fs:14,lh:24,ff:"Roboto",fw:"400",ls:1},{fs:16,lh:24,ff:"Poppins",fw:"400",ls:2},{fs:12,lh:20,ff:"Arial",fw:"400",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam vestibulum orci at leo consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore..."},{fs:15,lh:25,ff:"Montserrat",fw:"400",ls:2},{fs:13,lh:20,ff:"Open Sans",fw:"400",ls:2,tt:"uppercase"},{fs:16,lh:24,ff:"Roboto",fw:"500",ls:0},{fs:24,lh:30,ff:"Open Sans",fw:"300",ls:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit"}],buttons:[{showsize:"half",fs:15,fw:"500",ff:"Roboto",lh:32,pd:["0px","20px","0px","20px"],bg:"rgba(255,255,255,1)",color:"#000000",content:"Click Here",cls:"rev-btn",hc:"rgba(255,255,255,1)",hbg:"#000000",hs:300,ease:"Power3.easeInOut"},{showsize:"half",fs:15,fw:"500",ff:"Roboto",lh:32,pd:["0px","20px","0px","20px"],br:["16px","16px","16px","16px"],bg:"rgba(255,255,255,1)",color:"#000000",content:"Click Here",cls:"rev-btn",hc:"rgba(255,255,255,1)",hbg:"#000000",hs:300,ease:"Power3.easeInOut"},{showsize:"half",fs:20,fw:"500",ff:"Roboto",lh:50,pd:["0px","20px","0px","20px"],bg:"rgba(0,0,0,1)",color:"#ffffff",content:"Click Here",cls:"rev-btn",hc:"rgba(0,0,0,1)",hbg:"#ffffff",hs:200,ease:"Power1.easeInOut"},{showsize:"half",fs:20,fw:"500",ff:"Roboto",lh:50,pd:["0px","20px","0px","20px"],br:["25px","25px","25px","25px"],bg:"rgba(0,0,0,1)",color:"#ffffff",content:"Click Here",cls:"rev-btn",hc:"rgba(0,0,0,1)",hbg:"#ffffff",hs:200,ease:"Power1.easeInOut"},{showsize:"half",fs:17,fw:"500",ff:"Roboto",lh:40,pd:["0px","25px","0px","25px"],bg:"rgba(0,0,0,0)",bw:["1px","1px","1px","1px"],bs:"solid",bc:"rgba(255,255,255,0.35)",color:"#ffffff",content:"Click Here",cls:"rev-btn",hbc:"rgba(255,255,255,0.75)",hc:"rgba(255,255,255,1)",hs:300,ease:"Power1.easeInOut"},{showsize:"half",fs:17,fw:"500",ff:"Roboto",lh:40,pd:["0px","25px","0px","25px"],br:["25px","25px","25px","25px"],bw:["1px","1px","1px","1px"],bs:"solid",bc:"rgba(255,255,255,0.35)",bg:"rgba(0,0,0,0)",color:"#ffffff",content:"Click Here",cls:"rev-btn",hbc:"rgba(255,255,255,0.75)",hc:"rgba(255,255,255,1)",hs:300,ease:"Power1.easeInOut"},{showsize:"half",fs:17,fw:"500",ff:"Roboto",lh:40,pd:["0px","25px","0px","25px"],bg:"#007aff",color:"#ffffff",content:"Click Here",cls:"rev-btn",hs:300,hc:"#ffffff",hbg:"#007aff",hfb:"120%",hfbl:0,hfg:0,ease:"Power3.easeInOut"},{showsize:"half",fs:17,fw:"500",ff:"Roboto",lh:40,pd:["0px","25px","0px","25px"],bg:"#007aff",color:"#ffffff",br:["25px","25px","25px","25px"],content:"Click Here",cls:"rev-btn",hs:300,hc:"#ffffff",hbg:"#007aff",hfb:"120%",hfbl:0,hfg:0,ease:"Power3.easeInOut"},{fs:18,fw:"500",ff:"Roboto",lh:50,pd:["0px","40px","0px","40px"],bg:"#007aff",br:["3px","3px","3px","3px"],color:"#ffffff",content:"Click Here",cls:"rev-btn",hs:100,hc:"#ffffff",hbg:"#007aff",hfb:"120%",hfbl:0,hfg:0,ease:"Power1.easeInOut"},{fs:20,fw:"500",ff:"Roboto",lh:55,pd:["0px","50px","0px","50px"],bg:"#007aff",br:["3px","3px","3px","3px"],color:"#ffffff",content:"Click Here",cls:"rev-btn",hs:100,hc:"#ffffff",hbg:"#007aff",hfb:"120%",hfbl:0,hfg:0,ease:"Power1.easeInOut"},{fs:18,fw:"500",ff:"Roboto",lh:50,pd:["0px","40px","0px","40px"],bxb:"20px",bxc:"#461d7d",bxv:"5px",bxh:"0px",bxs:"0px",br:["5px","5px","5px","5px"],color:"#ffffff",content:"Click Here",cls:"rev-btn",hs:300,hc:"#ffffff",hbg:"#007aff",hfb:"120%",hfbl:0,hfg:0,ease:"Power1.easeInOut",bg:"{&type&:&linear&,&angle&:&181&,&colors&:[{&r&:110,&g&:74,&b&:185,&a&:1,&position&:0,&align&:&top&},{&r&:110,&g&:74,&b&:185,&a&:1,&position&:0,&align&:&bottom&},{&r&:94,&g&:53,&b&:177,&a&:1,&position&:100,&align&:&bottom&},{&r&:94,&g&:53,&b&:177,&a&:1,&position&:100,&align&:&top&}],&easing&:&sine.easeinout&,&strength&:100}"},{fs:20,fw:"500",ff:"Roboto",lh:60,pd:["0px","60px","0px","60px"],bxb:"20px",bxc:"#461d7d",bxv:"5px",bxh:"0px",bxs:"0px",br:["5px","5px","5px","5px"],color:"#ffffff",content:"Click Here",cls:"rev-btn",hs:300,hc:"#ffffff",hbg:"#007aff",hfb:"120%",hfbl:0,hfg:0,ease:"Power1.easeInOut",bg:"{&type&:&linear&,&angle&:&181&,&colors&:[{&r&:110,&g&:74,&b&:185,&a&:1,&position&:0,&align&:&top&},{&r&:110,&g&:74,&b&:185,&a&:1,&position&:0,&align&:&bottom&},{&r&:94,&g&:53,&b&:177,&a&:1,&position&:100,&align&:&bottom&},{&r&:94,&g&:53,&b&:177,&a&:1,&position&:100,&align&:&top&}],&easing&:&sine.easeinout&,&strength&:100}"},{fs:18,fw:"500",ff:"Roboto",lh:50,pd:["0px","40px","0px","40px"],bxb:"20px",bxc:"rgba(0,0,0,0.25)",bxv:"10px",bxh:"0px",bxs:"0px",br:["5px","5px","5px","5px"],color:"#ffffff",content:"Click Here",cls:"rev-btn",hs:300,hc:"#ffffff",hbg:"#007aff",hfb:"120%",hfbl:0,hfg:0,ease:"Power1.easeInOut",bg:"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:255,&g&:149,&b&:0,&a&:1,&position&:0,&align&:&top&},{&r&:255,&g&:149,&b&:0,&a&:1,&position&:0,&align&:&bottom&},{&r&:255,&g&:94,&b&:58,&a&:1,&position&:100,&align&:&bottom&},{&r&:255,&g&:94,&b&:58,&a&:1,&position&:100,&align&:&top&}],&easing&:&none&,&strength&:100}"},{fs:20,fw:"500",ff:"Roboto",lh:60,pd:["0px","60px","0px","60px"],bxb:"20px",bxc:"rgba(0,0,0,0.25)",bxv:"10px",bxh:"0px",bxs:"0px",br:["5px","5px","5px","5px"],color:"#ffffff",content:"Click Here",cls:"rev-btn",hs:300,hc:"#ffffff",hbg:"#007aff",hfb:"120%",hfbl:0,hfg:0,ease:"Power1.easeInOut",bg:"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:255,&g&:149,&b&:0,&a&:1,&position&:0,&align&:&top&},{&r&:255,&g&:149,&b&:0,&a&:1,&position&:0,&align&:&bottom&},{&r&:255,&g&:94,&b&:58,&a&:1,&position&:100,&align&:&bottom&},{&r&:255,&g&:94,&b&:58,&a&:1,&position&:100,&align&:&top&}],&easing&:&none&,&strength&:100}"},{fs:17,ff:"Roboto",lh:20,ls:1,tt:"uppercase",pd:["12px","35px","12px","35px"],br:["30px","30px","30px","30px"],bg:"rgba(0,0,0,0.75)",color:"#ffffff",content:'Click Here <i class="fa-chevron-right"></i>',cls:"rev-btn",hc:"rgba(0,0,0,1)",hbg:"#ffffff",hs:200},{fs:14,ff:"Roboto",lh:18,ls:1,tt:"uppercase",pd:["10px","30px","10px","30px"],br:["30px","30px","30px","30px"],bg:"rgba(0,0,0,0.75)",color:"#ffffff",content:'Click Here <i class="fa-chevron-right"></i>',cls:"rev-btn",hc:"rgba(0,0,0,1)",hbg:"#ffffff",hs:200},{fs:12,ff:"Roboto",lh:14,ls:1,tt:"uppercase",pd:["8px","20px","8px","20px"],br:["30px","30px","30px","30px"],bg:"rgba(0,0,0,0.75)",color:"#ffffff",content:'Click Here <i class="fa-chevron-right"></i>',cls:"rev-btn",hc:"rgba(0,0,0,1)",hbg:"#ffffff",hs:200},{fs:17,ff:"Roboto",lh:20,ls:1,tt:"uppercase",pd:["12px","35px","12px","35px"],br:["30px","30px","30px","30px"],bg:"rgba(0,0,0,0.75)",color:"#ffffff",content:'Click Here <i class="fa-chevron-right"></i>',cls:"rev-btn rev-hiddenicon",hc:"rgba(0,0,0,1)",hbg:"#ffffff",hs:200},{fs:14,ff:"Roboto",lh:18,ls:1,tt:"uppercase",pd:["10px","30px","10px","30px"],br:["30px","30px","30px","30px"],bg:"rgba(0,0,0,0.75)",color:"#ffffff",content:'Click Here <i class="fa-chevron-right"></i>',cls:"rev-btn rev-hiddenicon",hc:"rgba(0,0,0,1)",hbg:"#ffffff",hs:200},{fs:12,ff:"Roboto",lh:14,ls:1,tt:"uppercase",pd:["8px","20px","8px","20px"],br:["30px","30px","30px","30px"],bg:"rgba(0,0,0,0.75)",color:"#ffffff",content:'Click Here <i class="fa-chevron-right"></i>',cls:"rev-btn rev-hiddenicon",hc:"rgba(0,0,0,1)",hbg:"#ffffff",hs:200},{showsize:"third",fs:17,ff:"Roboto",lh:20,ls:1,tt:"uppercase",pd:["22px","14px","22px","14px"],br:["50%","50%","50%","50%"],color:"#ffffff",content:"<span></span><span></span><span></span>",cls:"rev-burger rev-b-span-light",action:{action:"toggle_class",toggle_class:"open",tooltip_event:"click"}},{showsize:"third",fs:17,ff:"Roboto",lh:20,ls:1,tt:"uppercase",pd:["22px","14px","22px","14px"],br:["50%","50%","50%","50%"],bc:"rgba(255,255,255,0.75)",bs:"solid",bw:["2px","2px","2px","2px"],color:"#ffffff",content:"<span></span><span></span><span></span>",cls:"rev-burger rev-b-span-light",action:{action:"toggle_class",toggle_class:"open",tooltip_event:"click"}},{showsize:"third",fs:17,ff:"Roboto",lh:20,ls:1,tt:"uppercase",pd:["22px","14px","22px","14px"],br:["50%","50%","50%","50%"],bg:"#ffffff",color:"#ffffff",content:"<span></span><span></span><span></span>",cls:"rev-burger rev-b-span-dark",action:{action:"toggle_class",toggle_class:"open",tooltip_event:"click"}},{showsize:"third",fs:17,ff:"Roboto",lh:20,ls:1,tt:"uppercase",pd:["22px","14px","22px","14px"],br:["50%","50%","50%","50%"],color:"#ffffff",content:"<span></span><span></span><span></span>",cls:"rev-burger rev-b-span-dark",action:{action:"toggle_class",toggle_class:"open",tooltip_event:"click"}},{showsize:"third",fs:17,ff:"Roboto",lh:20,ls:1,tt:"uppercase",pd:["22px","14px","22px","14px"],br:["50%","50%","50%","50%"],bc:"rgba(51,51,51,0.75)",bs:"solid",bw:["2px","2px","2px","2px"],color:"#ffffff",content:"<span></span><span></span><span></span>",cls:"rev-burger rev-b-span-dark",action:{action:"toggle_class",toggle_class:"open",tooltip_event:"click"}},{showsize:"third",fs:17,ff:"Roboto",lh:20,ls:1,tt:"uppercase",pd:["22px","14px","22px","14px"],br:["50%","50%","50%","50%"],bg:"#333333",color:"#ffffff",content:"<span></span><span></span><span></span>",cls:"rev-burger rev-b-span-light",action:{action:"toggle_class",toggle_class:"open",tooltip_event:"click"}},{showsize:"fourth",w:"35px",h:"55px",fs:17,ff:"Roboto",lh:20,ls:1,tt:"uppercase",pd:["22px","14px","22px","14px"],br:["23px","23px","23px","23px"],bc:"rgba(255,255,255,0.75)",bs:"solid",bw:["3px","3px","3px","3px"],color:"#ffffff",content:"<span></span><span></span><span></span>",cls:"rev-scroll-btn rev-b-span-light"},{showsize:"fourth",w:"35px",h:"55px",fs:17,ff:"Roboto",lh:20,ls:1,tt:"uppercase",pd:["22px","14px","22px","14px"],br:["23px","23px","23px","23px"],bc:"rgba(255,255,255,0.75)",bs:"solid",bw:["3px","3px","3px","3px"],bg:"#fff",color:"#ffffff",content:"<span></span><span></span><span></span>",cls:"rev-scroll-btn rev-b-span-dark"},{showsize:"fourth",w:"35px",h:"55px",fs:17,ff:"Roboto",lh:20,ls:1,tt:"uppercase",pd:["22px","14px","22px","14px"],br:["23px","23px","23px","23px"],bc:"rgba(51,51,51,0.75)",bs:"solid",bw:["3px","3px","3px","3px"],color:"#ffffff",content:"<span></span><span></span><span></span>",cls:"rev-scroll-btn rev-b-span-dark"},{showsize:"fourth",w:"35px",h:"55px",fs:17,ff:"Roboto",lh:20,ls:1,tt:"uppercase",pd:["22px","14px","22px","14px"],br:["23px","23px","23px","23px"],bc:"rgba(51,51,51,0.75)",bs:"solid",bw:["3px","3px","3px","3px"],bg:"#333",color:"#ffffff",content:"<span></span><span></span><span></span>",cls:"rev-scroll-btn rev-b-span-light"},{showsize:"fourth",w:"37px",h:"37px",fs:20,ff:"Roboto",lh:37,ta:"center",tt:"uppercase",pd:["0","0","0","0"],br:["50%","50%","50%","50%"],bg:"#3B5998",color:"#ffffff",content:'<i class="fa-facebook-f"></i>',cls:""},{showsize:"fourth",w:"37px",h:"37px",fs:20,ff:"Roboto",lh:37,ta:"center",tt:"uppercase",pd:["0","0","0","0"],br:["50%","50%","50%","50%"],bg:"#FD1D1D",color:"#ffffff",content:'<i class="fa-instagram"></i>',cls:""},{showsize:"fourth",w:"37px",h:"37px",fs:20,ff:"Roboto",lh:37,ta:"center",tt:"uppercase",pd:["0","0","0","0"],br:["50%","50%","50%","50%"],bg:"#00A0D1",color:"#ffffff",content:'<i class="fa-twitter"></i>',cls:""},{showsize:"fourth",w:"37px",h:"37px",fs:20,ff:"Roboto",lh:37,ta:"center",tt:"uppercase",pd:["0","0","0","0"],br:["50%","50%","50%","50%"],bg:"rgba(0,0,0,0.5)",color:"#ffffff",content:'<i class="fa-envelope"></i>',cls:""},{showsize:"fourth",w:"60px",h:"60px",fs:20,ff:"Roboto",lh:60,ta:"center",tt:"uppercase",pd:["0","0","0","0"],br:["50%","50%","50%","50%"],bg:"rgba(0,0,0,0.5)",color:"#ffffff",content:'<i class="fa-play"></i>',cls:""},{showsize:"fourth",w:"60px",h:"60px",fs:20,ff:"Roboto",lh:60,ta:"center",tt:"uppercase",pd:["0","0","0","0"],br:["50%","50%","50%","50%"],bg:"#ffffff",color:"#333333",content:'<i class="fa-play"></i>',cls:""},{showsize:"fourth",w:"60px",h:"60px",fs:20,ff:"Roboto",lh:60,ta:"center",tt:"uppercase",pd:["0","0","0","0"],br:["5px","5px","5px","5px"],bg:"rgba(0,0,0,0.5)",color:"#ffffff",content:'<i class="fa-play"></i>',cls:""},{showsize:"fourth",w:"60px",h:"60px",fs:20,ff:"Roboto",lh:60,ta:"center",tt:"uppercase",pd:["0","0","0","0"],br:["5px","5px","5px","5px"],bg:"#ffffff",color:"#333333",content:'<i class="fa-play"></i>',cls:""},{showsize:"fourth",w:"60px",h:"60px",fs:20,ff:"Roboto",lh:60,ta:"center",tt:"uppercase",pd:["0","0","0","0"],br:["50%","50%","50%","50%"],bg:"rgba(0,0,0,0.5)",color:"#ffffff",content:'<i class="fa-pause"></i>',cls:""},{showsize:"fourth",w:"60px",h:"60px",fs:20,ff:"Roboto",lh:60,ta:"center",tt:"uppercase",pd:["0","0","0","0"],br:["50%","50%","50%","50%"],bg:"#ffffff",color:"#333333",content:'<i class="fa-pause"></i>',cls:""},{showsize:"fourth",w:"60px",h:"60px",fs:20,ff:"Roboto",lh:60,ta:"center",tt:"uppercase",pd:["0","0","0","0"],br:["5px","5px","5px","5px"],bg:"rgba(0,0,0,0.5)",color:"#ffffff",content:'<i class="fa-pause"></i>',cls:""},{showsize:"fourth",w:"60px",h:"60px",fs:20,ff:"Roboto",lh:60,ta:"center",tt:"uppercase",pd:["0","0","0","0"],br:["5px","5px","5px","5px"],bg:"#ffffff",color:"#333333",content:'<i class="fa-pause"></i>',cls:""}],shadows:[{showsize:"half",box_hoff:"0px",box_voff:"0px",box_blur:"0px",box_spread:"0px",box_color:"rgba(0,0,0,0.5)",box_inset:!1},{showsize:"half",box_hoff:"5px",box_voff:"0px",box_blur:"10px",box_spread:"0px",box_color:"rgba(0,0,0,0.25)",box_inset:!1},{showsize:"half",box_hoff:"0px",box_voff:"10px",box_blur:"10px",box_spread:"0px",box_color:"rgba(0,0,0,0.25)",box_inset:!1},{showsize:"half",box_hoff:"5px",box_voff:"5px",box_blur:"10px",box_spread:"0px",box_color:"rgba(0,0,0,0.15)",box_inset:!1},{showsize:"half",text_hoff:"7px",text_voff:"7px",text_blur:"10px",text_color:"rgba(0,0,0,0.75)"},{showsize:"half",text_hoff:"5px",text_voff:"0px",text_blur:"10px",text_color:"rgba(0,0,0,0.75)"},{showsize:"half",text_hoff:"0px",text_voff:"10px",text_blur:"10px",text_color:"rgba(0,0,0,0.75)"},{showsize:"half",text_hoff:"15px",text_voff:"15px",text_blur:"20px",text_color:"rgba(0,0,0,0.45)"}]},RVS.LIB.QS_CONT={headlines:"Headline",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam vestibulum orci at leo..."},function(e){!function(){function t(e){return e.ls=void 0===e.ls?0:e.ls,e.fw=void 0===e.fw?400:e.fw,e.fst=void 0===e.fst?"normal":e.fst,e.pd=void 0===e.pd?["0px","0px","0px","0px"]:e.pd,e.br=void 0===e.br?["0px","0px","0px","0px"]:e.br,e.bg=void 0===e.bg?"transparent":e.bg,e.bs=void 0===e.bs?"none":e.bs,e.tt=void 0===e.tt?"none":e.tt,e}function i(e,t){var i=e.closest(".quick_style_dep_all");RVS.LIB.QS[e[0].dataset.cont+"_color"]="dark"===t?"#000":"#fff",i.find(".quick_colorchange_"+("dark"===t?"light":"dark")).removeClass("selected"),punchgs.TweenLite.to(i.find(".quick_style_example_content"),.2,{color:RVS.LIB.QS[e[0].dataset.cont+"_color"]}),punchgs.TweenLite.to(i.find(".quick_style_example_wrap"),.2,{backgroundColor:"dark"===t?"#fff":"#202224"}),i.removeClass("light").removeClass("dark").addClass(t),e.addClass("selected")}function a(){var t=-1;for(var i in window.qstyle_scroll_targets)window.qstyle_scroll_targets.hasOwnProperty(i)&&window.qstyle_scroll_targets[i].obj.length>0&&window.qstyle_scroll_targets[i].enable&&(window.qstyle_scroll_targets[i].top=window.qstyle_scroll_targets[i].obj.offset().top-100,window.qstyle_scroll_targets[i].height=window.qstyle_scroll_targets[i].obj.height(),30>=window.qstyle_scroll_targets[i].top&&0<=window.qstyle_scroll_targets[i].top+window.qstyle_scroll_targets[i].height&&(t=i));t=-1===t?window.qstyle_scroll_targets.length-1:t,e(".quick_style_menu_point").removeClass("active"),window.qstyle_scroll_targets[t].menu.addClass("active")}RVS.F.initQuickStyle=function(){RVS.DOC.on("click",".quick_colorchange_dark",function(){i(e(this),"dark")}),RVS.DOC.on("click",".quick_colorchange_light",function(){i(e(this),"light")}),RVS.DOC.on("click","#quick_style_trigger",function(){RVS.F.openQuickStyle(!1)}),RVS.DOC.on("click","#quick_style_close",RVS.F.closeQuickStyle),RVS.DOC.on("showQuickStyle",RVS.F.showQuickStyle),RVS.DOC.on("click",".quick_style_example",function(){var e=this.dataset.qstyletype,i=RVS.F.safeExtend(!0,{},RVS.LIB.QS[e][this.dataset.qstyleindex]),a=this.dataset.layertype;if(RVS.F.updateScreenShrinks(),i=t(i),0===RVS.selLayers.length){var r=RVS.F.addLayer({type:a,forceSelect:!0});RVS.F.selectLayers({id:r,overwrite:!0,action:"add"})}for(var s in void 0===RVS.S.qstyleBackupGroup&&RVS.F.openBackupGroup({id:"quickstyle",txt:"Quick Style Change",icon:"invert_colors"}),RVS.selLayers)if(RVS.selLayers.hasOwnProperty(s)){var o=RVS.S.slideId+".layers."+RVS.selLayers[s]+".";switch(a){case"text":case"button":if("text"===RVS.L[RVS.selLayers[s]].type&&"text"===a||"button"===RVS.L[RVS.selLayers[s]].type&&"button"===a){var n;if("text"!==a||"headlines"!==e&&"content"!==e||RVS.F.updateSliderObj({path:o+"idle.color.d.v",val:RVS.LIB.QS[e+"_color"]}),void 0!==i.fs&&RVS.F.updateSliderObj({path:o+"idle.fontSize.d.v",val:i.fs}),void 0!==i.w?RVS.F.updateSliderObj({path:o+"size.width.d.v",val:i.w}):RVS.F.updateSliderObj({path:o+"size.width.d.v",val:"auto"}),void 0!==i.h?RVS.F.updateSliderObj({path:o+"size.height.d.v",val:i.h}):RVS.F.updateSliderObj({path:o+"size.height.d.v",val:"auto"}),void 0!==i.h&&"auto"!==i.h?RVS.F.updateSliderObj({path:o+"size.minHeight.d.v",val:i.h}):RVS.F.updateSliderObj({path:o+"size.minHeight.d.v",val:"0px"}),void 0!==i.w?RVS.F.updateSliderObj({path:o+"size.minWidth.d.v",val:i.w}):RVS.F.updateSliderObj({path:o+"size.minWidth.d.v",val:"none"}),void 0!==i.lh&&RVS.F.updateSliderObj({path:o+"idle.lineHeight.d.v",val:i.lh}),void 0!==i.ls&&RVS.F.updateSliderObj({path:o+"idle.letterSpacing.d.v",val:i.ls}),void 0!==i.fw&&RVS.F.updateSliderObj({path:o+"idle.fontWeight.d.v",val:i.fw}),void 0!==i.fst&&RVS.F.updateSliderObj({path:o+"idle.fontStyle",val:"italic"===i.fst}),void 0!==i.ff&&RVS.F.updateSliderObj({path:o+"idle.fontFamily",val:i.ff}),void 0!==i.ta&&RVS.F.updateSliderObj({path:o+"idle.textAlign.d.v",val:i.ta}),void 0!==i.tt&&RVS.F.updateSliderObj({path:o+"idle.textTransform",val:i.tt}),void 0!==i.pd&&RVS.F.updateSliderObj({path:o+"idle.padding.d.v",val:i.pd}),void 0!==i.bg&&RVS.F.updateSliderObj({path:o+"idle.backgroundColor",val:i.bg}),void 0!==i.br&&RVS.F.updateSliderObj({path:o+"idle.borderRadius.v",val:i.br}),void 0!==i.bc&&RVS.F.updateSliderObj({path:o+"idle.borderColor",val:i.bc}),void 0!==i.bw&&RVS.F.updateSliderObj({path:o+"idle.borderWidth",val:i.bw}),void 0!==i.bs&&RVS.F.updateSliderObj({path:o+"idle.borderStyle.d.v",val:i.bs}),void 0!==i.bxc?(RVS.F.updateSliderObj({path:o+"idle.boxShadow.inuse",val:!0}),RVS.F.updateSliderObj({path:o+"idle.boxShadow.hoffset.d.v",val:i.bxh}),RVS.F.updateSliderObj({path:o+"idle.boxShadow.voffset.d.v",val:i.bxv}),RVS.F.updateSliderObj({path:o+"idle.boxShadow.blur.d.v",val:i.bxb}),RVS.F.updateSliderObj({path:o+"idle.boxShadow.spread.d.v",val:i.bxs}),RVS.F.updateSliderObj({path:o+"idle.boxShadow.color",val:i.bxc})):RVS.F.updateSliderObj({path:o+"idle.boxShadow.inuse",val:!1}),void 0!==i.color&&RVS.F.updateSliderObj({path:o+"idle.color.d.v",val:i.color}),void 0!==i.cls?RVS.F.updateSliderObj({path:o+"runtime.internalClass",val:i.cls}):RVS.F.updateSliderObj({path:o+"runtime.internalClass",val:""}),void 0!==i.action&&void 0!==(n=void 0!==RVS.L[RVS.selLayers[s]]&&void 0!==RVS.L[RVS.selLayers[s]].actions&&void 0!==RVS.L[RVS.selLayers[s]].actions.action?RVS.L[RVS.selLayers[s]].actions.action:void 0)){var l=!1;for(var d in n)if(n.hasOwnProperty(d)){if(!0===l)continue;l="toggle_class"===n[d].action&&""+n[d].layer_target==""+RVS.selLayers[s]&&"open"===n[d].toggle_class}i.action.layer_target=""+RVS.selLayers[s],!1===l&&n.push(i.action)}null!=i.content&&"button"===a&&(RVS.F.updateSliderObj({path:o+"text",val:i.content}),RVS.H[RVS.selLayers[s]].c.html(i.content)),void 0!==i.hs?(RVS.F.updateSliderObj({path:o+"hover.usehover",val:!0}),RVS.F.updateSliderObj({path:o+"hover.speed",val:i.hs}),void 0!==i.hc&&RVS.F.updateSliderObj({path:o+"hover.color",val:i.hc}),void 0!==i.hbg?RVS.F.updateSliderObj({path:o+"hover.backgroundColor",val:i.hbg}):void 0!==i.bg&&RVS.F.updateSliderObj({path:o+"hover.backgroundColor",val:i.bg}),void 0!==i.br&&RVS.F.updateSliderObj({path:o+"hover.borderRadius.v",val:i.br}),void 0!==i.hbc?RVS.F.updateSliderObj({path:o+"hover.borderColor",val:i.hbc}):void 0!==i.bc&&RVS.F.updateSliderObj({path:o+"hover.borderColor",val:i.bc}),void 0!==i.ease&&RVS.F.updateSliderObj({path:o+"hover.ease",val:i.ease}),void 0!==i.hfb&&(RVS.F.updateSliderObj({path:o+"hover.filter.grayscale",val:i.hfg}),RVS.F.updateSliderObj({path:o+"hover.filter.brightness",val:i.hfb}),RVS.F.updateSliderObj({path:o+"hover.filter.blir",val:i.hfbl})),void 0!==i.bw&&RVS.F.updateSliderObj({path:o+"hover.borderWidth",val:i.bw}),void 0!==i.bs&&RVS.F.updateSliderObj({path:o+"hover.borderStyle",val:i.bs})):RVS.F.updateSliderObj({path:o+"hover.usehover",val:!1})}break;case"boxshadow":RVS.F.updateSliderObj({path:o+"idle.boxShadow.hoffset.d.v",val:i.box_hoff}),RVS.F.updateSliderObj({path:o+"idle.boxShadow.voffset.d.v",val:i.box_voff}),RVS.F.updateSliderObj({path:o+"idle.boxShadow.blur.d.v",val:i.box_blur}),RVS.F.updateSliderObj({path:o+"idle.boxShadow.spread.d.v",val:i.box_spread}),RVS.F.updateSliderObj({path:o+"idle.boxShadow.color",val:i.box_color}),RVS.F.updateSliderObj({path:o+"idle.boxShadow.inuse",val:!0});break;case"textshadow":RVS.F.updateSliderObj({path:o+"idle.textShadow.hoffset.d.v",val:i.text_hoff}),RVS.F.updateSliderObj({path:o+"idle.textShadow.voffset.d.v",val:i.text_voff}),RVS.F.updateSliderObj({path:o+"idle.textShadow.blur.d.v",val:i.text_blur}),RVS.F.updateSliderObj({path:o+"idle.textShadow.spread.d.v",val:i.text_spread}),RVS.F.updateSliderObj({path:o+"idle.textShadow.color",val:i.text_color}),RVS.F.updateSliderObj({path:o+"idle.textShadow.inuse",val:!0})}RVS.F.intelligentUpdateValuesOnLayer(RVS.selLayers[s]),RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+RVS.selLayers[s]+".behavior.intelligentInherit",val:!0}),RVS.F.drawHTMLLayer({uid:RVS.selLayers[s]})}void 0===RVS.S.qstyleBackupGroup&&RVS.F.closeBackupGroup({id:"quickstyle"}),RVS.F.updateInputFields()}),RVS.DOC.on("click",".quick_style_menu_point",function(){a();var t={val:e("#quick_style_scrollable").scrollTop()},i=t.val+window.qstyle_scroll_targets[this.dataset.ostref].top;punchgs.TweenLite.to(t,.6,{val:i,onUpdate:function(){e("#quick_style_scrollable").scrollTop(t.val)},ease:punchgs.Power3.easeOut}),a()}),RVS.DOC.on("mouseenter",".quick_style_example_content",function(){if(void 0!==this.dataset.hoverspeed){var t=e(this);if(void 0===t.data("hoveranim")){var i=new punchgs.TimelineLite,a={color:this.dataset.hovercolor,backgroundColor:this.dataset.hoverbgcolor};void 0!==this.dataset.hoverbordercolor&&"undefined"!==this.dataset.hoverbordercolor&&(a.borderColor=this.dataset.hoverbordercolor),void 0!==this.dataset.filterbrightness&&"undefined"!==this.dataset.filterbrightness&&(a.filter="blur("+this.dataset.filterblur+"px) grayscale("+this.dataset.filtergrayscale+"%) brightness("+this.dataset.filterbrightness+")",a["-webkit-filter"]="blur("+this.dataset.filterblur+"px) grayscale("+this.dataset.filtergrayscale+"%) brightness("+this.dataset.filterbrightness+")",punchgs.TweenLite.set(this,{filter:"blur(0px) grayscale(0%) brightness(100%)","-webkit-filter":"blur(0px) grayscale(0%) brightness(100%)"})),void 0!==this.dataset.ease&&(a.ease=this.dataset.ease),i.add(punchgs.TweenLite.to(this,this.dataset.hoverspeed/1e3,a)),t.data("hoveranim",i)}t.data("hoveranim").play()}}),RVS.DOC.on("mouseleave",".quick_style_example_content",function(){void 0!==this.dataset.hoverspeed&&e(this).data("hoveranim").reverse()})},RVS.F.openQuickStyle=function(i){e("#quick_style_trigger").addClass("selected"),RVS.S.qstyleBackupGroup=null==i||void 0===i.bacupGroupOpen?void 0:i.bacupGroupOpen,RVS.S.qstyle_library_open=!0,RVS.S.qstyleParams=i,window.quickStyleExists?RVS.F.showQuickStyle():(!function(){RVS.F.showWaitAMinute({fadeIn:100,text:"Building Quick Style Library"});var i={},r=[],s='<div id="quick_style"><div id="quick_style_inner">';for(var o in s+='<div id="quick_style_menu">',RVS.LIB.QS)RVS.LIB.QS.hasOwnProperty(o)&&(s+='<div data-ref="#quick_style_dep_'+o+'" data-library="'+o+'" id="quick_style_menu_'+o+'" class="quick_style_menu_point">'+RVS_LANG["qs_"+o]+"</div>");for(var o in s+='<div id="quick_style_close"><i class="material-icons">close</i></div>',s+="</div>",s+='<div id="quick_style_scrollable_wrap"><div id="quick_style_scrollable">',RVS.LIB.QS)if(RVS.LIB.QS.hasOwnProperty(o)){for(var n in s+='<div id="quick_style_dep_'+o+'" class="quick_style_dep_all"><div class="quick_style_dep">'+RVS_LANG["qs_"+o]+("headlines"===o||"content"===o?'<div data-cont="'+o+'" class="quick_colorchange_dark"></div><div data-cont="'+o+'"  class="quick_colorchange_light selected"></div>':"")+"</div>",RVS.LIB.QS[o])if(RVS.LIB.QS[o].hasOwnProperty(n)){var l=RVS.F.safeExtend(!0,{},RVS.LIB.QS[o][n]);switch(l=t(l),o){case"headlines":case"content":var d=void 0!==l.bc&&void 0!==l.bw&&void 0!==l.bs?"border-style:"+l.bs+";border-width:"+l.bw[0]+" "+l.bw[1]+" "+l.bw[2]+" "+l.bw[3]+";border-color:"+l.bc+";":"";s+='<div class="quick_style_example_wrap"><div class="quick_style_example" data-layertype="text" data-qstyletype="'+o+'" data-qstyleindex="'+n+'"><div class="qsec_info">'+l.ff+","+l.fs+"px,"+l.fw+'</div><div class="quick_style_example_content" style="'+("headlines"===o?"white-space:nowrap;":"")+d+(void 0!==l.tt?"text-transform:"+l.tt+";":"")+"font-style:"+l.fst+"; font-family:"+l.ff+";font-size:"+l.fs+"px; font-weight:"+l.fw+";line-height:"+l.lh+"px;letter-spacing:"+l.ls+'px">'+(void 0!==l.content?l.content:RVS.LIB.QS_CONT[o])+"</div></div></div>";var c=l.ff.replace(/\ /g,"_");for(var S in i[c]=void 0===i[c]?{family:c,weights:[],italic:!1}:i[c],i[c].font=l.ff,i[c].italic=!0===i[c].italic||l.fst,RVS.V.sizes)RVS.V.sizes.hasOwnProperty(S)&&-1===i[c].weights.toString().indexOf(l.fw)&&i[c].weights.push(l.fw);break;case"buttons":var d=void 0!==l.bc&&void 0!==l.bw&&void 0!==l.bs?"border-style:"+l.bs+";border-width:"+l.bw[0]+" "+l.bw[1]+" "+l.bw[2]+" "+l.bw[3]+";border-color:"+l.bc+";":"",p=void 0!==l.hs?'data-ease="'+l.ease+'" data-filterbrightness="'+l.hfb+'" data-filtergrayscale="'+l.hfg+'" data-filterblur="'+l.hfbl+'" data-hoverbordercolor="'+l.hbc+'" data-hovercolor="'+l.hc+'" data-hoverspeed="'+l.hs+'" data-hoverbgcolor="'+l.hbg+'" ':"",u=void 0!==l.w?"width:"+l.w+";":"";u=void 0!==l.h?u+"height:"+l.h+";":u,s+='<div class="quick_style_example_wrap '+(void 0!==l.showsize?"qsew_"+l.showsize:"")+'"><div class="quick_style_example" data-layertype="button" data-qstyletype="'+o+'" data-qstyleindex="'+n+'"><div class="quick_style_example_content '+l.cls+'" '+p+' style="'+d+u+(void 0!==l.tt?"text-transform:"+l.tt+";":"")+(void 0!==l.ta?"text-align:"+l.ta+";":"")+(void 0!==l.bxc?"box-shadow:"+l.bxh+" "+l.bxv+" "+l.bxb+" "+l.bxs+" "+l.bxc+";":"")+"border-radius:"+l.br[0]+" "+l.br[1]+" "+l.br[2]+" "+l.br[3]+";padding:"+l.pd[0]+" "+l.pd[1]+" "+l.pd[2]+" "+l.pd[3]+";background:"+window.RSColor.get(l.bg)+";font-style:"+l.fst+"; font-family:"+l.ff+";font-size:"+l.fs+"px; color:"+l.color+";font-weight:"+l.fw+";line-height:"+l.lh+"px;letter-spacing:"+l.ls+'px">'+l.content+"</div></div></div>";var c=l.ff.replace(/\ /g,"_");for(var S in i[c]=void 0===i[c]?{family:c,weights:[],italic:!1}:i[c],i[c].font=l.ff,i[c].italic=!0===i[c].italic||l.fst,RVS.V.sizes)RVS.V.sizes.hasOwnProperty(S)&&-1===i[c].weights.toString().indexOf(l.fw)&&i[c].weights.push(l.fw);break;case"shadows":void 0!==l.box_hoff?s+='<div class="quick_style_example_wrap '+(void 0!==l.showsize?"qsew_"+l.showsize:"")+'"><div class="quick_style_example qse_boxshadow" data-layertype="boxshadow" data-qstyletype="'+o+'" data-qstyleindex="'+n+'" style="box-shadow:'+l.box_hoff+" "+l.box_voff+" "+l.box_blur+" "+l.box_spread+" "+l.box_color+'"></div></div>':s+='<div class="quick_style_example_wrap '+(void 0!==l.showsize?"qsew_"+l.showsize:"")+'"><div class="quick_style_example qse_textshadow" data-layertype="textshadow" data-qstyletype="'+o+'" data-qstyleindex="'+n+'" style="text-shadow:'+l.text_hoff+" "+l.text_voff+" "+l.text_blur+" "+l.text_color+'">Shadow</div></div>'}}s+="</div>"}for(var o in s+="</div></div>",s+="</div></div>",window.qstyle_container=e(s),window.qstyle_scroll_targets=[],i)if(i.hasOwnProperty(o)){var R=RVS.F.loadSingleFont(i[o]);void 0!==R&&r.push(R)}RVS.F.showWaitAMinute({fadeOut:500,text:"Building Quick Style Library"}),RVS.F.do_google_font_load(r,void 0,"showQuickStyle"),e("#the_editor").append(window.qstyle_container);var V=0;e(".quick_style_menu_point").each(function(){void 0!==this.dataset.ref&&(window.qstyle_scroll_targets.push({enable:!0,library:this.dataset.library,obj:e(this.dataset.ref),top:e(this.dataset.ref).offset().top,height:e(this.dataset.ref).height(),menu:e(this),menu_js:this}),this.dataset.ostref=V,V++)}),e("#quick_style_scrollable").RSScroll({wheelPropagation:!1}),e("#quick_style_scrollable").on("scroll",a)}(),window.quickStyleExists=!0)},RVS.F.showQuickStyle=function(){RVS.F.updateAvailableLayerTypes(),punchgs.TweenLite.to("#quick_style",.4,{width:320,display:"block",ease:punchgs.Power3.EaseInOut}),punchgs.TweenLite.to("#quick_style_inner",.4,{left:0,ease:punchgs.Power3.EaseInOut}),setTimeout(a,400)},RVS.F.updateAvailableLayerTypes=function(){if(RVS.S.qstyle_library_open){window.quickstylefilter=[];var t=!1,i=!1,a=!1,r=!1;if(void 0!==RVS.S.qstyleParams.list&&e.isArray(RVS.S.qstyleParams.list)){for(var s in RVS.S.qstyleParams.list)if(RVS.S.qstyleParams.list.hasOwnProperty(s))switch(RVS.S.qstyleParams.list[s]){case"button":t||(window.quickstylefilter.push("buttons"),r=!1===r?"buttons":r,t=!0);break;case"content":a||(window.quickstylefilter.push("content"),r=!1===r?"content":r,a=!0);break;case"headlines":case"text":i||(window.quickstylefilter.push("headlines"),r=!1===r?"headlines":r,i=!0)}}else for(var s in RVS.selLayers)if(RVS.selLayers.hasOwnProperty(s))switch(RVS.L[RVS.selLayers[s]].type){case"button":t||(window.quickstylefilter.push("buttons"),t=!0);break;case"text":i||(window.quickstylefilter.push("headlines"),window.quickstylefilter.push("content"),i=!0,a=!0,r="headlines")}for(var o in 0===window.quickstylefilter.length&&(window.quickstylefilter.push("headlines"),window.quickstylefilter.push("content"),window.quickstylefilter.push("buttons")),-1===e.inArray("shadows",window.quickstylefilter)&&window.quickstylefilter.push("shadows"),e(".quick_style_dep_all").hide(),e(".quick_style_menu_point").hide(),window.qstyle_scroll_targets)window.qstyle_scroll_targets.hasOwnProperty(o)&&(e.inArray(window.qstyle_scroll_targets[o].library,window.quickstylefilter)>=0?window.qstyle_scroll_targets[o].enable=!0:window.qstyle_scroll_targets[o].enable=!1);for(var o in window.quickstylefilter)window.quickstylefilter.hasOwnProperty(o)&&(e("#quick_style_dep_"+window.quickstylefilter[o]).show(),e("#quick_style_menu_"+window.quickstylefilter[o]).show());!1!==r&&setTimeout(function(){e("#quick_style_menu_"+r).click()},400)}},RVS.F.closeQuickStyle=function(){void 0!==RVS.S.qstyleBackupGroup&&RVS.F.closeBackupGroup({id:RVS.S.qstyleBackupGroup}),RVS.S.qstyleBackupGroup=void 0,RVS.S.qstyle_library_open=!1,punchgs.TweenLite.to("#quick_style",.4,{width:0,display:"none",ease:punchgs.Power3.EaseInOut}),punchgs.TweenLite.to("#quick_style_inner",.4,{left:-270,ease:punchgs.Power3.EaseInOut}),e("#quick_style_trigger").removeClass("selected")}}()}($nwd_jQuery),function(e){!function(){var t,i,a,r,s=["arrows","thumbs","bullets","tabs"];function o(t,i){var a="",r="";for(var s in RVS.nav.currentSkinType=t,RVS.nav.currentEditorMode="markup",RVS.nav[t]){if(!RVS.nav[t].hasOwnProperty(s))continue;let e=RVS.nav[t][s];e.factory?a+='<div data-type="'+t+'" data-handle="'+s+'" class="rs_ne_nav_skin rs_ne_listelement"><span class="rs_ne_nskin_title">'+e.name+'</span><div class="rs_ne_nskin_tbar_basic"><i class="rs_ne_nskin_copy material-icons">content_copy</i></div></div>':r+='<div id="rs_ne_nav_skin_'+s+'" data-type="'+t+'" data-handle="'+s+'" class="rs_ne_nav_skin rs_ne_listelement"><span class="rs_ne_nskin_title">'+e.name+'</span><span class="rs_ne_nskin_message"></span><input class="rs_ne_nskin_title_input" value="'+e.name+'" type="text"/><div class="rs_ne_nskin_tbar_basic"><i class="rs_ne_nskin_edit material-icons">edit</i><i class="rs_ne_nskin_copy material-icons">content_copy</i><i class="rs_ne_nskin_delete material-icons">delete</i></div><div class="rs_ne_nskin_tbar_yesno"><i class="rs_ne_nskin_yes material-icons">done</i><i class="rs_ne_nskin_no material-icons">close</i></div></div>'}document.getElementById("rs_ne_factory_list").innerHTML=a,document.getElementById("rs_ne_custom_list").innerHTML=r,e(".rs_ne_list_wrapper").scrollTop(0).RSScroll({suppressScrollX:!0})}function n(){void 0!==RVS.nav.currentSkin&&(RVS.nav.currentSkin.changed=!0),e("#save_naveditor").show(),RVS.nav.toSave=!0}function l(){document.getElementById("rs_ne_nav_width").value=RVS.nav.currentSkin.dim.width,document.getElementById("rs_ne_nav_height").value=RVS.nav.currentSkin.dim.height,document.getElementById("rs_ne_nav_classname").value=RVS.nav.currentSkin.handle;var e="";for(var t in RVS.nav.currentSkin.placeholders){if(!RVS.nav.currentSkin.placeholders.hasOwnProperty(t))continue;e+='<div data-placeholder="'+t+'" class="rs_ne_meta_value_btn rs_ne_listelement" ><span data-insert="##'+t+'##" class="rs_ne_nskin_title">'+RVS.nav.currentSkin.placeholders[t].title+'</span><span class="rs_ne_nskin_message"></span>',e+='<div class="rs_ne_nskin_tbar_basic"><i data-insert="##'+t+'##" class="rs_ne_nskin_meta_add material-icons">add</i><i data-placeholder="'+t+'" class="rs_ne_nskin_meta_config material-icons">settings</i><i class="rs_ne_nskin_delete material-icons">delete</i></div><div class="rs_ne_nskin_tbar_yesno"><i class="rs_ne_nskin_yes material-icons">done</i><i class="rs_ne_nskin_no material-icons">close</i></div>',e+="</div>"}document.getElementById("rs_ne_meta_values_inner").innerHTML=e}function d(){var t=e("#rs_ne_def_meta_handle")[0].value;0===t.length||0===e("#rs_ne_def_meta_title")[0].value.length||RVS.nav.currentPlaceholder!==t&&void 0!==RVS.nav.currentSkin.placeholders[t]?e("#update_nav_meta_value").addClass("disabled"):e("#update_nav_meta_value").removeClass("disabled"),RVS.nav.currentPlaceholder!==t&&void 0!==RVS.nav.currentSkin.placeholders[t]?e("#rs_ne_def_meta_handle").addClass("badvalue"):e("#rs_ne_def_meta_handle").removeClass("badvalue")}function c(){t.appendTo(e("#rev_slider_ul_inner")),i.appendTo(e("#rev_slider_ul_inner")),a.appendTo(e("#rev_slider_ul_inner")),r.tabs.self.appendTo(e("#rev_slider_ul_inner")),r.thumbs.self.appendTo(e("#rev_slider_ul_inner"))}function S(t){e(".rs_ne_nav_skin.selected").removeClass("selected"),t.className+=" selected",RVS.nav.currentSkinType=t.dataset.type,RVS.nav.currentSkinHandle=t.dataset.handle,RVS.nav.currentSkin=RVS.nav[t.dataset.type][t.dataset.handle],l(),e("#rs_ne_helper_wrap, #rs_ne_settings, #rs_ne_markup_css_button_wrap").show(),e("#rs_ne_cssmeta_config").hide(),e("#rs_ne_cssmeta_values").show(),e("#rs_ne_nav_classname").removeClass("badvalue"),RVS.nav.editor.setValue(RVS.nav.currentSkin[RVS.nav.currentEditorMode]),RVS.nav.infactorymode=RVS.nav.currentSkin.factory,RVS.nav.infactorymode?e("#rs_ne_settings").addClass("infactorymode"):e("#rs_ne_settings").removeClass("infactorymode"),RVS.nav.editor.setOption("readOnly",RVS.nav.currentSkin.factory),RVS.F.drawEditorNavigation(),RVS.F.pickMarkupCssMode(document.getElementById("rs_ne_mcss_thecsseditor"))}RVS.F.initNavigation=function(){t=e("#tp-leftarrow"),i=e("#tp-rightarrow"),a=e("#tp-bullets"),r={tabs:{self:e("#tp-tabs"),mask:e("#tp-tabs-mask"),inner:e("#tp-tabs-inner-wrapper"),single:"tp-tab"},thumbs:{self:e("#tp-thumbs"),mask:e("#tp-thumbs-mask"),inner:e("#tp-thumbs-inner-wrapper"),single:"tp-thumb"}},RVS.F.buildNavigationLists(),f()},RVS.F.buildNavigationLists=function(t){for(var i in s)if(s.hasOwnProperty(i)){var a="";for(var r in RVS.nav[s[i]])RVS.nav[s[i]].hasOwnProperty(r)&&(a+='<option value="'+r+'">'+RVS.nav[s[i]][r].name+"</option>");e("#sr_"+s[i]+"_style")[0].innerHTML=a,t&&e("#sr_"+s[i]+"_style").select2RS({minimumResultsForSearch:"Infinity",placeholder:"Enter or Select"})}t&&RVS.F.updateEasyInputs({container:e("#nav_form_collector"),path:"settings."})},RVS.F.openNavigationEditor=function(){if(RVS.nav=void 0===RVS.nav?{}:RVS.nav,RVS.nav.toSave=!1,RVS.nav.toDelete=[],"FAIL"!==RVS.nav.editor)if("undefined"==typeof CodeMirror||void 0===CodeMirror)RVS.F.showWaitAMinute({fadeIn:500,text:RVS_LANG.loadingcodemirror}),RVS.F.loadCSS(RVS.ENV.plugin_url+"/admin/assets/css/codemirror.css"),e.getScript(RVS.ENV.plugin_url+"/admin/assets/js/plugins/codemirror.js",function(){setTimeout(function(){RVS.F.showWaitAMinute({fadeOut:500})},100),RVS.F.openNavigationEditor()}).fail(function(e,t,i){setTimeout(function(){RVS.F.showWaitAMinute({fadeOut:500})},100),window.nav.editor="FAIL"});else{if(void 0===RVS.nav.editor){var p=e("#nav_fontfamily");for(var u in window.initArrFontTypes)if(window.initArrFontTypes.hasOwnProperty(u)){var R=window.initArrFontTypes[u];"Dont Show Me"!==R.label&&p.append('<option value="'+R.label+'">'+R.label+"</option>"),R.labelLowerCase=R.label.toLowerCase()}p.trigger("change.select2RS"),f(),RVS.nav.editor=CodeMirror(document.getElementById("rs_nav_css_js_area"),{value:"",mode:"css",theme:"hopscotch",lineWrapping:!0,lineNumbers:!1}),RVS.DOC.on("click",".rs_ne_nav_skin",function(){S(this)}),RVS.DOC.on("click","#rbm_navigation_editor .rbm_close",function(){RVS.nav.toSave?RVS.F.RSDialog.create({bgopacity:.85,modalid:"rbm_decisionModal",icon:"warning",title:RVS_LANG.warning,maintext:RVS_LANG.changesdone_exit,subtext:RVS_LANG.exitwihoutchangesornot,do:{icon:"exit_to_app",text:RVS_LANG.leavewithoutsave,event:"leavaeditorwithoutsave"},cancel:{icon:"cancel",text:RVS_LANG.stayineditor}}):(c(),RVS.F.RSDialog.close(),RVS.F.buildNavigationLists(!0))}),RVS.DOC.on("leavaeditorwithoutsave",function(){for(var t in s)s.hasOwnProperty(t)&&(RVS.nav[s[t]]=RVS.F.safeExtend(!0,{},RVS.nav.cache[s[t]]));RVS.nav.toDelete=[],RVS.nav.toSave=!1,e("#save_naveditor").hide(),c()}),RVS.DOC.on("click","#save_naveditor",RVS.F.savechangesonnavigation),RVS.DOC.on("click",".rs_ne_selector",function(){RVS.F.pickNavType(this)}),RVS.DOC.on("click",".rs_ne_nskin_meta_config",function(){switch(e("#rs_ne_cssmeta_config").show(),e("#rs_ne_cssmeta_values").hide(),RVS.nav.currentPlaceholder=this.dataset.placeholder,e("#rs_ne_meta_type").val(RVS.nav.currentSkin.placeholders[RVS.nav.currentPlaceholder].type).change(),document.getElementById("rs_ne_def_meta_title").value=RVS.nav.currentSkin.placeholders[RVS.nav.currentPlaceholder].title,document.getElementById("rs_ne_def_meta_handle").value=RVS.nav.currentPlaceholder,RVS.nav.currentSkin.placeholders[RVS.nav.currentPlaceholder].type){case"color":e("#rs_ne_def_meta_color_val").val(RVS.nav.currentSkin.placeholders[RVS.nav.currentPlaceholder].data).rsColorPicker("refresh");break;case"icon":e("#rs_ne_def_meta_icon_val").val(RVS.nav.currentSkin.placeholders[RVS.nav.currentPlaceholder].data);var t=RVS.nav.currentSkin.placeholders[RVS.nav.currentPlaceholder].data;t=t.length>0?t.replace("\\",""):t,e(".rs_ne_pick.selected").removeClass("selected"),e(".rs_ne_icon_"+t).addClass("selected");break;case"custom":e("#rs_ne_def_meta_custom_val").val(RVS.nav.currentSkin.placeholders[RVS.nav.currentPlaceholder].data);break;case"font-family":e("#nav_fontfamily").val(RVS.nav.currentSkin.placeholders[RVS.nav.currentPlaceholder].data)}}),RVS.DOC.on("click","#add_new_placeholder",function(){e("#rs_ne_cssmeta_config").show(),e("#rs_ne_cssmeta_values").hide(),RVS.nav.currentPlaceholder="in_create_process",document.getElementById("rs_ne_def_meta_title").value="",document.getElementById("rs_ne_def_meta_handle").value="",e("#rs_ne_def_meta_color_val").val("#ffffff"),e("#rs_ne_def_meta_icon_val").val(),e("#rs_ne_def_meta_custom_val").val(),e("#nav_fontfamily").val("Arial"),d()}),RVS.DOC.on("change","#rs_ne_nav_classname",function(){var t=RVS.nav.currentSkin.handle,i=RVS.F.sanitize_input_lc(this.value.toLowerCase());if(this.value=i,t!==i){if(RVS.F.checkSkinHandle(this.value))e("#rs_ne_nav_classname").addClass("badvalue");else{e("#rs_ne_nav_classname").removeClass("badvalue"),RVS.nav.currentSkin.handle=i;var a=new RegExp("\\."+t,"g");RVS.nav.currentSkin.css=RVS.nav.currentSkin.css.replace(a,"."+i),RVS.nav.editor.setValue(RVS.nav.currentSkin[RVS.nav.currentEditorMode])}n()}}),RVS.DOC.on("setrsnavtovertical",function(){e("#rs_ne_horizontaltest").removeClass("selected"),e("#rs_ne_verticaltest").addClass("selected"),RVS.nav.currentAlignMode="vertical",RVS.F.drawEditorNavigation()}),RVS.DOC.on("setrsnavtohorizontal",function(){e("#rs_ne_horizontaltest").addClass("selected"),e("#rs_ne_verticaltest").removeClass("selected"),RVS.nav.currentAlignMode="horizontal",RVS.F.drawEditorNavigation()}),RVS.DOC.on("rsdimgapchange",function(e,t){if(void 0!==t&&void 0!==t.eventparam){switch(t.eventparam){case"width":case"height":RVS.nav.currentSkin.dim[t.eventparam]=t.val,n();break;case"space":RVS.nav.currentTestSpace=t.val}RVS.F.drawEditorNavigation()}}),RVS.DOC.on("setrsnavposition",function(){switch(e("#rs_nav_test_position").val()){case"left top":RVS.nav.currentPosVer="top",RVS.nav.currentPosHor="left";break;case"center top":RVS.nav.currentPosVer="top",RVS.nav.currentPosHor="center";break;case"right top":RVS.nav.currentPosVer="top",RVS.nav.currentPosHor="right";break;case"left center":RVS.nav.currentPosVer="center",RVS.nav.currentPosHor="left";break;case"center center":RVS.nav.currentPosVer="center",RVS.nav.currentPosHor="center";break;case"right center":RVS.nav.currentPosVer="center",RVS.nav.currentPosHor="right";break;case"left bottom":RVS.nav.currentPosVer="bottom",RVS.nav.currentPosHor="left";break;case"center bottom":RVS.nav.currentPosVer="bottom",RVS.nav.currentPosHor="center";break;case"right bottom":RVS.nav.currentPosVer="bottom",RVS.nav.currentPosHor="right"}RVS.F.drawEditorNavigation()}),RVS.DOC.on("change","#rs_ne_def_meta_title",d),RVS.DOC.on("change","#rs_ne_def_meta_handle",function(){this.value=RVS.F.sanitize_input_lc(this.value),d()}),RVS.DOC.on("click",".rs_ne_pick",function(){e(".rs_ne_pick.selected").removeClass("selected"),this.className+=" selected",e("#rs_ne_def_meta_icon_val").val(this.dataset.content)}),RVS.DOC.on("click",".rs_ne_nskin_meta_add, .rs_ne_markup_meta_btn",function(){return RVS.nav.infactorymode||RVS.F.insertTextAtCursor(RVS.nav.editor,this.dataset.insert),!1}),RVS.DOC.on("closenavmetavalue",function(){e("#rs_ne_cssmeta_config").hide(),e("#rs_ne_cssmeta_values").show()}),RVS.DOC.on("updatenavmetavalue",function(){var t=document.getElementById("rs_ne_def_meta_handle").value;switch(RVS.nav.currentSkin.placeholders[t]=void 0===RVS.nav.currentSkin.placeholders[t]?{}:RVS.nav.currentSkin.placeholders[t],RVS.nav.currentSkin.placeholders[t].type=document.getElementById("rs_ne_meta_type").value,RVS.nav.currentSkin.placeholders[t].title=document.getElementById("rs_ne_def_meta_title").value,RVS.nav.currentSkin.placeholders[t].type){case"color":RVS.nav.currentSkin.placeholders[t].data=document.getElementById("rs_ne_def_meta_color_val").value;break;case"icon":RVS.nav.currentSkin.placeholders[t].data=document.getElementById("rs_ne_def_meta_icon_val").value;break;case"custom":RVS.nav.currentSkin.placeholders[t].data=document.getElementById("rs_ne_def_meta_custom_val").value;break;case"font-family":RVS.nav.currentSkin.placeholders[t].data=document.getElementById("nav_fontfamily").value}t!==RVS.nav.currentPlaceholder&&delete RVS.nav.currentSkin.placeholders[RVS.nav.currentPlaceholder],l(),e("#rs_ne_cssmeta_config").hide(),e("#rs_ne_cssmeta_values").show(),RVS.F.drawEditorNavigation(),n()}),RVS.DOC.on("click",".rs_ne_nskin_edit",function(){var t=e(this).closest(".rs_ne_nav_skin");return t[0].dataset.mode="rename",t.addClass("rs_changename"),t.find("input").focus().select(),RVS.S.waitOnFeedback={allowed:["rs_ne_nskin_title_input","rs_ne_nskin_yes","rs_ne_nskin_no","rbm_close"],closeEvent:"hideCustomNavNameEntering"},RVS.F.addBodyClickListener(),!1}),RVS.DOC.on("click",".rs_ne_nskin_delete",function(){var t=e(this).closest(".rs_ne_listelement");return t[0].dataset.mode="delete",t.addClass("rs_showmessage"),t.find(".rs_ne_nskin_message").text(RVS_LANG.deletetemplate),RVS.S.waitOnFeedback={allowed:["rs_ne_nskin_yes","rs_ne_nskin_no","rbm_close"],closeEvent:"hideCustomNavNameEntering"},RVS.F.addBodyClickListener(),!1}),RVS.DOC.on("click",".rs_ne_nskin_copy",function(){var t=e(this).closest(".rs_ne_nav_skin");RVS.nav.currentMaxid++,RVS.nav[t[0].dataset.type]["new_"+RVS.nav.currentMaxid]=RVS.F.safeExtend(!0,{},RVS.nav[t[0].dataset.type][t[0].dataset.handle]);var i=RVS.nav[t[0].dataset.type]["new_"+RVS.nav.currentMaxid].handle,a=RVS.nav[t[0].dataset.type]["new_"+RVS.nav.currentMaxid].handle+"_copy"+Math.round(100*Math.random()+10);!0===RVS.F.checkSkinHandle(a)&&(a+=Math.round(100*Math.random()+10)),!0===RVS.F.checkSkinHandle(a)&&(a+=Math.round(100*Math.random()+10)),RVS.nav[t[0].dataset.type]["new_"+RVS.nav.currentMaxid].factory=!1,RVS.nav[t[0].dataset.type]["new_"+RVS.nav.currentMaxid].name+=" Copy",RVS.nav[t[0].dataset.type]["new_"+RVS.nav.currentMaxid].handle=a,RVS.nav[t[0].dataset.type]["new_"+RVS.nav.currentMaxid].changed=!0,RVS.nav[t[0].dataset.type]["new_"+RVS.nav.currentMaxid].id="new_"+RVS.nav.currentMaxid,RVS.nav[t[0].dataset.type]["new_"+RVS.nav.currentMaxid].presets={};var r=new RegExp("\\."+i,"g");return RVS.nav[t[0].dataset.type]["new_"+RVS.nav.currentMaxid].css=RVS.nav[t[0].dataset.type]["new_"+RVS.nav.currentMaxid].css.replace(r,"."+a),RVS.S.waitOnFeedback=void 0,e("body").unbind("click.revbuilderbodyclick"),o(t[0].dataset.type),n(),!1}),RVS.DOC.on("click","#rs_ne_new_custom_nav",function(){RVS.nav.currentMaxid++,RVS.nav[RVS.nav.currentSkinType]["new_"+RVS.nav.currentMaxid]=RVS.F.createNewNavigation(RVS.nav.currentSkinType),o(RVS.nav.currentSkinType),e("#rs_ne_nav_skin_new_"+RVS.nav.currentMaxid).trigger("click"),e("#rs_ne_nav_skin_new_"+RVS.nav.currentMaxid+" .rs_ne_nskin_edit").trigger("click"),n()}),RVS.DOC.on("hideCustomNavNameEntering",function(){e(".rs_changename").removeClass("rs_changename")}),RVS.DOC.on("click",".rs_ne_nskin_yes",function(){var t=e(this).closest(".rs_ne_listelement"),i=t.find("input");return"rename"===t[0].dataset.mode?(RVS.nav[t[0].dataset.type][t[0].dataset.handle].name=i.val(),RVS.S.waitOnFeedback=void 0,e("body").unbind("click.revbuilderbodyclick"),o(t[0].dataset.type),n(),!1):"delete"===t[0].dataset.mode?(t.hasClass("rs_ne_meta_value_btn")?(delete RVS.nav.currentSkin.placeholders[t[0].dataset.placeholder],RVS.S.waitOnFeedback=void 0,e("body").unbind("click.revbuilderbodyclick"),l(),RVS.F.drawEditorNavigation()):(void 0!==RVS.nav.cache[t[0].dataset.type][t[0].dataset.handle]&&RVS.nav.toDelete.push(t[0].dataset.handle),delete RVS.nav[t[0].dataset.type][t[0].dataset.handle],RVS.S.waitOnFeedback=void 0,e("body").unbind("click.revbuilderbodyclick"),o(t[0].dataset.type)),n(),!1):void 0}),RVS.DOC.on("click",".rs_ne_nskin_no",function(){var t=e(this).closest(".rs_ne_listelement");return RVS.S.waitOnFeedback=void 0,e("body").unbind("click.revbuilderbodyclick"),t.hasClass("rs_ne_meta_value_btn")?l():o(t[0].dataset.type),!1}),RVS.DOC.on("click",".rs_ne_markup_css_button",function(){RVS.F.pickMarkupCssMode(this)}),RVS.nav.editor.on("change",function(){void 0!==RVS.nav.currentSkin&&void 0!==RVS.nav.currentEditorMode&&void 0!==RVS.nav.currentSkin[RVS.nav.currentEditorMode]&&RVS.nav.currentSkin[RVS.nav.currentEditorMode]!==RVS.nav.editor.getValue()&&(RVS.nav.currentSkin[RVS.nav.currentEditorMode]=RVS.nav.editor.getValue(),RVS.F.drawEditorNavigation(),n())})}for(var V in RVS.nav.cache={},s)s.hasOwnProperty(V)&&(RVS.nav.cache[s[V]]=RVS.F.safeExtend(!0,{},RVS.nav[s[V]]));RVS.nav.currentMaxid=0,o("arrows"),RVS.F.RSDialog.create({modalid:"rbm_navigation_editor",bgopacity:.5}),e(".emc_toggle_inner").RSScroll({suppressScrollX:!0}),RVS.nav.editor.refresh(),t.detach(),i.detach(),a.detach(),r.tabs.self.detach(),r.thumbs.self.detach();var m="arrows";for(var V in s)if(s.hasOwnProperty(V)&&RVS.eMode&&RVS.eMode.menu.indexOf(s[V])>=0){m=s[V];break}var y=void 0!==RVS.SLIDER.settings.nav[m]?RVS.SLIDER.settings.nav[m].style:"1000";RVS.F.pickNavType(document.getElementById("rs_ne_selector_"+m));var h=e('#rs_ne_navlist .rs_ne_nav_skin[data-handle="'+y+'"]');h.length>0&&S(h[0]),RVS.F.pickMarkupCssMode(document.getElementById("rs_ne_mcss_thecsseditor"))}},RVS.F.drawEditorNavigation=function(){void 0===RVS.nav.c&&(RVS.nav.c={arrows:e("#rs_ne_arrows"),left:e("#rs_ne_tp-leftarrow"),right:e("#rs_ne_tp-rightarrow"),bullets:e("#rs_ne_bullets"),tabs:{self:e("#rs_ne_tabs"),inner:e("#rs_ne_tabs-inner-wrapper"),mask:e("#rs_ne_tabs-mask"),single:"tp-tab"},thumbs:{self:e("#rs_ne_thumbs"),inner:e("#rs_ne_thumbs-inner-wrapper"),mask:e("#rs_ne_thumbs-mask"),single:"tp-thumb"}}),RVS.nav.currentTestSpace=null==RVS.nav.currentTestSpace?5:RVS.nav.currentTestSpace,RVS.nav.currentTestPadding=10,RVS.nav.currentAlignMode=null==RVS.nav.currentAlignMode?"horizontal":RVS.nav.currentAlignMode,RVS.nav.currentPosVer=null==RVS.nav.currentPosVer?"bottom":RVS.nav.currentPosVer,RVS.nav.currentPosHor=null==RVS.nav.currentPosHor?"center":RVS.nav.currentPosHor;var t=RVS.F.sanitize_input(RVS.nav.currentSkin.handle.toLowerCase())+" "+RVS.F.sanitize_input(RVS.nav.currentSkin.name.toLowerCase()),i=R({type:RVS.nav.currentSkinType,skin:RVS.nav.currentSkin,default:!0});switch(RVS.nav.currentSkinType){case"arrows":var a=RVS.nav.currentSkin.markup.replace("##title##","Title");RVS.nav.c.left[0].className="tparrows tp-leftarrow "+t,RVS.nav.c.right[0].className="tparrows tp-rightarrow "+t,RVS.nav.c.left[0].innerHTML=i+a,RVS.nav.c.right[0].innerHTML=a,RVS.nav.c.arrows.show(),RVS.nav.c.bullets.hide(),RVS.nav.c.tabs.self.hide(),RVS.nav.c.thumbs.self.hide();break;case"bullets":RVS.nav.c.arrows.hide(),RVS.nav.c.tabs.self.hide(),RVS.nav.c.thumbs.self.hide(),RVS.nav.c.bullets.show(),RVS.nav.c.bullets[0].className="tp-bullets "+t+" nav-dir-"+RVS.nav.currentAlignMode+" nav-pos-ver-"+RVS.nav.currentPosVer+" nav-pos-hor-"+RVS.nav.currentPosHor;a=RVS.nav.currentSkin.markup.replace("##title##","Slide Title");for(var r="",s=0;s<=4;s++)r+='<div class="tp-bullet '+(0==s?"selected":"")+'">'+a+"</div>";RVS.nav.c.bullets[0].innerHTML=i+r,RVS.nav.c.bullets.find(".tp-bullet").each(function(t){var i=e(this),a=i.outerWidth()+parseInt(void 0===RVS.nav.currentTestSpace?0:RVS.nav.currentTestSpace,0),r=i.outerHeight()+parseInt(void 0===RVS.nav.currentTestSpace?0:RVS.nav.currentTestSpace,0);"vertical"===RVS.nav.currentAlignMode?(i.css({top:t*r+"px",left:"0px"}),punchgs.TweenLite.set(RVS.nav.c.bullets,{height:4*r+i.outerHeight(),width:i.outerWidth()})):(i.css({left:t*a+"px",top:"0px"}),punchgs.TweenLite.set(RVS.nav.c.bullets,{width:4*a+i.outerWidth(),height:i.outerHeight()}))});break;case"tabs":case"thumbs":var o=RVS.nav.currentSkinType,n=o.replace("s","");RVS.nav.c.arrows.hide(),RVS.nav.c.bullets.hide(),RVS.nav.c.tabs.self.hide(),RVS.nav.c.thumbs.self.hide(),RVS.nav.c[o].self.show(),RVS.nav.c[o].self[0].className="tp-"+o+" "+t+" nav-dir-"+RVS.nav.currentAlignMode+" nav-pos-ver-"+RVS.nav.currentPosVer+" nav-pos-hor-"+RVS.nav.currentPosHor;for(a=RVS.nav.currentSkin.markup.replace("##title##","Slide Title"),r="",s=0;s<10;s++)a=a.replace("##param"+s+"##","Parameter "+s);for(s=0;s<=2;s++)r+='<div class="'+t+" tp-"+n+" "+(0==s?"selected":"")+'">'+a+"</div>";RVS.nav.c[o].inner[0].innerHTML=i+r;var l=parseInt(RVS.nav.currentSkin.dim.width,0)+parseInt(RVS.nav.currentTestSpace,0),d=parseInt(RVS.nav.currentSkin.dim.height,0)+parseInt(RVS.nav.currentTestSpace,0);punchgs.TweenLite.set(RVS.nav.c[o].self,{padding:RVS.nav.currentTestPadding}),RVS.nav.currentTestPadding=parseInt(RVS.nav.currentTestPadding,0),RVS.nav.c[o].inner.find("."+RVS.nav.c[o].single).each(function(e){"vertical"===RVS.nav.currentAlignMode?punchgs.TweenLite.set(this,{top:e*d+"px",left:"0px",width:RVS.nav.currentSkin.dim.width+"px",height:RVS.nav.currentSkin.dim.height+"px"}):punchgs.TweenLite.set(this,{left:e*l+"px",top:"0px",width:RVS.nav.currentSkin.dim.width+"px",height:RVS.nav.currentSkin.dim.height+"px"})});var c="horizontal"===RVS.nav.currentAlignMode?3*RVS.nav.currentSkin.dim.width+2*RVS.nav.currentTestSpace:RVS.nav.currentSkin.dim.width,S="horizontal"===RVS.nav.currentAlignMode?RVS.nav.currentSkin.dim.height:3*RVS.nav.currentSkin.dim.height+2*RVS.nav.currentTestSpace,p={width:c+"px",height:S+"px",overwrite:"auto"},u={top:"auto",left:"auto",bottom:"auto",maginTop:"0px",marginBottom:"0px",right:"auto",y:"0%",x:"0px",width:c+"px",height:S+"px",overflow:"hidden",position:"relative",overwrite:"auto",marginLeft:"auto",marginRight:"auto"};punchgs.TweenLite.set(RVS.nav.c[o].self,p),punchgs.TweenLite.set(RVS.nav.c[o].mask,u)}},RVS.F.savechangesonnavigation=function(){for(var t in RVS.nav.changes={},RVS.nav.currentHandle=void 0!==RVS.nav.currentSkin?RVS.nav.currentSkin.handle:void 0,s)if(s.hasOwnProperty(t))for(var i in RVS.nav[s[t]])RVS.nav[s[t]].hasOwnProperty(i)&&RVS.nav[s[t]][i].changed&&(RVS.nav.changes[i]=RVS.F.safeExtend(!0,{},RVS.nav[s[t]][i]),delete RVS.nav.changes[i].changed);if(RVS.F.ajaxRequest("save_navigation",{navs:RVS.nav.changes,delete:RVS.nav.toDelete},function(e){for(var t in s)s.hasOwnProperty(t)&&(RVS.nav[s[t]]=RVS.F.safeExtend(!0,{},e.navs[s[t]]))}),void 0!==RVS.nav.currentHandle){var a;for(var i in o(RVS.nav.currentSkinType),RVS.nav[RVS.nav.currentSkinType])RVS.nav[RVS.nav.currentSkinType].hasOwnProperty(i)&&(a=void 0===a&&RVS.nav[RVS.nav.currentSkinType][i].handle==RVS.nav.currentHandle?i:a);void 0!==a&&e("#rs_ne_nav_skin_"+a).trigger("click")}RVS.nav.toDelete=[],RVS.nav.toSave=!1,e("#save_naveditor").hide()},RVS.F.checkSkinHandle=function(t){var i=t.length<4||e.inArray(t,["cursor","pointer","margin","padding","display","position","width","height","transition","relative","absolute","color","arrows","thumbs","arrow","thumb","tab","tabs","bullet","bullets","hover","z-index"])>=0;for(var a in RVS.nav[RVS.nav.currentSkinType])RVS.nav[RVS.nav.currentSkinType].hasOwnProperty(a)&&(i=!0===i||RVS.nav[RVS.nav.currentSkinType][a].handle===t);return i},RVS.F.bgUpdate=function(e,t){punchgs.TweenLite.set(r[e].self,{background:t})},RVS.F.pickMarkupCssMode=function(t){e(".rs_ne_markup_css_button.selected").removeClass("selected"),e(t.dataset.hide).hide(),e(t.dataset.show).show(),RVS.nav.currentEditorMode=t.dataset.mode,t.className+=" selected",void 0!==RVS.nav.currentSkin&&RVS.nav.editor.setValue(RVS.nav.currentSkin[RVS.nav.currentEditorMode])},RVS.F.pickNavType=function(t){e(".rs_ne_selector.selected").removeClass("selected"),t.className+=" selected",RVS.nav.currentSkinType=t.dataset.type,e("#rs_ne_helper_wrap, #rs_ne_settings, #rs_ne_markup_css_button_wrap").hide(),e("#rs_ne_cssmeta_config").hide(),e("#rs_ne_cssmeta_values").show(),RVS.F.pickMarkupCssMode(document.getElementById("rs_ne_mcss_thecsseditor")),o(t.dataset.type),e("#rs_ne_factory_list .rs_ne_nav_skin").first().trigger("click")},RVS.F.setNavPresetValues=function(e){var t=RVS.SLIDER.settings.nav[e.type];if("default"===t.preset)for(var i in RVS.nav[e.type][t.style].placeholders)RVS.nav[e.type][t.style].placeholders.hasOwnProperty(i)&&RVS.F.updateSliderObj({path:"settings.nav."+e.type+".presets",val:{}});else{var a=RVS.nav[e.type][t.style].presets[t.preset].values;for(var r in a)a.hasOwnProperty(r)&&(-1===r.indexOf("-def")?RVS.F.updateSliderObj({path:"settings.nav."+e.type+".presets."+r,val:a[r]}):"on"!==a[r]&&!0!==a[r]&&"true"!==a[r]||RVS.F.updateSliderObj({path:"settings.nav."+e.type+".presets."+r,val:!0}))}RVS.F.updateNavStyleSelection({init:!1,type:e.type})};var p={init:function(t,i,a,r){var s=e('<input type="text" class="layerinput">').appendTo(t);i.data("ghost",s).hide()},onRefresh:function(e,t){e.data("ghost").val(t)},onEdit:function(e,t){e.data("ghost").val(t),RVS.DOC.trigger("coloredit",[e,t])},change:function(e,t,i){e.data("ghost").val(t),RVS.DOC.trigger("coloredit",[e,t,i,!0])},cancel:function(e,t){e.data("ghost").val(t),RVS.DOC.trigger("colorcancel",[e,t])}};function u(t){var i=RVS.SLIDER.settings.nav,a=e("#sr_"+t.type+"_style_preset");if(a.html('<option disabled value="custom" >Custom</option><option value="default">Default</option>'),null!=t.navobj&&null!==t.navobj.settings){if(void 0!==t.navobj)for(var r in t.navobj.presets)if(t.navobj.presets.hasOwnProperty(r)){var s=e('<option value="'+r+'">'+t.navobj.presets[r].name+"</option>");s.data("values",t.navobj.presets[r].values),a.append(s)}a.select2RS({tags:!0}),!0===t.presetChange&&(i[t.type].preset="default"),e("#sr_"+t.type+"_style_preset").val(i[t.type].preset).trigger("change.select2RS"),RVS.F.updatePresetInputs(t),RVS.F.updateSlideBasedNavigationStyle()}}function R(a){var r=RVS.SLIDER.settings.nav[a.type].presets,s=RVS.SLIDER[RVS.S.slideId].slide.nav[a.type].presets,o=void 0===a.skin?RVS.nav[a.type][a.handle]:a.skin,n=o.css,l=n.split("##"),d=[],c=0,S="";if(null==n)return"";for(var p=0;p<l.length;p++)1==c?(S=l[p],c=0,d.push(S)):c++;return null==RVS.SLIDER[RVS.S.slideId].slide?"":(e.each(d,function(e,t){var i,l;l=void 0!==o.placeholders[t]&&void 0!==o.placeholders[t].data?o.placeholders[t].data:"",i=t===a.attribute?a.color:!0===a.default?void 0!==o.placeholders[t]?o.placeholders[t].data:"":void 0!==s&&s[t+"-def"]?s[t]:r[t+"-def"]?r[t]:l,n=n.replace("##"+t+"##",i)}),t.css({width:"",height:""}),i.css({width:"",height:""}),"<style id='"+a.type+"_stylemanipualtion'>"+n+"</style>")}function V(e){if(void 0===RVS.SLIDER[e.id])return"";var t=RVS.SLIDER[e.id].slide.thumb.customThumbSrc;return void 0===t||t.length<3||"/"===t[t.length-1]?RVS.F.getSlideBGDrawObj({id:e.id}):{"background-size":"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundImage:"url("+t+")"}}function m(e,t){if(void 0!==t){var i=15,a=65,r="slider"===t.align?{x:parseInt(t.offsetX,0)+("left"===t.horizontal?i:0),y:parseInt(t.offsetY,0)+("top"===t.vertical?a:0)}:{x:parseInt(t.offsetX,0)+("right"===t.horizontal?RVS.S.layer_wrap_offset.xr:RVS.S.layer_wrap_offset.x),y:parseInt(t.offsetY,0)+("top"===t.vertical?RVS.S.layer_wrap_offset.y:RVS.S.layer_wrap_offset.y-a)},s={marginLeft:"0px",x:"0%",left:r.x+"px",right:"auto",marginTop:"0px",y:"0%",top:r.y+"px",bottom:"auto"};switch(RVS.S.dim_offsets=RVS.F.sliderDimensionOffsets(),t.horizontal){case"right":s.left="auto",s.right=parseInt(r.x,0)+"px";break;case"center":s.marginLeft=i/2+parseInt(t.offsetX,0)+"px",s.x="-50%",s.left="50%"}switch(t.vertical){case"bottom":s.top="auto",s.bottom=r.y+"px";break;case"center":var o=RVS.S.dim_offsets.carouseltop/2+RVS.S.dim_offsets.navtop/2-(RVS.S.dim_offsets.carouselbottom/2+RVS.S.dim_offsets.navbottom/2);s.marginTop=a/2+(parseInt(t.offsetY,0)+parseInt(o,0))+"px",s.y="-50%",s.top="50%"}if(!0===t.spanWrapper)switch(t.direction){case"horizontal":s.marginLeft="0px",s.x="0%",s.left="0%";break;case"vertical":s.marginTop="0px",s.y="0%",s.top="65px"}punchgs.TweenLite.set(e,s)}}function f(){RVS.DOC.on("openNavigationEditor",RVS.F.openNavigationEditor),RVS.DOC.on("sliderNavUpdate",function(e,t){RVS.F.updateNavStyleSelection({init:!1,type:t,presetChange:!0})}),RVS.DOC.on("redrawNavigation",function(e,t){RVS.F.drawNavigation({type:t,init:!0})}),RVS.DOC.on("sliderNavPreset",function(e,t){RVS.F.setNavPresetValues({type:t})}),RVS.DOC.on("sliderNavPositionUpdate",function(e,t){RVS.F.sliderNavPositionUpdate({type:t})}),RVS.DOC.on("navinnerouter",function(t,i){!function(t){var i=RVS.SLIDER.settings.nav[t.type],a=e("#sr_"+t.type+"hor"),r=e("#sr_"+t.type+"ver"),s="sr_"+t.type+"direction";switch(e("#sr_"+t.type+"_halignwrap").show(),e("#sr_"+t.type+"_valignwrap").show(),i.innerOuter){case"inner":e("#"+t.type+"pos_selector_center-center").show(),e("#"+t.type+"pos_selector_left-center").show(),e("#"+t.type+"pos_selector_right-center").show(),e("#"+t.type+"pos_selector_center-top").show(),e("#"+t.type+"pos_selector_center-bottom").show();break;case"outer-vertical":RVS.F.setS2Option({select:a,selectValue:"left"}),RVS.F.setS2Option({select:r,selectValue:"center"}),RVS.F.setRadio({radio:s,radioValue:"vertical",change:!0}),e("#"+t.type+"pos_selector_center-top").hide(),e("#"+t.type+"pos_selector_center-center").hide(),e("#"+t.type+"pos_selector_center-bottom").hide(),e("#"+t.type+"pos_selector_left-center").show(),e("#"+t.type+"pos_selector_right-center").show(),e("#sr_"+t.type+"_halignwrap").hide();break;case"outer-horizontal":RVS.F.setS2Option({select:a,selectValue:"center"}),RVS.F.setS2Option({select:r,selectValue:"bottom"}),RVS.F.setRadio({radio:s,radioValue:"horizontal",change:!0}),e("#"+t.type+"pos_selector_left-center").hide(),e("#"+t.type+"pos_selector_center-center").hide(),e("#"+t.type+"pos_selector_right-center").hide(),e("#"+t.type+"pos_selector_center-top").show(),e("#"+t.type+"pos_selector_center-bottom").show(),e("#sr_"+t.type+"_valignwrap").hide()}a.trigger("change"),r.trigger("change")}({type:i})}),RVS.DOC.on("saveNavPreset",function(e,t){RVS.F.saveDeleteNavPreset({mode:"save",type:t})}),RVS.DOC.on("deleteNavPreset",function(e,t){RVS.F.saveDeleteNavPreset({mode:"delete",type:t})}),RVS.DOC.on("mouseenter","#select2RS-sr_arrows_style-results li",function(){var e=this.id.split("-result-")[1].split("-")[0],t=this.id.split(e+"-")[1];RVS.F.drawNavigation({type:"arrows",style:t,init:!1,presetChange:!0,default:!0})}),RVS.DOC.on("mouseenter","#select2RS-sr_bullets_style-results li",function(){var e=this.id.split("-result-")[1].split("-")[0],t=this.id.split(e+"-")[1];RVS.F.drawNavigation({type:"bullets",style:t,init:!1,presetChange:!0,default:!0})}),RVS.DOC.on("mouseenter","#select2RS-sr_thumbs_style-results li",function(){var e=this.id.split("-result-")[1].split("-")[0],t=this.id.split(e+"-")[1];RVS.F.drawNavigation({type:"thumbs",style:t,init:!1,presetChange:!0,default:!0})}),RVS.DOC.on("mouseenter","#select2RS-sr_tabs_style-results li",function(){var e=this.id.split("-result-")[1].split("-")[0],t=this.id.split(e+"-")[1];RVS.F.drawNavigation({type:"tabs",style:t,init:!1,presetChange:!0,default:!0})}),RVS.DOC.on("select2RS:open",".sr_nav_style_tos",function(){window.shortcachenav=RVS.F.safeExtend(!0,{},RVS.SLIDER.settings.nav[this.dataset.evtparam]),window.shortnavindex=this.selectedIndex}),RVS.DOC.on("select2RS:close",".sr_nav_style_tos",function(e){window.shortnavindex===this.selectedIndex?(RVS.SLIDER.settings.nav[this.dataset.evtparam]=RVS.F.safeExtend(!0,{},window.shortcachenav),RVS.F.drawNavigation({type:this.dataset.evtparam,init:!1})):RVS.F.drawNavigation({type:this.dataset.evtparam,init:!1})}),RVS.DOC.on("click",".nav_preseticon_pick",function(){var t=this.parentNode.parentNode;e("#"+t.dataset.insertinto).val(this.dataset.content).trigger("change")})}function y(e){return"false"===e||!1===e||"off"===e||void 0===e||0===e||-1===e?e=!1:"true"!==e&&!0!==e&&"on"!==e||(e=!0),e}RVS.F.updatePresetInputs=function(t){var i="slide"===t.env?RVS.SLIDER[RVS.S.slideId].slide.nav[t.type]:RVS.SLIDER.settings.nav[t.type],a="slide"===t.env?e("#sl_"+t.type+"_styles_fieldset"):e("#sr_"+t.type+"_styles_fieldset"),r="slide"===t.env?e("#form_slide_nav_"+t.type):e("#form_nav_"+t.type+"_style");RVS.SLIDER.settings.nav[t.type].style=void 0===RVS.nav[t.type][RVS.SLIDER.settings.nav[t.type].style]?"arrows"===t.type?1e3:"bullets"===t.type?3e3:"thumbs"===t.type?2e3:4e3:RVS.SLIDER.settings.nav[t.type].style;var s=RVS.nav[t.type][RVS.SLIDER.settings.nav[t.type].style].placeholders,o="slide"===t.env?void 0:RVS.SLIDER.settings.nav[t.type].preset,n=void 0!==o&&"default"!==o&&void 0!==RVS.nav[t.type][RVS.SLIDER.settings.nav[t.type].style].presets[o]?RVS.nav[t.type][RVS.SLIDER.settings.nav[t.type].style].presets[o].values:{},l="slide"===t.env?"sl_"+t.type+"_":"sr_"+t.type+"_",d="slide"===t.env?RVS.S.slideId+".slide.":"settings.",c="slide"===t.env?"slideinput":"sliderinput";for(var S in i.presets=void 0===i.presets?{}:i.presets,a.html(""),s)if(s.hasOwnProperty(S)){var u=s[S],R=void 0!==n[u]?n[u]:u.data,V=!1;switch("default"!==i.preset&&void 0!==i.presets&&void 0!==i.presets[S]?(R=i.presets[S],V=i.presets[S+"-def"]):(i.presets[S]=R,i.presets[S+"-def"]=V),V=y(V)?" checked='checked' ":"",u.type){case"icon":case"custom":var m="";try{e.isNumeric(parseInt(R,0))&&(m=" valueduekeyboard")}catch(e){}var f='<row class="directrow navpresetrow"><onelong><label_a>'+u.title+"</label_a>";"icon"===u.type&&(f+='<div class="input_presets_wrap">'),f+='<input class="presetToCustom'+m+' navstyleinput" data-evt="redrawNavigation" data-evtparam="'+t.type+'" id="'+l+S+'" data-r="'+d+"nav."+t.type+".presets."+S+'" type="text" value="'+R+'"/>',"icon"===u.type&&(f+='<i class="material-icons input_presets_dropdown">more_vertical</i>',f+='<div class="input_presets" data-insertinto="'+l+S+'"><div class="font_icon_subcontainer"><i class="nav_preseticon_pick rs_ne_icon_e817 revicon-left-dir" data-content="\\e817"></i><i class="nav_preseticon_pick rs_ne_icon_e818 revicon-right-dir" data-content="\\e818"></i><i class="nav_preseticon_pick rs_ne_icon_e819 revicon-left-open" data-content="\\e819"></i><i class="nav_preseticon_pick rs_ne_icon_e81a revicon-right-open" data-content="\\e81a"></i><i class="nav_preseticon_pick rs_ne_icon_e820 revicon-angle-left" data-content="\\e820"></i><i class="nav_preseticon_pick rs_ne_icon_e81d revicon-angle-right" data-content="\\e81d"></i><i class="nav_preseticon_pick rs_ne_icon_e81f revicon-left-big" data-content="\\e81f"></i><i class="nav_preseticon_pick rs_ne_icon_e81e revicon-right-big" data-content="\\e81e"></i><i class="nav_preseticon_pick rs_ne_icon_e82a revicon-left-open-1" data-content="\\e82a"></i><i class="nav_preseticon_pick rs_ne_icon_e82b revicon-right-open-1" data-content="\\e82b"></i><i class="nav_preseticon_pick rs_ne_icon_e822 revicon-left-open-mini" data-content="\\e822"></i><i class="nav_preseticon_pick rs_ne_icon_e823 revicon-right-open-mini" data-content="\\e823"></i><i class="nav_preseticon_pick rs_ne_icon_e824 revicon-left-open-big" data-content="\\e824"></i><i class="nav_preseticon_pick rs_ne_icon_e825 revicon-right-open-big" data-content="\\e825"></i><i class="nav_preseticon_pick rs_ne_icon_e836 revicon-left" data-content="\\e836"></i><i class="nav_preseticon_pick rs_ne_icon_e826 revicon-right" data-content="\\e826"></i><i class="nav_preseticon_pick rs_ne_icon_e82e revicon-left-open-outline" data-content="\\e82e"></i><i class="nav_preseticon_pick rs_ne_icon_e82f revicon-right-open-outline" data-content="\\e82f"></i><i class="nav_preseticon_pick rs_ne_icon_e82c revicon-left-open-2" data-content="\\e82c"></i><i class="nav_preseticon_pick rs_ne_icon_e82d revicon-right-open-2" data-content="\\e82d"></i></div></div>',f+="</div>"),f+="</onelong></oneshort><label_icon></label_icon>",f+='<input class="presetToCustom nav_'+t.type+"_custom_defaults "+c+'" data-evt="redrawNavigation" data-evtparam="'+t.type+'" type="checkbox" '+V+' id="'+l+S+'-def" data-r="nav.'+t.type+".presets."+S+'-def"/>',f+="</oneshort></row>",a.append(f);break;case"color":case"color-rgba":R.indexOf(",")>=0&&-1==R.indexOf("(")&&(R=R.split(",").length>3?"rgba("+R+")":"rgb("+R+")");f='<row class="directrow"><onelong><label_a>'+u.title+"</label_a>";f+='<input class="navstyleinput presetToCustom my-color-field" data-evt="redrawNavigation" data-evtparam="'+t.type+'" data-visible="true" data-editing="'+RVS.F.capitalise(t.type)+" "+u.title+'" data-navcolor="1" name="'+S+'" data-evt="redrawNavigation" data-evtparam="'+t.type+'" data-mode="single" id="'+l+S+'" data-r="'+d+"nav."+t.type+".presets."+S+'" type="text" value="'+R+'">',f+="</onelong><oneshort><label_icon></label_icon>",f+='<input class="presetToCustom nav_'+t.type+"_custom_defaults "+c+'" data-evt="redrawNavigation" data-evtparam="'+t.type+'" type="checkbox" '+V+' id="'+l+S+'-def" data-r="nav.'+t.type+".presets."+S+'-def"/>',f+="</oneshort></row>",a.append(f),e("#"+l+S).rsColorPicker({init:p.init,onRefresh:p.onRefresh,onEdit:p.onEdit,change:p.change,cancel:p.cancel})}}for(var h in i.presets){if(i.presets.hasOwnProperty(h))void 0===s[h.replace("-def","")]&&delete i.presets[h]}RVS.F.initOnOff(a),""===a.html()?r.addClass("hide_while_empty"):r.removeClass("hide_while_empty")},RVS.F.updateNavStyleSelection=function(e){u({init:e.init,navobj:RVS.nav[e.type][RVS.SLIDER.settings.nav[e.type].style],type:e.type,presetChange:e.presetChange}),RVS.F.drawNavigation({type:e.type,init:e.init,presetChange:e.presetChange})},RVS.F.drawNavigation=function(s){if(void 0!==s&&0!=RVS.SLIDER.slideIDs.length){var o=RVS.SLIDER.settings.nav[s.type],n=void 0!==s.style?s.style:o.style,l=RVS.nav[s.type][n],d=RVS.SLIDER.slideIDs.length>0?RVS.SLIDER.slideIDs[1]:RVS.SLIDER.slideIDs[0],c=RVS.SLIDER.slideIDs[RVS.SLIDER.slideIDs.length-1];if(void 0!==l&&void 0!==l.markup){var S=RVS.F.sanitize_input(l.name.toLowerCase()),p=void 0!==l.css?R({color:s.color,attribute:s.attribute,type:s.type,handle:n,default:s.default}):"";if("arrows"===s.type){var u,m;t.attr("class","aable markable tparrows tp-leftarrow "+S),i.attr("class","aable markable tparrows tp-rightarrow "+S),u=m=l.markup;var f=V({id:c}),y=V({id:d});u=u.replace("##title##",void 0===RVS.SLIDER[d]?"Title":RVS.SLIDER[d].slide.title),m=m.replace("##title##",void 0===RVS.SLIDER[c]?"Title":RVS.SLIDER[c].slide.title),t.html(p+m),i.html(u),t.find(".tp-arr-imgholder").css(f),t.find(".tp-arr-imgholder").attr("id","arrows_"+c),i.find(".tp-arr-imgholder").css(y),i.find(".tp-arr-imgholder").attr("id","arrows_"+d),RVS.F.dragMe({element:t,input:{x:e("#nav_arrows_left_offsetx"),y:e("#nav_arrows_left_offsety")},updateInput:!0,attributeRoot:"settings.",callEvent:"sliderNavPositionUpdate",callEventParam:"arrows",forms:["*navlayout*#form_nav_arrows:#sr_na_arr_12"]}),RVS.F.dragMe({element:i,input:{x:e("#nav_arrows_right_offsetx"),y:e("#nav_arrows_right_offsety")},updateInput:!0,attributeRoot:"settings.",callEvent:"sliderNavPositionUpdate",callEventParam:"arrows",forms:["*navlayout*#form_nav_arrows:#sr_na_arr_13"]})}else if("bullets"===s.type){a.data("cname",S),a.attr("class","aable markable tp-bullets "+S+" nav-dir-"+o.direction+" nav-pos-ver-"+o.vertical+" nav-pos-hor-"+o.horizontal),a.html(p);for(var h=l.markup,v=0;v<=RVS.SLIDER.slideIDs.length-1;v++){var g=RVS.SLIDER.slideIDs[v],_=h.replace("##title##",RVS.SLIDER[g].slide.title),L=e('<div class="tp-bullet '+(w=0==v?"selected":"")+'">'+_+"</div>");L.find(".tp-bullet-image").css(V({id:g})).attr("id","bullets"+g),a.append(L)}RVS.F.dragMe({element:a,input:{x:e("#nav_bullets_offsetx"),y:e("#nav_bullets_offsety")},updateInput:!0,attributeRoot:"settings.",callEvent:"sliderNavPositionUpdate",callEventParam:"bullets",forms:["*navlayout*form_nav_bullets:#sr_na_bul_11"]})}else if("tabs"===s.type||"thumbs"===s.type){s.presetChange?(o.width=void 0!==l.dim.width?l.dim.width:o.width,o.height=void 0!==l.dim.height?l.dim.height:o.height,e("#nav_"+s.type+"_width").val(o.width),e("#nav_"+s.type+"_height").val(o.height)):punchgs.TweenLite.set(r[s.type].self,{background:window.RSColor.get(o.wrapperColor)}),r[s.type].self.data("cname",S),r[s.type].inner.html(p);for(h=l.markup,v=0;v<=Math.min(o.amount,RVS.SLIDER.slideIDs.length-1);v++){g=RVS.SLIDER.slideIDs[v],_=h.replace("##title##",RVS.SLIDER[g].slide.title);for(var w=0==v?"selected":"",b=0;b<10;b++){var F=void 0!==RVS.SLIDER[g].slide.info.params[b]?RVS.SLIDER[g].slide.info.params[b].val:"";void 0!==F&&F.length>0&&(_=_.replace("##param"+b+"##",F))}var I=e('<div class="'+r[s.type].single+" "+w+'">'+_+"</div>");I.find("."+r[s.type].single+"-image").css(V({id:g})).attr("id",s.type+"_"+g),r[s.type].inner.append(I)}var x="tabs"==s.type?"*navlayout*#form_nav_tabs:#sr_na_tab_11":"*navlayout*#form_nav_thumbs:#sr_na_thumb_11";RVS.F.dragMe({element:r[s.type].self,input:{x:e("#nav_"+s.type+"_offsetx"),y:e("#nav_"+s.type+"_offsety")},updateInput:!0,attributeRoot:"settings.",callEvent:"sliderNavPositionUpdate",callEventParam:s.type,forms:[x]})}}RVS.F.sliderNavPositionUpdate({type:s.type})}},RVS.F.sliderNavPositionUpdate=function(s){var o=RVS.SLIDER.settings.nav[s.type];switch(s.type){case"arrows":o.set&&"hero"!==RVS.SLIDER.settings.type?(t.show(),i.show()):(t.hide(),i.hide());break;case"bullets":o.set&&"hero"!==RVS.SLIDER.settings.type?a.show():a.hide();break;case"tabs":case"thumbs":o.set&&"hero"!==RVS.SLIDER.settings.type?r[s.type].self.show():r[s.type].self.hide()}if(!1===o.set||"hero"===RVS.SLIDER.settings.type)return!1;if("arrows"===s.type)m(t,o.left),m(i,o.right);else if("bullets"===s.type)a.attr("class","aable markable tp-bullets "+a.data("cname")+" nav-dir-"+o.direction+" nav-pos-ver-"+o.vertical+" nav-pos-hor-"+o.horizontal),a.find(".tp-bullet").each(function(t){var i=e(this),r=RVS.SLIDER.slideIDs.length,s=i.outerWidth()+parseInt(void 0===o.space?0:o.space,0),n=i.outerHeight()+parseInt(void 0===o.space?0:o.space,0);"vertical"===o.direction?(i.css({top:t*n+"px",left:"0px"}),a.css({height:(r-1)*n+i.outerHeight(),width:i.outerWidth()})):(i.css({left:t*s+"px",top:"0px"}),a.css({width:(r-1)*s+i.outerWidth(),height:i.outerHeight()}))}),m(a,o);else if("tabs"===s.type||"thumbs"===s.type){var n=Math.min(o.amount,RVS.SLIDER.slideIDs.length),l=parseInt(o.width,0)+parseInt(o.space,0),d=parseInt(o.height,0)+parseInt(o.space,0);r[s.type].self.attr("class","aable markable "+r[s.type].single+"s "+r[s.type].self.data("cname")+" nav-dir-"+o.direction+" nav-pos-ver-"+o.vertical+" nav-pos-hor-"+o.horizontal),punchgs.TweenLite.set(r[s.type].self,{padding:o.padding}),o.padding=parseInt(o.padding,0),r[s.type].inner.find("."+r[s.type].single).each(function(e){"vertical"===o.direction?punchgs.TweenLite.set(this,{top:e*d+"px",left:"0px",width:o.width+"px",height:o.height+"px"}):punchgs.TweenLite.set(this,{left:e*l+"px",top:"0px",width:o.width+"px",height:o.height+"px"})});var c="horizontal"===o.direction?o.width*n+o.space*(n-1):o.width,S="horizontal"===o.direction?o.height:o.height*n+o.space*(n-1),p={width:c+"px",height:S+"px",overwrite:"auto"},u={top:"auto",left:"auto",bottom:"auto",maginTop:"0px",marginBottom:"0px",right:"auto",y:"0%",x:"0px",width:c+"px",height:S+"px",overflow:"hidden",position:"relative",overwrite:"auto",marginLeft:"auto",marginRight:"auto"};if(!0===o.spanWrapper)switch(o.direction){case"horizontal":p.width=RVS.S.ulDIM.width-2*parseInt(o.padding,0)+"px",u.x=o.offsetX,u.marginLeft="center"===o.horizontal?"auto":"0px",u.marginRight="center"===o.horizontal?"auto":"0px","right"===o.horizontal&&(u.right=o.padding+"px",u.position="absolute"),"outer-bottom"===o.innerOuter?RVS.S.navOffset[s.type].bottom=parseInt(o.height,0)+2*o.padding:"outer-top"===o.innerOuter&&(RVS.S.navOffset[s.type].top=parseInt(o.height,0)+2*o.padding);break;case"vertical":p.height=RVS.S.ulDIM.height-2*parseInt(o.padding,0)-65+"px",u.marginTop="bottom"!==o.vertical?o.offsetY+"px":"0px",u.marginBottom="bottom"===o.vertical?-1*o.offsetY+"px":"0px","center"===o.vertical?(u.top="50%",u.y="-50%",u.position="absolute"):"bottom"===o.vertical&&(u.top="auto",u.bottom=o.padding+"px",u.position="absolute"),"outer-left"===o.innerOuter?RVS.S.navOffset[s.type].left=parseInt(o.width,0)+2*o.padding:"outer-right"===o.innerOuter&&(RVS.S.navOffset[s.type].right=parseInt(o.width,0)+2*o.padding)}punchgs.TweenLite.set(r[s.type].self,p),punchgs.TweenLite.set(r[s.type].mask,u),m(r[s.type].self,o)}},RVS.F.saveDeleteNavPreset=function(t){var i=e("#sr_"+t.type+"_style_preset").val(),a=RVS.F.sanitize_input(i),r={},s=RVS.SLIDER.settings.nav[t.type],o=RVS.nav[t.type][s.style],n="save"===t.mode?"create_navigation_preset":"delete_navigation_preset";if(""!==i&&"null"!==i&&null!==i){if("save"===t.mode){for(var l in s.presets)if(s.presets.hasOwnProperty(l)){var d=s.presets[l];if(l.indexOf("-def")>0&&("on"===d||!0===d||"true"===d)){var c=l.replace("-def","");r[c]=s.presets[c],r[l]=!0}}if(e.isEmptyObject(r))return void RVS.F.showErrorMessage(RVS_LANG.no_nav_changes_done)}else"delete"===t.mode&&delete o.presets[a];var S="save"===t.mode?{navigation:s.style,name:i,handle:a,type:t.type,do_overwrite:!0,values:r}:{style_handle:s.style,handle:a,type:t.type};o.presets=void 0===o.presets||""===o.presets?{}:o.presets,"save"===t.mode&&(o.presets[i]={name:i,values:r}),RVS.F.ajaxRequest(n,S,function(e){}),u({init:!1,navobj:o,type:t.type,presetChange:!0}),s.preset="save"===t.mode?a:"default",RVS.F.setNavPresetValues({type:t.type})}else RVS.F.showErrorMessage(RVS_LANG.no_preset_name)},RVS.F.updateSlideBasedNavigationStyle=function(){"hero"!==RVS.F.type&&(RVS.SLIDER.settings.nav.arrows.set&&RVS.F.updatePresetInputs({type:"arrows",env:"slide"}),RVS.SLIDER.settings.nav.bullets.set&&RVS.F.updatePresetInputs({type:"bullets",env:"slide"}),RVS.SLIDER.settings.nav.thumbs.set&&RVS.F.updatePresetInputs({type:"thumbs",env:"slide"}),RVS.SLIDER.settings.nav.tabs.set&&RVS.F.updatePresetInputs({type:"tabs",env:"slide"}))},RVS.F.createNewNavigation=function(e){return{id:"new_"+RVS.nav.currentMaxid,name:"New "+e+" Navigation",css:"",markup:"",dim:{width:160,height:160},placeholders:{},presets:{},type:e,factory:!1,handle:"newnavclass_"+RVS.nav.currentMaxid}},RVS.F.migrateNavigation=function(e){RVS.nav=e}}()}($nwd_jQuery),RVS.LIB.ACTION_WITH_TRGT=[],RVS.LIB.ACTIONTYPES={},function(e){!function(){var t=["X","M","N"];function i(t){if(!t.id)return t.text;var i=t.id.indexOf("static-")>=0,a=t.id.replace("static-",""),r=void 0!==RVS.SLIDER.staticSlideId&&void 0!==RVS.SLIDER[RVS.SLIDER.staticSlideId]?RVS.SLIDER[RVS.SLIDER.staticSlideId].layers:void 0,s="backgroundvideo"===a||"firstvideo"===a?"videocam":i&&void 0!==r?void 0!==r[a]?RVS.F.getLayerIcon(r[a].type):"":void 0!==RVS.L[a]?RVS.F.getLayerIcon(RVS.L[a].type):"";return e('<span><i class="icon_in_dropdown material-icons">'+s+"</i>"+t.text+"</span>")}function a(e){var t=RVS.L[RVS.selLayers[0]].actions.action.length,i=RVS.F.safeExtend(!0,{},RVS.L[RVS.selLayers[0]].actions);i.action.push({action:e,tooltip_event:"click",link_open_in:"_self",link_follow:"nofollow"}),RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+RVS.selLayers[0]+".actions",val:i}),RVS.S.actionIdx=t,RVS.F.buildActionList(),RVS.F.selectLayerAction(),RVS.F.refreshFrameLists(),RVS.F.refreshModalSlides(),RVS.DOC.trigger("layer_action_selected")}RVS.F.initLayerActions=function(){RVS.F.createActionGroup({icon:"link",id:"layeraction_group_link",actions:[{val:"link",inputs:"#la_settings_link"},{val:"callback",inputs:"#la_settings_callback"},{val:"scrollto",inputs:"#la_settings_scroll_to,#la_settings_scroll_under"},{val:"scroll_under",inputs:"#la_settings_scroll_under"}]}),RVS.F.createActionGroup({icon:"code",id:"layeraction_group_slide",actions:[{val:"jumpto",inputs:"#la_settings_jumpto"},{val:"next"},{val:"prev"},{val:"pause"},{val:"resume"},{val:"toggle_slider"},{val:"close_modal"},{val:"open_modal",inputs:"#la_settings_modal"}]}),RVS.F.createActionGroup({icon:"layers",id:"layeraction_group_layer",actions:[{val:"start_in",inputs:"#la_settings_layer_actions, #la_settings_layer_actions_in, #la_settings_childrentimelines",layerTarget:!0},{val:"start_out",inputs:"#la_settings_layer_actions, #la_settings_layer_actions_out, #la_settings_childrentimelines",layerTarget:!0},{val:"start_frame",inputs:"#la_settings_layer_actions, #la_settings_layer_actions_frame, #la_settings_childrentimelines",layerTarget:!0},{val:"next_frame",inputs:"#la_settings_layer_actions, #la_settings_childrentimelines",layerTarget:!0},{val:"prev_frame",inputs:"#la_settings_layer_actions, #la_settings_childrentimelines",layerTarget:!0},{val:"toggle_layer",inputs:"#la_settings_layer_actions, #la_settings_layer_toggle_actions, #la_settings_childrentimelines",layerTarget:!0},{val:"toggle_frames",inputs:"#la_settings_layer_actions, #la_settings_layer_actions_frameXY,  #la_settings_childrentimelines",layerTarget:!0}]}),RVS.F.createActionGroup({icon:"videocam",id:"layeraction_group_media",actions:[{val:"start_video",layerTarget:!0,media:!0},{val:"stop_video",layerTarget:!0,media:!0},{val:"toggle_video",layerTarget:!0,media:!0},{val:"mute_video",layerTarget:!0,media:!0},{val:"unmute_video",layerTarget:!0,media:!0},{val:"toggle_mute_video",layerTarget:!0,media:!0},{val:"toggle_global_mute_video"}]}),RVS.F.createActionGroup({icon:"fullscreen",id:"layeraction_group_fullscreen",actions:[{val:"togglefullscreen"},{val:"gofullscreen"},{val:"exitfullscreen"}]}),RVS.F.createActionGroup({icon:"layers",id:"layeraction_group_layer",actions:[{val:"simulate_click",layerTarget:!0},{val:"toggle_class",inputs:"#la_settings_class",layerTarget:!0}]}),RVS.DOC.trigger("extendLayerActionGroups"),function(){RVS.DOC.on("openLayerActions",RVS.F.openLayerActions);RVS.DOC.on("updatePlayFrameXOnlyOnAction",RVS.F.updatePlayFrameXOnlyOnAction),RVS.DOC.on("click",".drop_dependencies",function(){e("#layer_with_action_wrap").toggleClass("opendeps")}),RVS.DOC.on("click","#rbm_layer_action .rbm_close",function(){for(var t in e("#rbm_layer_action").hasClass("inpickermode")?(e("#rbm_layer_action").removeClass("inpickermode"),e("#layeraction_list").hide(),e("#layer_action_type").show()):(e(".actionDependent").removeClass("actionDependent"),RVS.F.RSDialog.close()),RVS.L)RVS.L.hasOwnProperty(t)&&(RVS.L[t].actions&&RVS.L[t].actions.action.length>0?e("#tllayerlist_element_"+RVS.S.slideId+"_"+RVS.L[t].uid).addClass("actionmarked"):e("#tllayerlist_element_"+RVS.S.slideId+"_"+RVS.L[t].uid).removeClass("actionmarked"));RVS.F.updateAllLayerFrames()}),RVS.DOC.on("click","#addactiontolayer",function(){return a("link"),!1}),RVS.DOC.on("click",".duplicate_single_layer_action",function(){var t=e(this).closest(".single_layer_action"),i=RVS.L[RVS.selLayers[0]].actions.action.length,a=RVS.F.safeExtend(!0,{},RVS.L[RVS.selLayers[0]].actions);return a.action.push(RVS.L[RVS.selLayers[0]].actions.action[t.index()]),RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+RVS.selLayers[0]+".actions",val:a}),RVS.S.actionIdx=i,setTimeout(function(){RVS.F.buildActionList(),RVS.F.selectLayerAction(),RVS.F.refreshFrameLists(),RVS.F.refreshModalSlides()},50),!1}),RVS.DOC.on("click",".delete_single_layer_action",function(){var t=e(this).closest(".single_layer_action"),i=RVS.F.safeExtend(!0,{},RVS.L[RVS.selLayers[0]].actions);return i.action.splice(t.index(),1),RVS.S.actionIdx=0,RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+RVS.selLayers[0]+".actions",val:i}),setTimeout(function(){RVS.F.buildActionList(),RVS.F.selectLayerAction(),RVS.F.refreshFrameLists(),RVS.F.refreshModalSlides(),RVS.DOC.trigger("layer_action_selected")},50),!1}),RVS.DOC.on("click","#layer_action_type",function(){e("#rbm_layer_action").addClass("inpickermode"),e("#layeraction_list").show(),e(this).hide(),e("#layeraction_list .lal_group_member").removeClass("selected"),e("#layeraction_picker_"+RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].action).addClass("selected")}),RVS.DOC.on("click",".lal_group_member",function(){e("#rbm_layer_action").removeClass("inpickermode"),e("#layer_action_type").show(),void 0===RVS.S.actionIdx||void 0===RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx]?(a(this.dataset.val),e("#action_inputs .la_settings").hide(),e(RVS.LIB.ACTIONTYPES[this.dataset.val].inputs).show(),e("#layeraction_list").hide()):(RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+RVS.selLayers[0]+".actions.action."+RVS.S.actionIdx+".action",val:this.dataset.val}),e("#action_inputs .la_settings").hide(),e(RVS.LIB.ACTIONTYPES[this.dataset.val].inputs).show(),e("#layeraction_list").hide(),RVS.F.buildActionList(),RVS.F.selectLayerAction(),RVS.F.refreshFrameLists(),RVS.F.refreshModalSlides()),RVS.DOC.trigger("layer_action_selected")}),RVS.DOC.on("click",".single_layer_action",function(t){RVS.S.actionIdx=e(this).index(),e(".single_layer_action").removeClass("selected"),e(this).addClass("selected"),RVS.F.selectLayerAction(),RVS.F.refreshFrameLists(),RVS.F.refreshModalSlides(),RVS.DOC.trigger("layer_action_selected")}),RVS.DOC.on("click",".lal_group_header",function(){var t=e(this).closest(".lal_group");t.toggleClass("closed")}),RVS.DOC.on("refreshActionView",function(){RVS.F.buildActionList(),RVS.F.selectLayerAction(),RVS.F.refreshFrameLists(),RVS.F.refreshModalSlides()}),RVS.DOC.on("refreshSlideLists",function(){RVS.F.refreshModalSlides(),console.log("update modal slide id also")}),RVS.DOC.on("refreshLayerToggleState",function(){"visible"==e("#toggle_layer_type").val()?RVS.L[RVS.S.actionTrgtLayerId].timeline.frames.frame_1.timeline.actionTriggered=!1:RVS.L[RVS.S.actionTrgtLayerId].timeline.frames.frame_1.timeline.actionTriggered=!0,RVS.F.buildActionList(),RVS.F.selectLayerAction(),RVS.F.refreshFrameLists(),RVS.F.refreshModalSlides()})}()},RVS.F.openLayerActions=function(){RVS.selLayers.length>0?(RVS.S.actionIdx=void 0,e("#no_action_selected").show(),e("#action_inputs, .la_settings").hide(),RVS.F.initActionsOfLayers(),RVS.F.RSDialog.create({modalid:"rbm_layer_action",bgopacity:.5})):RVS.F.showInfo({content:RVS_LANG.noLayersSelected,type:"warning",showdelay:0,hidedelay:3,hideon:"",event:""})},RVS.F.selectLayerAction=function(){if(e(".actionselected").removeClass("actionselected"),void 0===RVS.S.actionIdx||RVS.S.actionIdx<0||0==RVS.L[RVS.selLayers[0]].actions.action.length)return e("#action_inputs, .la_settings").hide(),e("#no_action_selected").show(),!1;if(e("#action_inputs").show(),e(".la_settings, #no_action_selected").hide(),void 0!==RVS.LIB.ACTIONTYPES[RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].action]&&e(RVS.LIB.ACTIONTYPES[RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].action].inputs).show(),void 0!==RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].layer_target&&(RVS.S.actionTrgtLayerId=RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].layer_target||"none"),e.inArray(RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].action,["scroll_under","scrollto"])>=0&&(void 0===RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].action_easing&&(RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].action_easing="Power1.easeInOut"),void 0===RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].action_speed&&(RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].action_speed="1000ms")),"link"===RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].action&&void 0===RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].link_type&&(RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].link_type="a"),RVS.F.updateEasyInputs({container:e("#rbm_layer_action"),path:RVS.S.slideId+".layers."+RVS.selLayers[0]+".",trigger:"init"}),RVS.F.upadteLayerTargetDropDowns({action:RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].action,targetid:RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].layer_target}),RVS.F.updateSlideList({action:RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].action,targetid:RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].jump_to_slide}),RVS.F.updateLinkTypes({action:RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].action,linktype:RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].link_type}),void 0!==RVS.S.actionTrgtLayerId&&RVS.S.actionTrgtLayerId.indexOf("static-")>=0){var t=void 0!==RVS.SLIDER.staticSlideId&&void 0!==RVS.SLIDER[RVS.SLIDER.staticSlideId]?RVS.SLIDER[RVS.SLIDER.staticSlideId].layers:void 0,i=RVS.S.actionTrgtLayerId.replace("static-","");void 0!==t&&void 0!==t[i]&&("toggle_layer"===RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].action&&("visible"===RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].toggle_layer_type?t[i].timeline.frames.frame_1.timeline.actionTriggered=!1:t[i].timeline.frames.frame_1.timeline.actionTriggered=!0,t[i].timeline.frames.frame_999.timeline.actionTriggered=!0),e("#overtake_frame_1_control")[0].checked=t[i].timeline.frames.frame_1.timeline.actionTriggered,e("#overtake_frame_999_control")[0].checked=t[i].timeline.frames.frame_999.timeline.actionTriggered,RVS.F.turnOnOffVisUpdate({input:e("#overtake_frame_1_control")}),RVS.F.turnOnOffVisUpdate({input:e("#overtake_frame_999_control")}),e("#la_triggerMemory").val(t[i].actions.triggerMemory).trigger("change.select2RS"),RVS.F.updatePlayFrameXOnlyOnAction(null,"X"),RVS.F.updatePlayFrameXOnlyOnAction(null,"N"),RVS.F.updatePlayFrameXOnlyOnAction(null,"M"))}else void 0!==RVS.L[RVS.S.actionTrgtLayerId]&&(RVS.H[RVS.S.actionTrgtLayerId].w.addClass("actionselected"),"toggle_layer"===RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].action&&("visible"===RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].toggle_layer_type?RVS.L[RVS.S.actionTrgtLayerId].timeline.frames.frame_1.timeline.actionTriggered=!1:RVS.L[RVS.S.actionTrgtLayerId].timeline.frames.frame_1.timeline.actionTriggered=!0,RVS.L[RVS.S.actionTrgtLayerId].timeline.frames.frame_999.timeline.actionTriggered=!0),e("#overtake_frame_1_control")[0].checked=RVS.L[RVS.S.actionTrgtLayerId].timeline.frames.frame_1.timeline.actionTriggered,e("#overtake_frame_999_control")[0].checked=RVS.L[RVS.S.actionTrgtLayerId].timeline.frames.frame_999.timeline.actionTriggered,RVS.F.turnOnOffVisUpdate({input:e("#overtake_frame_1_control")}),RVS.F.turnOnOffVisUpdate({input:e("#overtake_frame_999_control")}),e("#la_triggerMemory").val(RVS.L[RVS.S.actionTrgtLayerId].actions.triggerMemory).trigger("change.select2RS"),RVS.F.updatePlayFrameXOnlyOnAction(null,"X"),RVS.F.updatePlayFrameXOnlyOnAction(null,"N"),RVS.F.updatePlayFrameXOnlyOnAction(null,"M"));e("#layer_action_fake").html(RVS.LIB.ACTIONTYPES[RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].action].name)},RVS.F.layerFrameTriggered=function(e){var t=parseInt(e.layerid,0);return RVS.L[t].timeline.frames[e.frame].timeline.actionTriggered},RVS.F.layerFrameTriggeredBy=function(e){for(var t=parseInt(e.layerid,0),i=[],a=(""+RVS.S.slideId).indexOf("static")>=0,r=null==e.src&&a?RVS.SLIDER.slideIDs.length-1:-1,s=!1;!s;){var o=void 0===e.src?-1===r?RVS.L:RVS.SLIDER[RVS.SLIDER.slideIDs[r]].layers:e.src;for(var n in o)if(!(void 0===e.all&&i.length>0)&&o.hasOwnProperty(n)&&void 0!==o[n].actions)for(var l in o[n].actions.action)if(!(void 0===e.all&&i.length>0)&&o[n].actions.action.hasOwnProperty(l)&&void 0!==o[n].actions.action[l].layer_target&&(a&&o[n].actions.action[l].layer_target==="static-"+t||a&&RVS.SLIDER.slideIDs[r]===RVS.S.slideId&&parseInt(o[n].actions.action[l].layer_target,0)===parseInt(t,0)||!a&&parseInt(o[n].actions.action[l].layer_target,0)===parseInt(t,0))){var d=o[n].actions.action[l].action;("start_in"!==d||"any"!==e.frame&&"frame_1"!==e.frame)&&("start_out"!==d||"any"!==e.frame&&"frame_999"!==e.frame)&&("toggle_layer"!==d||"any"!==e.frame&&"frame_1"!==e.frame&&"frame_999"!==e.frame)&&("toggle_frames"!==d||"any"!==e.frame&&o[n].actions.action[l].gotoframeM!==e.frame&&o[n].actions.action[l].gotoframeN!==e.frame)&&("start_frame"!==d||"any"!==e.frame&&o[n].actions.action[l].gotoframe!==e.frame)||i.push({icon:RVS.F.getLayerIcon(o[n].type),action:d,uid:parseInt(o[n].uid,0),alias:o[n].alias,slide:void 0===e.src&&-1!==r?RVS.SLIDER.slideIDs[r]:RVS.S.slideId})}s=--r<0}return 0===i.length&&i.push({uid:"",alias:""}),e.all?i:i[0]},RVS.F.updateLayerToggleActionWaits=function(){var e=void 0!==RVS.SLIDER.staticSlideId&&void 0!==RVS.SLIDER[RVS.SLIDER.staticSlideId]?RVS.SLIDER[RVS.SLIDER.staticSlideId].layers:void 0;for(var t in RVS.L)if(RVS.L.hasOwnProperty(t)&&void 0!==RVS.L[t].actions)for(var i in RVS.L[t].actions.action)if(RVS.L[t].actions.action.hasOwnProperty(i)&&void 0!==RVS.L[t].actions.action[i].layer_target&&"toggle_layer"===RVS.L[t].actions.action[i].action){var a=RVS.L[t].actions.action[i].layer_target,r=void 0!==e&&(""+a).indexOf("static-")>=0;if(a=r?a.replace("static-",""):a,r&&void 0!==e[a]||!r&&void 0!==RVS.L[a]){var s=!("visible"===RVS.L[t].actions.action[i].toggle_layer_type);r?(e[a].timeline.frames.frame_1.timeline.actionTriggered=s,e[a].timeline.frames.frame_999.timeline.actionTriggered=!0):(RVS.L[a].timeline.frames.frame_1.timeline.actionTriggered=s,RVS.L[a].timeline.frames.frame_999.timeline.actionTriggered=!0)}}RVS.F.updateAllLayerFrames()},RVS.F.initActionsOfLayers=function(){var t=RVS.L[RVS.selLayers[0]],i=e("#layer_depending_wrap"),a=RVS.F.layerFrameTriggeredBy({all:!0,layerid:RVS.selLayers[0],frame:"any"}),r='<i class="lwa_icon material-icons">'+RVS.F.getLayerIcon(t.type)+'</i><span class="lwa_layername">'+t.alias+"</span>";for(var s in i[0].innerHTML="",e("#layer_with_action_wrap").removeClass("opendeps"),a.length>0&&(r+='<span class="drop_dependencies">'+RVS_LANG.triggeredby+'<i class="material-icons">arrow_drop_up</i></span>'),a)a.hasOwnProperty(s)&&void 0!==a[s].uid&&void 0!==a[s].action&&i.append('<li data-id="'+a[s].uid+'" class="layer_depending_on"><i class="material-icons ldo_icon">'+a[s].icon+'</i><span class="ldo_layername">'+a[s].alias+(a[s].slide!==RVS.S.slideId?" ("+a[s].slide+")":"")+'</span><span class="ldo_actionname">'+RVS_LANG["layeraction_"+a[s].action]+"</span></li>");document.getElementById("add_action_to_layername").innerHTML=t.alias,document.getElementById("layer_with_action").innerHTML=r,RVS.F.updateEasyInputs({container:e("#layer_width_action_inner_wrap"),path:RVS.S.slideId+".layers."+RVS.selLayers[0]+".",trigger:"init"}),RVS.F.buildActionList()},RVS.F.buildActionList=function(){var t,i,a=e("#selected_layer_actions"),r=RVS.L[RVS.selLayers[0]];for(var s in e(".actionDependent").removeClass("actionDependent"),e(".actionselected").removeClass("actionselected"),a[0].innerHTML="",r.actions.action)if(r.actions.action.hasOwnProperty(s)){var o='<li class="single_layer_action '+(s==RVS.S.actionIdx?"selected":"")+'">',n=(t=r.actions.action[s],i=void 0,-1==(i=-1!=e.inArray(t.action,RVS.LIB.ACTION_WITH_TRGT)?parseInt(t.layer_target,0):-1)||isNaN(i)?-1:i);-1!=n?void 0!==RVS.L[n]?(o+='<i class="sla_icon material-icons">'+RVS.F.getLayerIcon(RVS.L[n].type)+'</i><span class="sla_layername">'+RVS.L[n].alias+"</span>",RVS.H[n].w.addClass("actionDependent")):"backgroundvideo"===r.actions.action[s].layer_target||"firstvideo"===r.actions.action[s].layer_target?o+='<i class="sla_icon material-icons">videocam</i><span class="sla_layername">'+RVS_LANG[r.actions.action[s].layer_target]+"</span>":o+='<i class="sla_icon material-icons">error_outline</i><span class="sla_layername">'+RVS_LANG.noLayersSelected+"</span>":void 0!==RVS.LIB.ACTIONTYPES[r.actions.action[s].action]?o+='<i class="sla_icon material-icons">'+RVS.LIB.ACTIONTYPES[r.actions.action[s].action].icon+'</i><span class="sla_layername"></span>':o+='<i class="sla_icon material-icons">extension</i><span class="sla_layername"></span>',void 0!==RVS.LIB.ACTIONTYPES[r.actions.action[s].action]&&void 0!==RVS_LANG["layeraction_"+r.actions.action[s].action]?o+='<span class="sla_actionname">'+RVS_LANG["layeraction_"+r.actions.action[s].action]+"</span>":o+='<span class="sla_actionname">'+r.actions.action[s].action+"</span>",o+='<div class="single_layer_toolbar"><i class="material-icons duplicate_single_layer_action">content_copy</i><i class="material-icons delete_single_layer_action">delete_forever</i></div>',o+="</li>",a.append(o)}0===r.actions.action.length?(e("#layeraction_list").show(),e("#selected_layer_actions").hide(),e("#addactiontolayer").hide()):(e("#layeraction_list").hide(),e("#selected_layer_actions").show(),e("#addactiontolayer").show()),e("#layeraction_list").RSScroll({wheelPropagation:!1,suppressScrollX:!0,minScrollbarLength:100}),e("#layeractions_overview_innerwrap").RSScroll({wheelPropagation:!1,suppressScrollX:!0,minScrollbarLength:100})},RVS.F.refreshModalSlides=function(){if(RVS.L[RVS.selLayers[0]].actions.action.length&&"open_modal"==RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].action&&void 0!==RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].openmodal){var t=function(e){var t=!1;for(var i in RVS.LIB.SLIDERS)if(RVS.LIB.SLIDERS.hasOwnProperty(i)){if(!1!==t)continue;RVS.LIB.SLIDERS[i].alias===e&&(t=RVS.LIB.SLIDERS[i].id)}return t}(RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].openmodal);if(RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].openmodalId=t,!1===t)return;var i="";RVS.F.ajaxRequest("get_slides_by_slider_id",{id:t},function(t){if(t.success){for(var a in t.slides)t.slides.hasOwnProperty(a)&&(i+='<option value="rs-'+t.slides[a].id+'">'+t.slides[a].title+"</option>");var r=e("#la_open_modalslide");r[0].innerHTML=i,void 0!==RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].modalslide&&(r[0].value=RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx].modalslide),r.select2RS({minimumResultsForSearch:"Infinity",placeholder:"Select From List"})}})}},RVS.F.refreshFrameLists=function(){for(var i in t)if(t.hasOwnProperty(i)){if(void 0===RVS.L[RVS.S.actionTrgtLayerId])return;var a="",r=e("#la_gotoframe"+t[i]),s=RVS.L[RVS.S.actionTrgtLayerId].timeline.frameOrder,o=RVS.L[RVS.S.actionTrgtLayerId].timeline.frames;for(var n in a+='<option value="frame_1">'+o.frame_1.alias+" ( "+RVS_LANG.frstframe+")</option>",s)if(s.hasOwnProperty(n)){var l=s[n].id;"frame_0"!==l&&"frame_1"!==l&&"frame_999"!==l&&(a+='<option value="'+l+'">'+o[l].alias+" ("+n+".Frame )</option>")}a+='<option value="frame_999">'+o.frame_999.alias+" ( "+RVS_LANG.lastframe+")</option>",r[0].innerHTML=a,RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx]["gotoframe"+("X"===t[i]?"":t[i])]&&void 0!==o[RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx]["gotoframe"+("X"===t[i]?"":t[i])]]?r[0].value=RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx]["gotoframe"+("X"===t[i]?"":t[i])]:(RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx]["gotoframe"+("X"===t[i]?"":t[i])]="frame_1",r[0].value=RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx]["gotoframe"+("X"===t[i]?"":t[i])]),r.select2RS({minimumResultsForSearch:"Infinity",placeholder:"Select From List"}),RVS.F.updatePlayFrameXOnlyOnAction(null,t[i])}},RVS.F.updatePlayFrameXOnlyOnAction=function(t,i){if(i=void 0===i?"X":"object"==typeof i?i.eventparam:i,void 0!==RVS.L[RVS.S.actionTrgtLayerId]){var a=e("#overtake_frame"+i+"_control"),r=RVS.L[RVS.S.actionTrgtLayerId].timeline.frames,s=RVS.L[RVS.selLayers[0]].actions.action[RVS.S.actionIdx]["gotoframe"+("N"===i||"M"===i?i:"")];s&&void 0!==r[s]&&(a[0].dataset.r="timeline.frames."+s+".timeline.actionTriggered",a[0].checked=RVS.L[RVS.S.actionTrgtLayerId].timeline.frames[s].timeline.actionTriggered,RVS.F.turnOnOffVisUpdate({input:a}))}},RVS.F.upadteLayerTargetDropDowns=function(t){var a=e("#la_layer_target"),r=void 0!==RVS.LIB.ACTIONTYPES[t.action]&&RVS.LIB.ACTIONTYPES[t.action].media;for(var s in a[0].innerHTML="",r&&(a[0].innerHTML+='<option value="backgroundvideo">'+RVS_LANG.backgroundvideo+"</option>",a[0].innerHTML+='<option value="firstvideo">'+RVS_LANG.videoactiveslide+"</option>"),RVS.L)RVS.L.hasOwnProperty(s)&&(void 0===RVS.L[s].type||"zone"===RVS.L[s].type||r&&"video"!==RVS.L[s].type&&"audio"!==RVS.L[s].type||(a[0].innerHTML+='<option value="'+RVS.L[s].uid+'">'+RVS.L[s].alias+"</option>"));if(-1===RVS.S.slideId.indexOf("static_")&&void 0!==RVS.SLIDER.staticSlideId&&void 0!==RVS.SLIDER[RVS.SLIDER.staticSlideId]){a[0].innerHTML+='<optgroup label="'+RVS_LANG.globalLayers+'">';var o=RVS.SLIDER[RVS.SLIDER.staticSlideId].layers;for(var s in o)o.hasOwnProperty(s)&&(void 0===o[s].type||"zone"===o[s].type||r&&"video"!==o[s].type&&"audio"!==o[s].type||(a[0].innerHTML+='<option value="static-'+o[s].uid+'">'+o[s].alias+"</option>"));a[0].innerHTML+="</optgroup>"}a.val(t.targetid).trigger("change.select2RS").select2RS({minimumResultsForSearch:"Infinity",templateResult:i,templateSelection:i}),void 0!==t.targetid&&void 0!==RVS.L[t.targetid]&&(e.inArray(RVS.L[t.targetid].type,["group","row","column"])>=0&&e.inArray(t.action,["start_in","start_out","start_frame","next_frame","prev_frame","toggle_layer","toggle_frames"])>=0?e("#la_settings_childrentimelines").show():e("#la_settings_childrentimelines").hide())},RVS.F.updateLinkTypes=function(t){var i=e("#la_link_type");i[0].innerHTML="",i.append('<option value="jquery">'+RVS_LANG.jquerytriggered+"</option>"),-1==e.inArray(RVS.L[RVS.selLayers[0]].type,["group","column","row"])&&i.append('<option value="a">'+RVS_LANG.atriggered+"</option>"),i.val(t.linktype).trigger("change.select2RS").select2RS({minimumResultsForSearch:"Infinity"})},RVS.F.createActionGroup=function(t){var i=0!==e("#"+t.id).length,a=e(i?"#"+t.id:'<div id="'+t.id+'" class="lal_group"></div>');for(var r in t.title=void 0===RVS_LANG[t.id]?t.title?t.title:t.id:RVS_LANG[t.id],i||a.append('<div class="lal_group_header"><i class="material-icons">'+t.icon+"</i>"+t.title+'<i class="material-icons accordiondrop">arrow_drop_down</i></div>'),t.actions)if(t.actions.hasOwnProperty(r)){var s=t.actions[r];void 0!==s.alias&&(RVS_LANG["layeraction_"+s.val]=s.alias);var o=void 0!==s.title?s.title:void 0===RVS_LANG["layeraction_"+s.val]?s.val:RVS_LANG["layeraction_"+s.val];s.inputs=void 0===s.inputs?"":s.inputs,s.inputs=!0===s.layerTarget?"#la_settings_layertarget"+(s.inputs.length>0?", "+s.inputs:""):s.inputs,a.append('<div data-val="'+s.val+'" id="layeraction_picker_'+s.val+'" data-inputs="'+s.inputs+'" class="lal_group_member" data-val="'+s.val+'"><i class="material-icons">'+t.icon+"</i>"+o+"</div>"),s.layerTarget&&RVS.LIB.ACTION_WITH_TRGT.push(s.val),RVS.LIB.ACTIONTYPES[s.val]={inputs:s.inputs,name:o,icon:t.icon,layerTarget:s.layerTarget,media:s.media}}i||e("#layeraction_list").append(a)},RVS.F.updateSlideList=function(t){var a=e("#la_jump_to_slide"),r='<option value="first">'+RVS_LANG.firstslide+"</option>";for(var s in r+='<option value="last">'+RVS_LANG.lastslide+"</option>",r+='<option value="next">'+RVS_LANG.nextslide+"</option>",r+='<option value="previous">'+RVS_LANG.previousslide+"</option>",RVS.SLIDER.slideIDs)if(RVS.SLIDER.slideIDs.hasOwnProperty(s)){var o=RVS.SLIDER.slideIDs[s]+"";-1===o.indexOf("static_")&&(r+="<option value="+o+">"+RVS.SLIDER[o].slide.title+"</option>")}a[0].innerHTML=r,a.val(t.targetid).trigger("change.select2RS").select2RS({minimumResultsForSearch:"Infinity",templateResult:i,templateSelection:i})}}()}($nwd_jQuery),function(e){!function(){var t,i={},a=[],r={};function s(e,t){for(var i in e=function(e){var t=[];for(var i in RVS.L)RVS.L.hasOwnProperty(i)&&(parseInt(RVS.L[i].group.puid,0)!=parseInt(e,0)&&RVS.L[i].group.puid!==e||t.push({id:RVS.L[i].uid,sort:RVS.L[i].group.groupOrder,zIndex:RVS.L[i].position.zIndex,type:RVS.L[i].type,alias:RVS.L[i].alias}));"top"===e||"bottom"===e||"middle"===e?t.sort(function(e,t){return e.sort-t.sort}):-1===e||"group"===RVS.L[e].type?t.sort(function(e,t){return t.sort-e.sort}):t.sort(function(e,t){return e.sort-t.sort});return t}(t))e.hasOwnProperty(i)&&("zone"!==e[i].type&&"row"!==e[i].type&&"column"!==e[i].type&&"group"!==e[i].type||(e[i].list=s(e,e[i].id)));return e}function o(t,i){var a=RVS.F.getLayerIcon(t.type),r='<div class="layerlist_toolbar"></div><i class="layer_current_visibility material-icons" data-uid="'+t.uid+'">visibility_off</i><i data-uid="'+t.uid+'" class="layer_current_locked material-icons">lock</i>';for(var s in RVS.JHOOKS.createLayerListElement)RVS.JHOOKS.createLayerListElement.hasOwnProperty(s)&&(r=RVS.JHOOKS.createLayerListElement[s]({set:r,layer:t}));r+='<div id="llist_too_iw_'+t.uid+'" class="layerlist_toolbar_icon_wrap">',r+='<i data-layerid="'+t.uid+'" id="slideendmarker_'+RVS.S.slideId+"_"+t.uid+'" class="layerlist_toolbar_icon fclayer_withslideend material-icons">keyboard_tab</i>',r+="</div>";var o="zone"===t.type?"":" not_zone_layer",n='<li id="'+i+"_"+RVS.S.slideId+"_"+t.uid+'" data-puid="'+t.group.puid+'" data-type="'+t.type+'" data-id="'+t.uid+'" class="'+(void 0!==t.actions&&t.actions.action.length>0?"actionmarked ":" ")+i+" layerlist_element "+i+"_"+t.type+" "+t.type+"_"+t.uid+o+'">';return n+='<div class="layerlist_element_innerwrap" data-id="'+t.uid+'">',n+='<div class="context_left">',n+='<div class="layer_has_action"></div>',n+='<div class="layerlist_element_level"><i class="material-icons">arrow_drop_down</i></div>',n+='<div class="layerlist_element_type"><i class="material-icons">'+a+"</i></div>",n+='<div id="layerlist_element_alias_'+RVS.S.slideId+"_"+t.uid+'" class="layerlist_element_alias">'+RVS.F.sanitize_input_ws(t.alias)+"</div>","zone"!==t.type&&(n+='<input class="layerlist_element_alias_input indeplayerinput losefocusonenter" id="layerlist_element_alias_input_'+RVS.S.slideId+"_"+t.uid+'" data-evt="updateLayerAlias" data-sanitize="true" data-cursortoclick="true" data-evtparam="'+t.uid+'" type="text" value="'+RVS.F.sanitize_input(t.alias)+'" data-r="'+t.uid+'.alias"/>'),n+=r,n+="</div>",n+='<div class="stimeline"><div class="slidelooptimemarker"></div>',n+='<div class="fixedscrolltimemarker"></div>',n+='<div class="frameswrap"><div class="frame_unvisible_start" id="frame_unvisible_start_'+RVS.S.slideId+"_"+t.uid+'"></div><framebg data-layerid="'+t.uid+'" data-bg="true" data-layertype="'+t.type+'"></framebg></div>',n+="</div>",n+="</div>",e(n+="</li>")}function n(){e(this).hasClass("collapsed")?this.dataset.wascollapsed=1:e(this).addClass("collapsed")}function l(){1!=this.dataset.wascollapsed&&e(this).removeClass("collapsed"),this.dataset.wascollapsed=0}function d(t){a=[],e(t.container+" ."+t.cIdName).each(function(){null!==this.offsetParent&&a.push({dif:36,y:e(this).offset().top,id:this.dataset.id,type:this.dataset.type,puid:this.dataset.puid})})}function c(e){var t=!1,i=0;if(void 0!==a&&a.length>0){for(;!t&&i<a.length;)e.y>=a[i].y&&e.y<parseInt(a[i].y,0)+parseInt(a[i].dif,0)?t=!0:i++;return i>=a.length&&(i=a.length-1),{found:t,id:a[i].id,puid:a[i].puid,y:a[i].y,cover:e.y-parseInt(a[i].y,0),type:a[i].type}}return!1}function S(){var t=e("#tl_layerList_"+RVS.S.slideId+" .layerlist_element");for(var i in t)if(t.hasOwnProperty(i)&&void 0!==t[i]&&void 0!==t[i].dataset&&void 0!==t[i].dataset.id){var a=e(t[i]).parent().closest(".withchildren");if(a.length>0){t[i].dataset.puid=a.data("id");var r=RVS.F.getDeepVal({path:RVS.S.slideId+".layers."+t[i].dataset.id+".group.puid"});if(RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+t[i].dataset.id+".group.puid",val:t[i].dataset.puid}),r!=t[i].dataset.puid&&-1==e.inArray(t[i].dataset.puid,["top","bottom","middle"])){var s=RVS.F.getLayerChildren({layerid:t[i].dataset.puid});RVS.F.setChildrenTimelines({childLayers:s,difference:0}),RVS.F.backupChildren({childLayers:s})}}else t[i].dataset.puid=-1,RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+t[i].dataset.id+".group.puid",val:-1})}}RVS.F.initLayerListBuilder=function(){RVS.C.rb=void 0===RVS.C.rb?e("#rev_builder"):RVS.C.rb,RVS.DOC.on("click dblclick",".layerselector",function(){var t=e(this);return t.hasClass("checked")?(RVS.F.selectLayers({id:this.dataset.id,overwrite:!1,action:"remove"}),t.removeClass("checked")):(RVS.F.selectLayers({id:this.dataset.id,overwrite:!1,action:"add"}),t.addClass("checked")),!1}),RVS.DOC.on("click",".layerlist_element_innerwrap",function(t){if(!this.dataset.ignore&&"slide_bg_anim_trigger"!==this.id){for(var i in RVS.JHOOKS.layerListElementClicked)RVS.JHOOKS.layerListElementClicked.hasOwnProperty(i)&&RVS.JHOOKS.layerListElementClicked[i](this.dataset.id);var a="FRAMEWRAP"===t.target.nodeName||"FFBEFORE"===t.target.nodeName||"FFAFTER"===t.target.nodeName?t.target.dataset.frame:"FRAMEWRAP"===t.target.parentNode.nodeName?t.target.parentNode.dataset.frame:void 0;return void 0!==a?("animation"===RVS.eMode.mode&&"layer"===RVS.eMode.top||RVS.F.mainMode({mode:"slidelayout",forms:["*slidelayout**mode__slidecontent*#form_layer_animation"],set:!0,uncollapse:!0,slide:RVS.S.slideId}),e("framewrap.selected").removeClass("selected"),"FRAMEWRAP"===t.target.nodeName&&(t.target.className+=" selected"),"FRAMEWRAP"===t.target.parentNode.nodeName&&(t.target.parentNode.className+=" selected"),RVS.F.selectLayers({id:this.dataset.id,overwrite:!0,action:"add"}),RVS.F.setKeyframeSelected(a),"animation"===RVS.eMode.mode&&RVS.F.updateKeyframeSelected(a)):-1==t.target.className.indexOf("layerselector")&&-1==t.target.className.indexOf("layerlist_element_level")&&-1==t.target.className.indexOf("material-icons")&&("animation"===RVS.eMode.mode?void 0!==RVS.L[this.dataset.id]&&(RVS.F.selectLayers({id:this.dataset.id,overwrite:!0,action:"add",selectedKeyFrame:RVS.L[this.dataset.id].timeline.frameToIdle}),RVS.F.updateKeyframeSelected(RVS.L[this.dataset.id].timeline.frameToIdle)):window.cmdctrldown?RVS.F.selectLayers({id:this.dataset.id,overwrite:!1,action:"add"}):RVS.F.selectLayers({id:this.dataset.id,overwrite:!0,action:"add"})),e(".directedit").removeClass("directedit"),!1}}),RVS.DOC.on("click",".layerlist_element_level",function(){return e(document.activeElement).blur(),this.className.indexOf("free_positioned_layers_toggle")>=0?e("#mainLayerListWrap_"+RVS.S.slideId).toggleClass("collapsedfreelayers"):e(this).closest("li").toggleClass("collapsed"),RVS.F.saveCollapsedGroups(),!1}),RVS.DOC.on("click",".layer_allcollaps",function(){return this.className.indexOf("collapsed")>=0?(this.className="layer_allcollaps",e("#tl_layerList_"+RVS.S.slideId+" .tllayerlist_element_group.collapsed").removeClass("collapsed"),e("#tl_layerList_"+RVS.S.slideId+" .tllayerlist_element_row.collapsed").removeClass("collapsed"),e("#tl_layerList_"+RVS.S.slideId+" .tllayerlist_element_column.collapsed").removeClass("collapsed")):(this.className="layer_allcollaps collapsed",e("#tl_layerList_"+RVS.S.slideId+" .tllayerlist_element_group").addClass("collapsed"),e("#tl_layerList_"+RVS.S.slideId+" .tllayerlist_element_row").addClass("collapsed"),e("#tl_layerList_"+RVS.S.slideId+" .tllayerlist_element_column").addClass("collapsed")),RVS.F.saveCollapsedGroups(),RVS.F.layerListScrollable("update"),!1}),RVS.DOC.on("dblclick",".layerlist_element_innerwrap",function(){var t=e(this);t.addClass("directedit"),t.find(".indeplayerinput").focus()}),RVS.DOC.on("click",".indeplayerinput",function(){return!1}),RVS.DOC.on("blur",".indeplayerinput",function(){e(this).closest(".directedit").removeClass("directedit")}),RVS.DOC.on("click dblclick",".fclayer_withslideend",function(){var t=RVS.F.getLayerObjPath({layerid:this.dataset.layerid,frame:"frame_999"}),i=RVS.F.getDeepVal({path:t+"start"}),a=RVS.F.getLayerAliasAndFrame({layerid:this.dataset.layerid,frame:"frame_999"});return i=e(this).hasClass("endswithslide")?parseInt(i,0)-100:10*RVS.F.getSlideLength(),RVS.F.updateSliderObj({path:t+"start",val:i,txt:a+" Start",icon:"access_time"}),RVS.F.updateLayerFrame({layerid:this.dataset.layerid,frame:"frame_999"}),!1}),RVS.DOC.on("click","#timeline_collapser",function(){clearTimeout(window.closeTimeLineTimer),RVS.F.expandCollapseTimeLine(!0,"close")}),e("#tlLayerListWrap").on("mouseenter",function(){window.closeTimeLineTimer=setTimeout(function(){RVS.F.expandCollapseTimeLine(!0,"open")},400)}),e("#tlLayerListWrap").on("mouseleave",function(){clearTimeout(window.closeTimeLineTimer)}),RVS.DOC.on("updateLayerAlias",function(e,t){document.getElementById("layerlist_element_alias_"+RVS.S.slideId+"_"+t).innerHTML=RVS.L[t].alias,"group"===RVS.L[t].type&&(document.getElementById("_group_head_title_"+RVS.S.slideId+"_"+t).innerHTML=RVS.L[t].alias),RVS.selLayers[0]==t&&(document.getElementById("updateLayerSingleAliasInput").value=RVS.L[t].alias)}),RVS.DOC.on("beforeSlideChange",function(e,t){RVS.F.stopAndPauseAllLayerAnimation(),void 0!==i[RVS.S.slideId]&&void 0!==i[RVS.S.slideId].tlLayerList&&i[RVS.S.slideId].tlLayerList.detach()}),RVS.DOC.on("updateScrollBars",function(t,i){RVS.F.layerListScrollable("update"),e("#tlLayerListWrap").trigger("ps-scroll-x"),e("#tlLayerListWrap").trigger("ps-scroll-y")}),RVS.DOC.on("updateSlideTransitionTimeLine",function(){RVS.F.updateSlideFrames()}),e("#timeline").resizable({handles:"n",minHeight:71,maxHeight:600,start:function(t,i){e("#timeline").addClass("inResize")},resize:function(e,t){punchgs.TweenLite.set("#tlLayerListWrap",{height:t.size.height-36+"px"}),punchgs.TweenLite.set("#timeline",{top:"0px"}),RVS.ENV.globVerOffset=t.size.height,RVS.DOC.trigger("updatesliderlayout","layerlist.js-355"),window.timeline_in_resize=!0},stop:function(t,i){e("#timeline").removeClass("inResize"),punchgs.TweenLite.set("#tlLayerListWrap",{height:i.size.height-36+"px"}),RVS.V.timeline_height=i.size.height,RVS.DOC.trigger("updateScrollBars"),window.timeline_in_resize=!1,RVS.F.expandCollapseTimeLine(!0,"open")}}),RVS.F.layerListScrollable("init")},RVS.F.updateZoneZIndexes=function(){punchgs.TweenMax.set(RVS.C.rZone.top,{zIndex:RVS.L.top.position.zIndex}),punchgs.TweenMax.set(RVS.C.rZone.bottom,{zIndex:RVS.L.bottom.position.zIndex}),punchgs.TweenMax.set(RVS.C.rZone.middle,{zIndex:RVS.L.middle.position.zIndex})},RVS.F.buildLayerLists=function(t){RVS.L=RVS.SLIDER[RVS.S.slideId].layers,!0!==r[RVS.S.slideId]&&(r[RVS.S.slideId]=!0,RVS.F.preloadUsedFonts());var a=0;RVS.F.updateColumnBreaksChildren(),void 0===RVS.L.top&&(a=function(e){var t=0;for(var i in RVS.L)RVS.L.hasOwnProperty(i)&&"row"===RVS.L[i].type&&(t=t<RVS.L[i].position.zIndex?RVS.L[i].position.zIndex:t);return parseInt(t)}(),RVS.L.top={uid:"top",group:{puid:-1,groupOrder:a},type:"zone",alias:"TOP ROWS",position:{zIndex:a}},RVS.L.middle={uid:"middle",group:{puid:-1,groupOrder:a},type:"zone",alias:"MID ROWS",position:{zIndex:a}},RVS.L.bottom={uid:"bottom",group:{puid:-1,groupOrder:a},type:"zone",alias:"BOTTOM ROWS",position:{zIndex:a}}),RVS.F.updateZoneZIndexes(),RVS.F.getLlength(),RVS.selLayers=[],i[RVS.S.slideId]=void 0===i[RVS.S.slideId]?{}:i[RVS.S.slideId],(t=void 0===t?{}:t).force||void 0===i[RVS.S.slideId].tlLayerList?RVS.F.reDrawListElements():void 0!==i[RVS.S.slideId].tlLayerList&&e("#tlLayerListWrap").append(i[RVS.S.slideId].tlLayerList),RVS.F.layerListScrollable("update"),t.ignoreRebuildHTML||RVS.F.buildHTMLLayers(),RVS.F.selectLayers()},RVS.F.getLlength=function(){for(var e in RVS.V.Llength=0,RVS.L)RVS.L.hasOwnProperty(e)&&RVS.V.Llength++},RVS.F.clearCache=function(e){if(null!=e&&void 0!==e.slides)for(var t in e.slides)e.slides.hasOwnProperty(t)&&void 0!==i&&void 0!==i[e.slides[t]]&&void 0!==i[e.slides[t]].tlLayerList&&(i[e.slides[t]].tlLayerList.remove(),i[e.slides[t]]=void 0)},RVS.F.getLayerChildren=function(t){var i=void 0===t.kids?{}:t.kids;for(var a in RVS.L)if(RVS.L.hasOwnProperty(a)&&RVS.L[a].group.puid==t.layerid){for(var r in i[RVS.L[a].uid]={type:RVS.L[a].type,frames:{}},RVS.L[a].timeline.frames)RVS.L[a].timeline.frames.hasOwnProperty(r)&&(i[RVS.L[a].uid].frames[r]=RVS.L[a].timeline.frames[r].timeline.start);e.inArray(RVS.L[a].type,["column","row","group"])>=0&&(i=RVS.F.getLayerChildren({layerid:RVS.L[a].uid,kids:i}))}return i},RVS.F.getVisibleLayersInList=function(){var t=0;for(var i in RVS.L)RVS.L.hasOwnProperty(i)&&(-1===RVS.L[i].group.puid?t++:(-1!==RVS.L[RVS.L[i].group.puid].group.puid||e("#tllayerlist_element_"+RVS.S.slideId+"_"+RVS.L[i].group.puid).hasClass("collapsed"))&&(-1===RVS.L[RVS.L[i].group.puid].group.puid||e("#tllayerlist_element_"+RVS.S.slideId+"_"+RVS.L[RVS.L[i].group.puid].group.puid).hasClass("collapsed"))||t++);return t},RVS.F.expandCollapseTimeLine=function(i,a){var r,s;window.timeline_in_resize||(r=s=e("#timeline").height(),i&&((r=r<=76&&"close"!==a||"open"===a?"auto"===RVS.V.timeline_height?Math.max(RVS.V.timeline_minOpenHeight,window.innerHeight-RVS.S.ulDIM.height):RVS.V.timeline_height:76)!==s?punchgs.TweenLite.to(e("#timeline"),.3,{height:r,ease:punchgs.Power3.easeOut,onUpdate:function(){RVS.ENV.globVerOffset=e("#timeline").height(),RVS.DOC.trigger("updatesliderlayout","layerlist.js-142")}}):RVS.ENV.globVerOffset=r,punchgs.TweenLite.to(e("#tlLayerListWrap"),.3,{height:r-36,ease:punchgs.Power3.easeOut}),setTimeout(function(){RVS.DOC.trigger("updateScrollBars")},350)),r>76?e("#timeline_collapser").show():e("#timeline_collapser").hide(),t!==r&&setTimeout(function(){RVS.ENV.globVerOffset=r,RVS.DOC.trigger("updatesliderlayout","layerlist.js-157"),punchgs.TweenLite.set(RVS.C.rb.find(".rs__scrollbar-x").first(),{bottom:r+5+"px",top:"auto"})},350),t=r)},RVS.F.getLayerOrder=function(){return s([],-1)},RVS.F.getLayerBeforeZIndex=function(e){var t,i,a=s([],RVS.L[e].group.puid);switch(RVS.L[e].type){case"row":case"column":for(i in a)a.hasOwnProperty(i)&&a[i].sort<RVS.L[e].group.groupOrder&&(void 0===t||a[i].sort>RVS.L[t].group.groupOrder)&&(t=a[i].id);break;default:for(i in a)a.hasOwnProperty(i)&&a[i].zIndex>RVS.L[e].position.zIndex&&(void 0===t||a[i].zIndex<RVS.L[t].position.zIndex)&&(t=a[i].id)}return t},RVS.F.getLayerAfterZIndex=function(e){var t,i,a=s([],RVS.L[e].group.puid);switch(RVS.L[e].type){case"row":case"column":for(i in a)a.hasOwnProperty(i)&&a[i].sort>RVS.L[e].group.groupOrder&&(void 0===t||a[i].sort<RVS.L[t].group.groupOrder)&&(t=a[i].id);break;default:for(i in a)a.hasOwnProperty(i)&&a[i].zIndex<RVS.L[e].position.zIndex&&(void 0===t||a[i].zIndex>RVS.L[t].position.zIndex)&&(t=a[i].id)}return t},RVS.F.updateCoveredTimelines=function(){var t=e("#timeline").offset().left;RVS.TL.ct.offset().left-t<290?RVS.TL.ct.addClass("covered"):RVS.TL.ct.removeClass("covered"),RVS.TL.mt.offset().left-t<290?RVS.TL.mt.addClass("covered"):RVS.TL.mt.removeClass("covered"),RVS.SLIDER[RVS.S.slideId].slide.timeline.loop.set&&(RVS.TL.slte.offset().left-t<290?RVS.TL.slte.addClass("covered"):RVS.TL.slte.removeClass("covered"),RVS.TL.slts.offset().left-t<290?RVS.TL.slts.addClass("covered"):RVS.TL.slts.removeClass("covered"))},RVS.F.layerListScrollable=function(i){if(void 0===i||"init"===i)RVS.TL._scrollLeft=0,e("#tlLayerListWrap").RSScroll({wheelPropagation:!0,suppressScrollX:!1,minScrollbarLength:30}).on("ps-scroll-y",function(){d({container:"#tl_layerList_"+RVS.S.slideId,cIdName:"tllayerlist_element"})}).on("ps-scroll-x",function(){RVS.TL._scrollLeft=this.scrollLeft,punchgs.TweenLite.set([e("#tlLayerListWrap .context_left"),"#the_st_cl","#hovertime",".timeline_left_container"],{x:this.scrollLeft}),punchgs.TweenLite.set(["#timeline_top_toolbar"],{x:0-this.scrollLeft}),RVS.F.updateHoverTime({pos:!1,cont:!0}),RVS.F.updateCoveredTimelines()});else{if("scrollToSelected"===i){var a=e(".tllayerlist_element.checked").first().length>0?e(".tllayerlist_element.checked").first().offset().top:0;t=void 0===t?e("#timeline").height():t,a>RVS.S.winh-t&&a+50<RVS.S.winh||e("#tlLayerListWrap").scrollTop(e("#tlLayerListWrap").scrollTop()-(RVS.S.winh-t+40-a)).RSScroll("update")}"update"===i&&e("#tlLayerListWrap").RSScroll("update")}},RVS.F.saveCollapsedGroups=function(){RVS.SLIDER[RVS.S.slideId].slide.runtime=void 0===RVS.SLIDER[RVS.S.slideId].slide.runtime?{}:RVS.SLIDER[RVS.S.slideId].slide.runtime,RVS.SLIDER[RVS.S.slideId].slide.runtime.collapsedGroups=[];var e=document.getElementsByClassName("withchildren collapsed");for(var t in e)e.hasOwnProperty(t)&&void 0!==e[t].id&&RVS.SLIDER[RVS.S.slideId].slide.runtime.collapsedGroups.push(e[t].id)},RVS.F.updateCollapsedGroups=function(){for(var e=0;e<=RVS.SLIDER[RVS.S.slideId].slide.runtime.collapsedGroups.length-1;e++)if(void 0!==RVS.SLIDER[RVS.S.slideId].slide.runtime.collapsedGroups[e]){var t=document.getElementById(RVS.SLIDER[RVS.S.slideId].slide.runtime.collapsedGroups[e]);null!=t&&(t.className+=" collapsed")}},RVS.F.reDrawListElements=function(){void 0!==RVS.SLIDER[RVS.S.slideId].slide.runtime&&void 0!==RVS.SLIDER[RVS.S.slideId].slide.runtime.collapsedGroups&&RVS.F.updateCollapsedGroups(),e("#tl_layerList_"+RVS.S.slideId).hide();var t,r=s([],-1);void 0===i[RVS.S.slideId].tlLayerList||0==e("#tlLayerListWrap").find(".layerListContainer").length?e("#tlLayerListWrap").append('<ul class="layerListContainer" id="tl_layerList_'+RVS.S.slideId+'"></ul>'):(t={container:"#tl_layerList_"+RVS.S.slideId,cIdName:"tllayerlist_element"},e(t.container+" ."+t.cIdName).each(function(){e(this).data("uiDraggable")&&e(this).draggable("destroy")}),document.getElementById("tl_layerList_"+RVS.S.slideId).innerHTML=""),i[RVS.S.slideId].tlLayerList=e("#tl_layerList_"+RVS.S.slideId),function e(t){for(var i in t.list)if(t.list.hasOwnProperty(i)){var a=t.list[i],r=o(RVS.L[a.id],t.cIdName);"zone"!==a.type&&"group"!==a.type&&"row"!==a.type&&"column"!==a.type||(r.addClass("withchildren"),r.append("<ul></ul>"),0===a.list.length&&r.data("status","empty"),e({list:a.list,container:r.find("ul"),showEmpty:!1,cIdName:t.cIdName})),"tllayerlist_element"===t.cIdName&&"top"!==a.id&&"middle"!==a.id&&"bottom"!==a.id&&RVS.F.addLayerFrames(RVS.L[a.id],r),t.container.append(r)}t.showEmpty&&0===t.list.length&&t.container.append('<li class="'+t.cIdName+' nolayeravailable"><div class="context_left"><div class="layerlist_element_type"><i class="material-icons">not_interested</i></div><div class="layerlist_element_alias">No Layer Available</div></div></li>')}({list:r,container:i[RVS.S.slideId].tlLayerList,showEmpty:!0,cIdName:"tllayerlist_element"}),function(t){t.length>0?e(".layerlist_element.nolayeravailable").hide():e(".layerlist_element.nolayeravailable").show()}(r),function(t){var r,s,o,S,p=0;e(t.container+" ."+t.cIdName).draggable({helper:"clone",opacity:.5,axis:"y",start:function(a,l){"zone"!=this.dataset.type?("row"===this.dataset.type&&e("#timeline").addClass("layer_in_drag"),l.helper.width(i[RVS.S.slideId][t.cacheSub].width()),o=e(t.container).closest(".ps"),r=o.height(),"column"===this.dataset.type&&e("#"+t.cIdName+"_"+RVS.S.slideId+"_"+this.dataset.puid).find("."+t.cIdName+"_column").each(n),"row"===this.dataset.type&&e("."+t.cIdName+"_row").each(n),o.length>0&&o.hasClass("ps--active-y")&&RVS.F.layerListScrollable("update"),setTimeout(function(){d(t)},50),S=setInterval(function(){o.length>0&&o.hasClass("ps--active-y")&&(s=i[RVS.S.slideId][t.cacheSub].offset().top,p<s+o[0].scrollTop+20&&o[0].scrollTop>0?(o[0].scrollTop--,d(t)):p>parseInt(s,0)+parseInt(r,0)+o[0].scrollTop-20&&o[0].scrollTop<r&&(o[0].scrollTop++,d(t)))},5)):e(this).draggable("disable")},drag:function(r,s){if("zone"!=this.dataset.type){var o=c({y:r.pageY});if(p=r.pageY,!1!==o&&(e("."+t.cIdName).removeClass("beforeitemdrop").removeClass("afteritemdrop").removeClass("incolumntopdrop").removeClass("incolumndrop").removeClass("afterzonedrop"),i[RVS.S.slideId][t.cacheSub].removeClass("sortToTheEnd"),r.pageY<a[1].y||!0===o.found)){var n="";switch(o.cover=o.cover<-18?0:o.cover,this.dataset.type){case"row":-1===o.puid&&e("#"+t.cIdName+"_"+RVS.S.slideId+"_"+o.id).addClass("incolumndrop"),"top"!==o.puid&&"bottom"!==o.puid&&"middle"!==o.puid||(n=o.cover<18?"beforeitemdrop":"afteritemdrop"),"top"!==o.id&&"bottom"!==o.id&&"middle"!==o.id||(n=o.cover<18&&"top"!==o.id?"beforeitemdrop":"afteritemdrop");break;case"group":n=o.cover<18?"beforeitemdrop":"afteritemdrop";break;case"column":e("#"+t.cIdName+"_"+RVS.S.slideId+"_"+this.dataset.puid).addClass("incolumndrop"),o.puid===this.dataset.puid&&(n=o.cover<18?"beforeitemdrop":"afteritemdrop");break;default:"zone"!==o.type&&"row"!==o.type?(-1!==o.puid&&"zone"!==o.type&&"column"!==o.type&&"row"!==o.type&&"group"!==o.type&&e("#"+t.cIdName+"_"+RVS.S.slideId+"_"+o.puid).addClass("incolumndrop"),n=o.cover<18?"column"!==o.type?"beforeitemdrop":"afteritemdrop incolumntopdrop":"row"!==o.type&&"column"!==o.type&&"group"!==o.type?"afteritemdrop":"column"===o.type||"group"===o.type?"incolumntopdrop":n):(o.cover<18&&"zone"===o.type&&"top"===o.id&&(n="beforeitemdrop"),"zone"===o.type&&"bottom"===o.id&&(n="afterzonedrop"))}e("#"+t.cIdName+"_"+RVS.S.slideId+"_"+o.id).addClass(n)}}},stop:function(r,s){if("zone"!=this.dataset.type){e("#timeline").removeClass("layer_in_drag"),clearInterval(S),e("."+t.cIdName).removeClass("beforeitemdrop").removeClass("afteritemdrop").removeClass("incolumntopdrop").removeClass("incolumndrop"),i[RVS.S.slideId][t.cacheSub].removeClass("sortToTheEnd"),"column"===this.dataset.type&&e("#"+t.cIdName+"_"+RVS.S.slideId+"_"+this.dataset.puid).find("."+t.cIdName+"_column").each(l),"row"===this.dataset.type&&e("."+t.cIdName+"_row").each(l);var o,n=c({y:r.pageY});if(!1!==n){if(r.pageY<a[1].y||!0===n.found){o="";switch(this.dataset.type){case"row":"top"!==n.puid&&"bottom"!==n.puid&&"middle"!==n.puid||(o=n.cover<18?"before":"after"),n.cover>=18&&("top"===n.id||"bottom"===n.id||"middle"===n.id)&&(o="zone"),n.cover<18&&"middle"===n.id&&(n.id="top",o="zonebottom"),n.cover<18&&"bottom"===n.id&&(n.id="middle",o="zonebottom");break;case"group":o=n.cover<18?"before":"after";break;case"column":n.puid===this.dataset.puid&&(o=n.cover<18?"before":"after");break;default:o=n.cover<18&&"column"!==n.type&&"row"!==n.type&&("zone"!==n.type||"top"===n.id)?"before":n.cover<18&&"column"===n.type?"column":n.cover>17&&"row"!==n.type&&"column"!==n.type&&"group"!==n.type&&"zone"!==n.type?"after":n.cover>17&&"column"===n.type?"column":n.cover>17&&"group"===n.type&&-1==n.puid?"group":-1!=n.puid&&"bottom"!==n.puid||"zone"!==n.type?o:"after"}}else switch(this.dataset.type){case"row":case"column":break;default:o="after",n.id=function(e){var t,i=0;for(var a in e)e.hasOwnProperty(a)&&e[a].y>=i&&(t=e[a],i=e[a].y);return t}(a).id}""!==o&&RVS.F.sortLayer({layer:this.dataset.id,target:o,env:n.id})}}},revert:"true"})}({container:"#tl_layerList_"+RVS.S.slideId,cacheSub:"tlLayerList",cIdName:"tllayerlist_element"}),e("#tl_layerList_"+RVS.S.slideId).show(),RVS.F.updateCollapsedGroups()},RVS.F.getLayerIcon=function(e){return"zone"===e?"storage":"shape"===e?"crop_landscape":"image"===e?"filter_hdr":"video"===e?"live_tv":"audio"===e?"audiotrack":"button"===e?"radio_button_checked":"column"===e?"view_column":"group"===e?"format_shapes":"row"===e?"reorder":"object"===e?"filter_drama":"title"},RVS.F.sortLayerStepOne=function(t){if(t.env!==t.layer){var i="#tllayerlist_element_"+RVS.S.slideId+"_",a=e(i+t.layer);switch(t.target){case"after":"group"==RVS.L[t.layer].type&&-1!==RVS.L[t.env].group.puid&&(t.env=RVS.L[t.env].group.puid),"row"!==RVS.L[t.layer].type&&"row"===RVS.L[t.env].type?a.appendTo("#tl_layerList_"+RVS.S.slideId):a.insertAfter(i+t.env);break;case"before":"group"==RVS.L[t.layer].type&&-1!==RVS.L[t.env].group.puid&&(t.env=RVS.L[t.env].group.puid),"row"!==RVS.L[t.layer].type&&"row"===RVS.L[t.env].type?a.appendTo("#tl_layerList_"+RVS.S.slideId):a.insertBefore(i+t.env);break;case"zone":RVS.L[t.env].group.puid!==t.env&&a.prependTo(i+t.env+">ul");break;case"zonebottom":"row"==RVS.L[t.layer].type?RVS.L[t.env].group.puid!==t.env&&a.appendTo(i+t.env+">ul"):a.appendTo("#tl_layerList_"+RVS.S.slideId);break;case"group":case"column":a.prependTo(i+t.env+" ul");break;case"columnend":a.appendTo(i+t.env+" ul");break;case"veryend":"row"==RVS.L[t.layer].type?a.appendTo(i+"bottom>ul"):a.appendTo("#tl_layerList_"+RVS.S.slideId)}}},RVS.F.sortLayerStepTwo=function(e){if("column"===e.dropto&&(RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+e.layer+".position.x.#size#.v",val:0}),RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+e.layer+".position.y.#size#.v",val:0}),RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+e.layer+".position.horizontal.#size#.v",val:"left"}),RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+e.layer+".position.vertical.#size#.v",val:"top"})),void 0!==e.resetPosition&&("group"===e.dropto||"root"===e.dropto)){var t=e.resetPosition.x-RVS.H[e.layer].w_offsetcache.horizontal,i=e.resetPosition.y-RVS.H[e.layer].w_offsetcache.vertical;RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+e.layer+".position.x.#size#.v",val:t}),RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+e.layer+".position.y.#size#.v",val:i}),RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+e.layer+".position.horizontal.#size#.v",val:"left"}),RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+e.layer+".position.vertical.#size#.v",val:"top"})}},RVS.F.sortAllSelectedLayers=function(e){var t,i=RVS.F.safeExtend({},e),a=RVS.selLayers.length-1;for(t in RVS.selLayers)RVS.selLayers.hasOwnProperty(t)&&(i.layer=RVS.selLayers[a-t],"row"!==RVS.L[i.layer].type&&"column"!==RVS.L[i.layer].type&&"group"!==RVS.L[i.layer].type&&RVS.F.sortLayerStepOne(i));for(t in RVS.selLayers)RVS.selLayers.hasOwnProperty(t)&&(i.layer=RVS.selLayers[a-t],i.positionoffset=t,"row"!==RVS.L[i.layer].type&&"column"!==RVS.L[i.layer].type&&"group"!==RVS.L[i.layer].type&&RVS.F.sortLayerStepTwo(i));S(),RVS.F.updateZIndexTable(),RVS.F.reOrderHTMLLayers()},RVS.F.sortLayer=function(t){RVS.F.sortLayerStepOne(t),setTimeout(function(){RVS.F.openBackupGroup({id:"layersorting",txt:"Layer Sorting",icon:"sort_by_alpha"}),RVS.F.sortLayerStepTwo(t),S(),RVS.F.updateZIndexTable(),RVS.F.closeBackupGroup({id:"layersorting"}),RVS.F.reOrderHTMLLayers(),t.redraw&&RVS.F.updateSelectedHtmlLayers(!0),RVS.F.updateEasyInputs({container:e(".layer_settings_collector"),path:RVS.S.slideId+".layers.",trigger:"init",multiselection:!0})},50)},RVS.F.updateZIndexTable=function(){var t=e("#tl_layerList_"+RVS.S.slideId+" .layerlist_element"),i=t.length+5,a=0,r=0,s={};for(var o in t)if(t.hasOwnProperty(o)&&void 0!==t[o]&&void 0!==t[o].dataset&&void 0!==t[o].dataset.id){0;var n=RVS.L[t[o].dataset.id].group.puid;-1===n||"group"===RVS.L[n].type?i--:a++,r=-1===n||"group"===RVS.L[n].type?i:a,s[n]=void 0===s[n]?0:s[n],RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+t[o].dataset.id+".position.zIndex",val:r}),-1!==n&&"group"!==RVS.L[n].type?(RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+t[o].dataset.id+".group.groupOrder",val:s[n]}),s[n]++):(0,RVS.F.updateSliderObj({path:RVS.S.slideId+".layers."+t[o].dataset.id+".group.groupOrder",val:r})),"zone"!==RVS.L[t[o].dataset.id].type&&punchgs.TweenLite.set(RVS.H[t[o].dataset.id].w,{zIndex:r})}RVS.F.updateZoneZIndexes()}}()}($nwd_jQuery),function(e){!function(){var t,i,a,r,s='<div class="the_layers_in_slide" id="the_layers_in_slide_###">';function o(t){var i=e("#slide_list_element_"+t.id);t.openclose?i.hasClass("opened_slidetab")?i.removeClass("opened_slidetab"):(e(".slide_list_element.sortable_slide_list_element").removeClass("opened_slidetab"),i.addClass("opened_slidetab"),RVS.S.slideId!==t.id&&RVS.F.setSlideFocus({slideid:t.id})):RVS.S.slideId!==t.id&&RVS.F.setSlideFocus({slideid:t.id}),"mode__slidelayout"!==RVS.S.vWmode&&RVS.F.mainMode({mode:"slidelayout",set:!1}),RVS.F.showHideLayerEditor({mode:"slidelayout"})}function n(e){!1!==i.hovered&&!0!==e.force||(punchgs.TweenLite.set(i.done,{width:e.left}),e.auto&&punchgs.TweenLite.set(i.pin,{left:e.left}))}function l(e){e=void 0===e?{id:RVS.S.slideId,target:["#admin_purpose_thumbnail, #slide_list_element_"+RVS.S.slideId+" .sle_thumb"],default:!0}:e;var t=RVS.SLIDER[e.id].slide.thumb.customAdminThumbSrc,i=RVS.SLIDER[e.id].slide.thumb.customThumbSrc;null===t||null==t||void 0===t||t.length<3?punchgs.TweenLite.set(e.target,RVS.F.getSlideBGDrawObj(e)):punchgs.TweenLite.set(e.target,{"background-size":"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundImage:"url("+t+")"}),e.default&&(void 0===i||i.length<3||"/"===i[i.length-1]?punchgs.TweenLite.set(["#navigation_purpose_thumbnail","#thumbs_"+e.id,"#tabs_"+e.id,"#bullets_"+e.id,"#arrow_"+e.id],RVS.F.getSlideBGDrawObj()):punchgs.TweenLite.set(["#navigation_purpose_thumbnail","#thumbs_"+e.id,"#tabs_"+e.id,"#bullets_"+e.id,"#arrow_"+e.id],{"background-size":"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundImage:"url("+i+")"}))}function d(){var t={},i=1;for(var a in RVS.SLIDER.slideIDs)RVS.SLIDER.slideIDs.hasOwnProperty(a)&&(t[RVS.SLIDER.slideIDs[a]]=i,!e.isNumeric(RVS.SLIDER.slideIDs[a])&&-1!=RVS.SLIDER.slideIDs[a].indexOf("static")||void 0===RVS.SLIDER[RVS.SLIDER.slideIDs[a]]||void 0===RVS.SLIDER[RVS.SLIDER.slideIDs[a]].slide||void 0===RVS.SLIDER[RVS.SLIDER.slideIDs[a]].slide.child||null!=RVS.SLIDER[RVS.SLIDER.slideIDs[a]].slide.child.parentId&&""!=RVS.SLIDER[RVS.SLIDER.slideIDs[a]].slide.child.parentId||i++);for(var a in t)if(t.hasOwnProperty(a)){var r=document.getElementById("slide_list_element_title_index_"+a);null!=r&&(r.innerHTML="#"+t[a]+" ")}}function c(t){return"object"!=typeof t||e.isArray(t)||(void 0===t[0]||"string"!=typeof t[0]&&"number"!=typeof t[0])&&(void 0===t[1]||"string"!=typeof t[1]&&"number"!=typeof t[1])||(t=Object.values(t)),t}function S(t){return e.isArray(t)&&"object"!=typeof t[0]?t:"object"==typeof t[0]?Object.values(t[0]):[t]}function p(e){RVS.F.openBackupGroup({id:"slidetransitionarrays",txt:e.txt,icon:e.icon}),RVS.F.updateSliderObj({path:RVS.S.slideId+".slide.timeline.transition",val:e.transition}),RVS.F.updateSliderObj({path:RVS.S.slideId+".slide.timeline.duration",val:e.duration}),RVS.F.updateSliderObj({path:RVS.S.slideId+".slide.timeline.easeIn",val:e.easeIn}),RVS.F.updateSliderObj({path:RVS.S.slideId+".slide.timeline.easeOut",val:e.easeOut}),RVS.F.updateSliderObj({path:RVS.S.slideId+".slide.timeline.rotation",val:e.rotation}),RVS.F.updateSliderObj({path:RVS.S.slideId+".slide.timeline.slots",val:e.slots}),RVS.F.closeBackupGroup({id:"slidetransitionarrays"})}function u(i){i.selected&&e(".dark_btn.added_slide_transition.selected").removeClass("selected");var a=function(e){var t;for(var i in RVS.LIB.SLIDEANIMS)if(RVS.LIB.SLIDEANIMS.hasOwnProperty(i)){if(t)break;for(var a in RVS.LIB.SLIDEANIMS[i])if(RVS.LIB.SLIDEANIMS[i].hasOwnProperty(a)&&!t&&a===e){t={alias:RVS.LIB.SLIDEANIMS[i][a],group:i};break}}return t}(i.handle);if(void 0!==window.replaceSlideAnimation?(window.replaceSlideAnimationIndex=window.replaceSlideAnimation.index(),e('<li data-slotable="" data-rotatable="" data-handle="'+i.handle+'" data-alias="'+a.alias+'" class="'+(i.selected?"selected":"")+" dark_btn added_slide_transition "+a.group+'">'+a.alias+'<i class="transition-replace material-icons">settings</i><i class="transition-remove right-divided-icon material-icons">close</i></li>').insertAfter(window.replaceSlideAnimation),window.replaceSlideAnimation.remove(),delete window.replaceSlideAnimation):t.append('<li data-slotable="" data-rotatable="" data-handle="'+i.handle+'" data-alias="'+a.alias+'" class="'+(i.selected?"selected":"")+" dark_btn added_slide_transition "+a.group+'">'+a.alias+'<i class="transition-replace material-icons">settings</i><i class="transition-remove right-divided-icon material-icons">close</i></li>'),i.create){var r=RVS.F.safeExtend(!0,{},RVS.SLIDER[RVS.S.slideId].slide.timeline);void 0!==window.replaceSlideAnimationIndex?(r.transition[window.replaceSlideAnimationIndex]=i.handle,r.duration[window.replaceSlideAnimationIndex]="default",r.easeIn[window.replaceSlideAnimationIndex]="default",r.easeOut[window.replaceSlideAnimationIndex]="default",r.rotation[window.replaceSlideAnimationIndex]="default",r.slots[window.replaceSlideAnimationIndex]="default",delete window.replaceSlideAnimationIndex):(r.transition.push(i.handle),r.duration.push("default"),r.easeIn.push("default"),r.easeOut.push("default"),r.rotation.push("default"),r.slots.push("default")),r.txt="Add Active Slide Transition",r.icon="add_circle",p(r)}i.selected&&(RVS.S.slideTrans=e(".dark_btn.added_slide_transition.selected").index(),RVS.F.updateEasyInputs({container:e("#active_transitions_settings"),path:RVS.S.slideId+".slide.",trigger:"init"}),e("#cur_transition_sub_settings").html(a.alias+" Settings"))}function R(){var t=e(".transgroup.selected").data("group");e(".inner_transitions").hide(),e(".inner_transitions."+t).show()}function V(e,t){RVS.C.slide.find(".slots_wrapper").attr("class","slots_wrapper "+t)}function m(t,i,a){var r=!1;if(void 0!==i?window.lastColorEditjObj=e(i):(void 0!==window.lastColorEditjObj&&(a=window.RSColor.get(window.lastColorEditjObj.val())),r=!0),void 0!==a)switch(window.lastColorEditjObj[0].name){case"slide_bg_color":r?RVS.F.redrawSlideBG():punchgs.TweenLite.set(RVS.C.slide.find(".slotwrapper_cur .defaultimg"),{background:a})}}function f(){RVS.SLIDER[RVS.S.slideId].slide.panzoom.set?(e("#slide_bg_settings_wrapper").appendTo(e("#ken_burn_bg_setting_on")),RVS.F.buildKenBurn()):(e("#slide_bg_settings_wrapper").appendTo(e("#ken_burn_bg_setting_off")),h())}function y(){RVS.F.setInputTo({field:e("#sl_pz_set"),val:!1,path:"#slide#.slide"}),f()}function h(t){t=void 0===t?{id:RVS.S.slideId}:t;var i=e("#slide_"+t.id+" .slots_wrapper");void 0!==RVS.TL[t.id]&&null!=RVS.TL[t.id].panzoom&&RVS.TL[t.id].panzoom.stop(),i.find(".rs-pzimg").remove(),RVS.TL[t.id].panzoom=void 0}function v(){RVS.SLIDER[RVS.S.slideId].slide.panzoom.set&&(null!=RVS.TL[RVS.S.slideId].panzoom?RVS.F.kenBurnTimeline({prgs:RVS.TL[RVS.S.slideId].panzoom.progress()}):RVS.F.kenBurnTimeline())}function g(e,t){return null==e?t:e}s+='\t\t<div class="resizeMainLayerListWrap" id="resizeMainLayerListWrap_###">',s+='\t\t\t<div class="mainLayerListWrap" id="mainLayerListWrap_###">',s+="\t\t\t</div>",s+="\t\t</div>",s+="\t</div>",RVS.F.initSlideBuilder=function(){r=e("#slide_thumb_repeater"),RVS.DOC.on("mouseenter",".slide_list_element",function(){r[0].innerHTML="",RVS.SLIDER.settings.general.useWPML?e("#slide_thumb_repeater").append(e(this).find(".sle_thumb").clone()):e("#slide_thumb_repeater").append(e(this).find(".sle_thumb").first().clone()),r.show()}),RVS.DOC.on("mouseleave",".slide_list_element",function(){r[0].innerHTML=""}),function(){var t=e("#transition_selector");for(var i in RVS.LIB.SLIDEANIMS)if(RVS.LIB.SLIDEANIMS.hasOwnProperty(i)){var a=0===i?" selected":"",r='<div class="transgroup '+a+'" data-group="'+i+'"><span class="transgroup_name">'+RVS.LIB.SLIDEANIMS[i].alias+'</span><div class="animation_drop_arrow"><i class="material-icons">arrow_drop_down</i></div><div class="'+i+' inner_transitions">';for(var s in RVS.LIB.SLIDEANIMS[i])RVS.LIB.SLIDEANIMS[i].hasOwnProperty(s)&&"alias"!==s&&(r+='<div data-handle="'+s+'" class="slide_trans_liste dark_btn '+i+'">'+RVS.LIB.SLIDEANIMS[i][s]+'<i class="right-divided-icon material-icons">add</i></div>');r+="</div></div>",t.append(r)}}(),RVS.DOC.on("changeflags",RVS.F.changeFlags),RVS.DOC.on("click",".editslide",function(){return o({id:this.dataset.id}),!1}),RVS.DOC.on("showLastEditedSlideStatic",function(){e(".showunderstatic").removeClass("showunderstatic"),RVS.SLIDER[RVS.S.slideId].slide.static.isstatic&&void 0!==RVS.S.lastShownSlideId&&(RVS.SLIDER[RVS.S.slideId].slide.static.lastEdited?(e("#slide_"+RVS.S.lastShownSlideId).addClass("showunderstatic"),e("#slide_"+RVS.S.lastShownSlideId).find("._lc_.selected").removeClass("selected"),e("#slide_"+RVS.S.slideId).addClass("hideslotsinslide")):e("#slide_"+RVS.S.slideId).removeClass("hideslotsinslide"))}),RVS.DOC.on("click",".open_close_slide",function(){return o({id:this.dataset.id,openclose:!0}),!1}),RVS.DOC.on("click",".added_slide_transition",function(){e(".added_slide_transition.selected").removeClass("selected"),this.className=this.className+" selected",RVS.S.slideTrans=e(this).index(),RVS.F.updateEasyInputs({container:e("#active_transitions_settings"),path:RVS.S.slideId+".slide.",trigger:"init"}),e("#cur_transition_sub_settings").html(this.dataset.alias+" Settings"),RVS.F.updateSlideFrames()}),RVS.DOC.on("click",".transition-replace",function(){window.replaceSlideAnimation=e(this).closest("li.added_slide_transition"),RVS.DOC.trigger("showhidetransitions")}),RVS.DOC.on("click",".added_slide_transition .right-divided-icon",function(){return function(t){if(1!==e("#active_transitions_innerwrap li").length){var i=RVS.F.safeExtend(!0,{},RVS.SLIDER[RVS.S.slideId].slide.timeline),a=t.this.index();i.transition.splice(a,1),i.duration.splice(a,1),i.easeIn.splice(a,1),i.easeOut.splice(a,1),i.rotation.splice(a,1),i.slots.splice(a,1),i.txt="Remove Active Slide Transition",i.icon="remove_circle",p(i),t.this.remove(),RVS.F.selectFirstActiveTransition()}}({this:e(this).closest("li.added_slide_transition")}),RVS.F.updateSlideFrames(),!1}),RVS.DOC.on("click",".transgroup",function(){e(".transgroup.selected").removeClass("selected"),this.className=this.className+" selected",R()}),RVS.DOC.on("click",".slide_trans_liste",function(){u({slotable:this.dataset.slotable,rotatable:this.dataset.rotatable,handle:this.dataset.handle,selected:!0,create:!0}),RVS.DOC.trigger("showhidetransitions"),RVS.F.updateSlideFrames()}),RVS.DOC.on("mouseenter",".slide_trans_liste.dark_btn",function(e){clearTimeout(window.backToDefaultAnimationTimer),RVS.F.buildSlideAnimation({animation:this.dataset.handle,MS:"default"}),RVS.TL[RVS.S.slideId].slide.play(0)}),RVS.DOC.on("mouseleave",".slide_trans_liste.dark_btn",function(){clearTimeout(window.backToDefaultAnimationTimer),window.backToDefaultAnimationTimer=setTimeout(function(){RVS.F.buildSlideAnimation({animation:RVS.SLIDER[RVS.S.slideId].slide.timeline.transition[RVS.S.slideTrans]}),RVS.F.slideAnimation({progress:1})},100)}),RVS.DOC.on("updateslidebasic",function(e,t){RVS.F.redrawSlideBG("double"!==t&&"force")}),RVS.DOC.on("coloredit colorcancel",m),RVS.DOC.on("showSlideFilter",V),RVS.DOC.on("updateKenBurnBasics",function(){f()}),RVS.DOC.on("updateKenBurnSettings",v),RVS.DOC.on("previewKenBurn",function(){v(),RVS.F.updateTimeLine({state:"play",timeline:"panzoom"})}),RVS.DOC.on("previewStopKenBurn",function(){v(),RVS.F.updateTimeLine({state:"stop",timeline:"panzoom"})}),RVS.DOC.on("rewindKenBurn",function(){v(),RVS.F.updateTimeLine({state:"rewind",timeline:"panzoom"})}),RVS.DOC.on("beforeLayoutModeChange accordionaction",function(){RVS.F.updateTimeLine({state:"stop",timeline:"panzoom"}),RVS.F.changeSwitchState({el:e("#kenburn_simulator")[0],state:"play"})}),RVS.DOC.on("updateslidethumbs",function(){l()}),RVS.DOC.on("resetslideadminthumb",function(e,t){RVS.F.updateSliderObj({path:RVS.S.slideId+"."+t,val:""}),l()}),RVS.DOC.on("changeToLayerMode",function(){RVS.F.showHideLayerEditor({mode:"slidecontent"})}),RVS.DOC.on("changeToSlideMode",function(){RVS.F.showHideLayerEditor({mode:"slidelayout"})}),RVS.DOC.on("windowresized",function(){RVS.F.redrawSlideBG(!0)}),RVS.DOC.on("sliderSizeChanged",function(){RVS.F.redrawSlideBG(!0)}),RVS.DOC.on("showhidetransitions",function(){var t=e("#transition_selector");t.is(":visible")?t.hide():t.show()}),RVS.DOC.on("updateSlideNameInList",function(){e("#slide_list_element_title_"+RVS.S.slideId).html(RVS.SLIDER[RVS.S.slideId].slide.title)}),RVS.DOC.on("click","#do_edit_slidename",function(){e("#slide_title_field").focus()}),(i={container:e("#kenburn_timeline")}).pin=i.container.find(".pz_pin"),i.done=i.container.find(".pz_timedone"),i.pinWidth=9,i.hovered=!1,i.pin.draggable({axis:"x",containment:"parent",start:function(e,t){i.container.addClass("indrag"),i.containerWidth=i.container.width()},stop:function(e,t){i.container.removeClass("indrag")},drag:function(e,t){n({left:t.position.left,force:!0}),RVS.F.updateTimeLine({state:"progress",timeline:"panzoom",prgs:t.position.left/(i.containerWidth-i.pinWidth)})}}),i.container.hover(function(){i.hovered=!0,i.laststate=RVS.F.updateTimeLine({state:"getstate",timeline:"panzoom"}),RVS.F.updateTimeLine({state:"pause",timeline:"panzoom"})},function(){i.hovered=!1,i.laststate&&RVS.F.updateTimeLine({state:"play",timeline:"panzoom"})})},RVS.F.changeFlags=function(e){e=RVS.SLIDER[RVS.S.slideId].slide.child,document.getElementById(RVS.S.slideId+"_flag_source").innerHTML=RVS.SLIDER.settings.general.useWPML&&"undefined"!=typeof RS_WPML_LANGS&&void 0!==RS_WPML_LANGS&&void 0!==e&&void 0!==e.language&&""!==e.language&&!1!==e.language&&void 0!==RS_WPML_LANGS[e.language]?'<span class="wpml_flag_wrap"><img src="'+RS_WPML_LANGS[e.language].image+'" class="wpml-img-flag" /></span>':""},RVS.F.addToSlideList=function(t){var i=s.replace(/\###/g,RVS.S.slideId),r=RVS.SLIDER[t.id].slide,o=RVS.SLIDER.settings.general.useWPML&&"undefined"!=typeof RS_WPML_LANGS&&void 0!==RS_WPML_LANGS&&void 0!==r.child&&void 0!==r.child.language&&""!==r.child.language&&!1!==r.child.language&&void 0!==RS_WPML_LANGS[r.child.language]?'<span id="'+t.id+'_flag_source" class="flag_container aaa"><span class="wpml_flag_wrap"><img src="'+RS_WPML_LANGS[r.child.language].image+'" class="wpml-img-flag" /></span></span>':'<span id="'+t.id+'_flag_source" class="flag_container bbb"></span>',n="undefined"!=typeof RS_WPML_LANGS&&void 0!==RS_WPML_LANGS?'<div class="addchildslide" data-id="'+t.id+'"><i class="material-icons">playlist_add</i></div>':"",c=r.static.isstatic?e('<div id="slide_list_element_'+t.id+'" class="do_not_sort_slide_list_element slide_list_element static-slide-btn" data-ref="'+t.id+'"><div class="sle_description"><i class="material-icons">layers</i>'+r.title+"</div></div>"):void 0===r.child||void 0===r.child.parentId||""===r.child.parentId||0===r.child.parentId.length||!1===r.child.parentId?e('<li id="slide_list_element_'+t.id+'" class="slide_list_element sortable_slide_list_element" data-ref="'+t.id+'"><div class="slide_elemenet_content"><div class="sle_thumb"></div><div class="sle_description"><i class="material-icons">swap_vert</i>'+o+'<span id="slide_list_element_title_index_'+t.id+'"></span><span id="slide_list_element_title_'+t.id+'">'+r.title+'</span></div><div class="slidetab_toolbox"><div id="publish_toggle_icon_'+t.id+'" class="'+r.publish.state+'slide"><i class="publishedicon material-icons">visibility</i><i class="unpublishedicon material-icons">visibility_off</i></div><div class="deleteslide"><i class="material-icons">delete</i></div><div class="duplicateslide"><i class="material-icons">content_copy</i></div><div class="editslide" data-id="'+t.id+'" ><i class="material-icons">settings</i></div>'+n+"</div>"+i+'</div><div id="slide_list_element_childwrap_'+t.id+'" class="slide_list_child_element_wrap"></div></li>'):e('<li id="slide_list_element_'+t.id+'" class="slide_list_child_element" data-ref="'+t.id+'"><div class="sle_thumb"></div><div class="slide_elemenet_content"><div class="sle_description">'+o+'<span id="slide_list_element_title_'+t.id+'">'+r.title+'</span></div><div class="slidetab_toolbox"><div id="publish_toggle_icon_'+t.id+'" class="'+r.publish.state+'slide"><i class="publishedicon material-icons">visibility</i><i class="unpublishedicon material-icons">visibility_off</i></div><div class="deleteslide"><i class="material-icons">delete</i></div><div class="editslide" data-id="'+t.id+'" ><i class="material-icons">settings</i></div></div>'+i+"</div></li>"),S=c.find(".sle_thumb");l({id:t.id,target:S}),r.static.isstatic?c.insertBefore("#slidelist"):""!==r.child.parentId&&void 0!==r.child.parentId?e("#slide_list_element_childwrap_"+r.child.parentId).append(c):e("#slidelist").append(c),function(){var t=e("#slidelist");t.hasClass("ui-sortable")&&t.sortable("destroy");d(),t.sortable({item:".sortable_slide_list_element",cancel:"#theslidermodule, #newslide, .do_not_sort_slide_list_element",start:function(e,i){RVS.C.vW.addClass("slides_in_sort"),t.sortable("refreshPositions")},stop:function(e,t){RVS.C.vW.removeClass("slides_in_sort");var i=Array.prototype.slice.call(document.getElementById("slidelist").getElementsByClassName("sortable_slide_list_element")),a=[],r="";for(var s in RVS.SLIDER.slideIDs)RVS.SLIDER.slideIDs.hasOwnProperty(s)&&(""+RVS.SLIDER.slideIDs[s]).indexOf("static_")>=0&&(r=RVS.SLIDER.slideIDs[s]);for(var o in i)i.hasOwnProperty(o)&&a.push(i[o].dataset.ref);a.push(r),RVS.F.updateSliderObj({path:"slideIDs",val:a}),d()}})}(),void 0===a?a=e("#slidelist").RSScroll({wheelPropagation:!1,suppressScrollX:!0,minScrollbarLength:100}):e("#slidelist").RSScroll("update")},RVS.F.addRemoveSlideWithBackupAfterSlideId=function(e){var t=void 0!==e.urls?e.urls.length:1,i=RVS.F.safeExtend(!0,{},e.slideObj);i.slide.child.parentId=void 0!==e.parentId?e.parentId:"",RVS.F.ajaxRequest("create_slide",{slider_id:RVS.ENV.sliderID,amount:t},function(t){if(t.success){for(var a in t.slide_id)t.slide_id.hasOwnProperty(a)&&(e.slideId=t.slide_id[a],e.slideObj=RVS.F.safeExtend(!0,{},i),e.slideObj.id=e.slideObj.slide.uid=t.slide_id[a],void 0!==e.urls&&e.urls.length>0&&(e.slideObj.slide.bg.type="image",e.slideObj.slide.bg.image=e.urls[a].url,e.slideObj.slide.bg.imageSourceType="full",RVS.SLIDER.inWork.push(t.slide_id[a])),RVS.F.addRemoveSlideWithBackup(e),void 0!==e.parentID&&(RVS.F.convertIDStoTxt(),RVS.F.saveSlides({index:0,slides:RVS.SLIDER.slideIDs,trigger:RVS.F.saveSliderSettings,works:RVS.SLIDER.inWork})),RVS.DOC.trigger("newSlideCreated",[t.slide_id[a]]));void 0!==e.endOfMain&&e.endOfMain()}})},RVS.F.addRemoveSlideWithBackup=function(t,i){RVS.F.openBackupGroup({id:t.id,txt:t.step,icon:t.icon,lastkey:"#"+t.slideId}),RVS.SLIDER[t.slideId]=t.slideObj;var a,r,s,o=RVS.SLIDER.slideIDs.slice(),n=!1;if("deleteslide"===t.id){var l=RVS.F._inArray(t.slideId,RVS.SLIDER.slideIDs);s=l-1>=0?l-1:l,RVS.S.slideId==t.slideId&&(n=!0),o.splice(l,1),RVS.F.updateSliderObj({path:"slideIDs",val:o}),a=e("#slide_list_element_"+t.slideId).removeClass("selected").detach()}else o.push(t.slideId),RVS.F.updateSliderObj({path:"slideIDs",val:o}),RVS.F.addToSlideList({id:t.slideId}),r={mode:"slidelayout",set:!0,slide:t.slideId};RVS.F.backup({path:t.slideId,cache:a,beforeSelected:t.beforeSelected,icon:t.icon,txt:t.step,lastkey:"#"+t.slideId,force:!0,val:RVS.F.safeExtend(!0,{},RVS.SLIDER[t.slideId]),old:t.slideObjOld,backupType:"slide",bckpGrType:t.id}),0==e(".slide_list_element.sortable_slide_list_element").length&&(r={mode:"sliderlayout",set:!0}),void 0!==r?RVS.F.mainMode(r):n&&RVS.F.setSlideFocus({slideid:s>=RVS.SLIDER.slideIDs.length?RVS.SLIDER.slideIDs[0]:RVS.SLIDER.slideIDs[s]}),RVS.F.closeBackupGroup({id:t.id}),void 0!==t.after&&t.after()},RVS.F.slideinWork=function(t){RVS.SLIDER.inWork=void 0===RVS.SLIDER.inWork?[]:RVS.SLIDER.inWork,-1===e.inArray(t,RVS.SLIDER.inWork)&&RVS.SLIDER.inWork.push(t)},RVS.F.setSlideFocus=function(t){if(RVS.F.setEditorUrl(t.slideid),RVS.F.slideinWork(t.slideid),delete RVS.S.bgobj,RVS.DOC.trigger("beforeSlideChange"),e(".slide_list_element.selected, .slide_list_child_element.selected").removeClass("selected"),e("#slide_list_element_"+t.slideid).addClass("selected"),e(".slide_li").hide(),RVS.SLIDER[t.slideid].slide.static.isstatic?(window.lastSlideSettingForm="static",RVS.F.updateStaticStartEndList(),RVS.C.vW.addClass("staticlayersview"),RVS.F.openSettings({forms:["*slidelayout**mode__slidestyle*#form_slidestatic"],uncollapse:!0})):(RVS.C.vW.removeClass("staticlayersview"),"static"===window.lastSlideSettingForm&&(window.lastSlideSettingForm=e(".slide_submodule_trigger.selected").data("forms"),RVS.F.openSettings({forms:window.lastSlideSettingForm,uncollapse:!0}))),RVS.DOC.trigger("slideAmountUpdated"),RVS.S.slideId=t.slideid,RVS.DOC.trigger("showLastEditedSlideStatic"),RVS.DOC.trigger("slideFocusChanged"),0===e("#slide_"+t.slideid).length){var i=e("#slide_li_template").clone();i.attr("id","slide_"+t.slideid),RVS.SLIDER[t.slideid].slide.static.isstatic&&i.addClass("static_slide_li"),i.find(".crumb_title").html('<i class="material-icons">wallpaper</i>'+RVS.SLIDER[t.slideid].slide.title),e("#rev_slider_ul_inner").append(i),RVS.TL[RVS.S.slideId]=void 0===RVS.TL[RVS.S.slideId]?{}:RVS.TL[RVS.S.slideId]}RVS.C.slide=e("#slide_"+t.slideid),RVS.C.layergrid=RVS.C.slide.find(".layer_grid"),window.contentDeltaFirstRun||RVS.F.updateContentDeltas(),RVS.C.rZone.top=RVS.C.layergrid.find(".row_wrapper_top"),RVS.C.rZone.middle=RVS.C.layergrid.find(".row_wrapper_middle"),RVS.C.rZone.bottom=RVS.C.layergrid.find(".row_wrapper_bottom"),RVS.C.layergrid.attr("id","layer_grid_"+t.slideid),RVS.H={},RVS.C.slide.show(),RVS.DOC.trigger("updatesliderlayout","setSlideFocus-139"),RVS.F.setRulers(),RVS.F.updateFields(),RVS.F.redrawSlideBG(),RVS.F.updateParallaxLevelTexts(),RVS.F.buildLayerLists(),RVS.F.updateAllLayerFrames(),RVS.DOC.trigger("updateScrollBars"),RVS.F.setRulers(),RVS.DOC.trigger("updateAllInheritedSize"),RVS.DOC.trigger("slideFocusFunctionEnd"),setTimeout(function(){RVS.F.expandCollapseTimeLine(!0,"open")},300),RVS.DOC.trigger("updateSlideLoopRange"),RVS.DOC.trigger("updateFixedScrollRange")},RVS.F.redrawSlideBG=function(t){if(void 0!==RVS.C.slide){var i,a=RVS.SLIDER[RVS.S.slideId].slide;for(var r in RVS.JHOOKS.redrawSlideBG)RVS.JHOOKS.redrawSlideBG.hasOwnProperty(r)&&(i=RVS.JHOOKS.redrawSlideBG[r](i));var s=RVS.F.getSlideBGDrawObj({updateSip:!0,slideBGFrom:i}),o=RVS.C.slide.find(".slotwrapper_cur .defaultimg");RVS.C.slide.find(".slots_wrapper").attr("class","slots_wrapper "+a.bg.mediaFilter),void 0!==RVS.S.bgobj&&s.background===RVS.S.bgobj.background&&s.backgroundImage===RVS.S.bgobj.backgroundImage&&s["background-size"]===RVS.S.bgobj["background-size"]&&s.backgroundColor===RVS.S.bgobj.backgroundColor&&s.backgroundPosition===RVS.S.bgobj.backgroundPosition&&s.backgroundRepeat===RVS.S.bgobj.backgroundRepeat||(RVS.S.bgobj=RVS.F.safeExtend(!0,{},s),RVS.S.bgobj.mediaFilter=a.bg.mediaFilter,punchgs.TweenLite.set([o,e(".inst-filter-griditem-img")],{backgroundImage:"none"}),punchgs.TweenLite.set([o,e(".inst-filter-griditem-img")],RVS.F.safeExtend(!0,{},s)),l()),RVS.TL.over||RVS.TL.inDrag||(RVS.F.buildSlideAnimation({animation:RVS.F.getSlideAnimParams("transition")}),RVS.F.slideAnimation({progress:1}),a.panzoom.set&&("image"!==a.bg.type&&"external"!==a.bg.type?y():null!=a.bg.lastLoadedImage&&RVS.F.buildKenBurn())),RVS.DOC.trigger("redrawSlideBGDone"),clearTimeout(window.redrawSlideBGTimeOut)}},RVS.F.updateFields=function(){!function(){var t=e("#slide_seo_linktoslide");for(var i in t.html(""),t.append('<option value="nothing">- Not Choosen -</option>'),t.append('<option value="next">- Next Slide  -</option>'),t.append('<option value="prev">- Previous Slide -</option>'),t.append('<option value="scroll_under">- Scroll Below Slider -</option>'),RVS.SLIDER.slideIDs)if(RVS.SLIDER.slideIDs.hasOwnProperty(i)){var a=RVS.SLIDER.slideIDs[i],r=RVS.SLIDER[a].slide.title;r=void 0===r?"Slide":r,t.append('<option value="'+a+'">'+r+" (ID:"+a+")</option>")}}(),RVS.F.updateSlideAnimation(),RVS.F.updateEasyInputs({container:e(".slide_settings_collector"),path:RVS.S.slideId+".slide.",trigger:"init"}),e("#s_bg_color").val(RVS.SLIDER[RVS.S.slideId].slide.bg.color).rsColorPicker("refresh"),e("#slide_bg_type").trigger("change"),RVS.F.updateSlideBasedNavigationStyle(),f(),RVS.F.buildSlideFrames(),RVS.F.updateSlideFrames(),RVS.F.updateMaxTime({pos:!0,cont:!0}),RVS.F.goToIdle()},RVS.F.getSlideBGDrawObj=function(t){(t=void 0===t?{updateSip:!1}:t).id=void 0===t.id?RVS.S.slideId:t.id;var i=void 0===t.slideBGFrom?RVS.SLIDER[t.id].slide:t.slideBGFrom,a={backgroundImage:"",backgroundColor:"transparent",backgroundRepeat:i.bg.repeat,backgroundPosition:"percentage"===i.bg.position?parseInt(i.bg.positionX,0)+"% "+parseInt(i.bg.positionY,0)+"%":i.bg.position,"background-size":"percentage"===i.bg.fit?parseInt(i.bg.fitX,0)+"% "+parseInt(i.bg.fitY,0)+"%":i.bg.fit},r=e("#slide_bg_image_path");switch(i.bg.type){case"solid":var s=window.RSColor.get(i.bg.color);s.indexOf("gradient")>=0?a={background:s}:a.backgroundColor=i.bg.color;break;case"trans":break;case"external":a.backgroundImage="url("+i.bg.externalSrc+")",t.updateSip&&(r.val(i.bg.externalSrc),r.height(Math.max(25,8+i.bg.externalSrc.length/20*16)));break;case"html5":case"vimeo":case"youtube":case"image":a.backgroundImage="url("+i.bg.image+")",t.updateSip&&(r.val(i.bg.image),void 0!==i.bg.image?r.height(Math.max(25,8+i.bg.image.length/20*16)):void 0!==i.bg.image&&r.height(Math.max(25,8+i.bg.image.length/20*16)))}return a},RVS.F.slideMinLength=function(e){var t=e;e="default"===e||"Default"===e||0===e||"0ms"===e?parseInt(RVS.SLIDER.settings.def.delay,0):parseInt(e,0);var i=10*RVS.F.setSmallestSlideLength({left:e/10});return"Default"===t||0===t||"0ms"===t||"default"===t?"Default":i},RVS.F.getSlideLength=function(){var e=RVS.SLIDER[RVS.S.slideId].slide.timeline.delay;return(e=null==(e=null==e||""==e||"default"===e||0==e||"Default"===e?RVS.SLIDER.settings.def.delay:e)||""==e||"default"===e||0==e||"Default"===e?8e3:parseInt(e,0))/10},RVS.F.getSlideAnimParams=function(t){var i=e("#active_transitions_innerwrap li.selected").index();i=-1===i?1:i;var a=RVS.SLIDER[RVS.S.slideId].slide.timeline[t][i];return a=0===i?"default"==a&&"duration"==t?RVS.F.getSliderTransitionParameters(RVS.SLIDER[RVS.S.slideId].slide.timeline.transition[i]).TR[10]:a:"default"==a&&"duration"==t?void 0===RVS.SLIDER[RVS.S.slideId].slide.timeline[t][i]?RVS.SLIDER.settings.def.transitionDuration:RVS.F.getSliderTransitionParameters(RVS.SLIDER[RVS.S.slideId].slide.timeline.transition[i]).TR[10]:a},RVS.F.buildSlideAnimation=function(t){var i=RVS.C.slide.find(".slotwrapper_cur"),a=RVS.C.slide.find(".slotwrapper_prev");i.find(".slot").each(function(){e(this).remove()}),a.find(".slot").each(function(){e(this).remove()}),void 0!==RVS.TL[RVS.S.slideId]&&void 0!==RVS.TL[RVS.S.slideId].slide&&RVS.TL[RVS.S.slideId].slide.kill(),t.animation=void 0===t.animation?RVS.F.getSlideAnimParams("transition"):t.animation,RVS.TL[RVS.S.slideId]=void 0===RVS.TL[RVS.S.slideId]?{}:RVS.TL[RVS.S.slideId],RVS.TL[RVS.S.slideId].slide=RVS.F.animateSlide(i,a,t.animation,t.MS)},RVS.F.slideAnimation=function(e){void 0!==RVS.TL[RVS.S.slideId].slide&&void 0!==e.progress&&(RVS.TL[RVS.S.slideId].slide.progress(e.progress),RVS.TL[RVS.S.slideId].panzoom&&RVS.TL[RVS.S.slideId].panzoom.progress(0))},RVS.F.selectFirstActiveTransition=function(){var t=e("li.added_slide_transition").first();e(".added_slide_transition.selected").removeClass("selected"),t.addClass("selected"),RVS.S.slideTrans=0,RVS.F.updateEasyInputs({container:e("#active_transitions_settings"),path:RVS.S.slideId+".slide.",trigger:"init"}),e("#cur_transition_sub_settings").html(t.data("alias")+" Settings")},RVS.F.showHideLayerEditor=function(t){var i;RVS.eMode=void 0===RVS.eMode?{top:"",menu:""}:RVS.eMode,"slidecontent"===t.mode?(RVS.C.vW.addClass("mode__slidecontent"),RVS.C.vW.removeClass("mode__slidestyle"),RVS.eMode.top="layer",void 0!==(i=e(".layer_submodule_trigger.selected"))&&!1!==t.openSettings&&RVS.F.openSettings({forms:i.data("forms"),uncollapse:i[0].dataset.collapse})):(RVS.C.vW.removeClass("mode__slidecontent"),RVS.C.vW.addClass("mode__slidestyle"),RVS.eMode.top="slide",i=e(".slide_submodule_trigger.selected")),void 0!==i&&i.length>=1&&void 0!==i.data("forms")&&(RVS.eMode.menu=i.data("forms")[0])},RVS.F.updateSlideAnimation=function(){(t=void 0===t?e("#active_transitions_innerwrap"):t).hasClass(".ui-sortable")&&t.sortable("destroy"),t.html(""),RVS.S.slideTrans=0,R(),RVS.F.updateEasyInputs({container:e("#active_transitions_settings"),path:RVS.S.slideId+".slide.",trigger:"init"});var i=RVS.SLIDER[RVS.S.slideId].slide.timeline;for(var a in i.duration=S(c(i.duration)),i.rotation=S(c(i.rotation)),i.slots=S(c(i.slots)),i.transition=S(c(i.transition)),i.transition)i.transition.hasOwnProperty(a)&&u({handle:i.transition[a],selected:0==a});t.sortable({start:function(e,i){t[0].dataset.fromIndex=i.item.index()},stop:function(e,a){var r=t[0].dataset.fromIndex,s=a.item.index(),o=RVS.F.safeExtend(!0,{},i);o.transition=RVS.F.amove(o.transition,r,s),o.duration=RVS.F.amove(o.duration,r,s),o.easeIn=RVS.F.amove(o.easeIn,r,s),o.easeOut=RVS.F.amove(o.easeOut,r,s),o.rotation=RVS.F.amove(o.rotation,r,s),o.slots=RVS.F.amove(o.slots,r,s),p(o)}})},RVS.F.buildKenBurn=function(t){if(RVS.SLIDER[RVS.S.slideId].slide.panzoom.set){e("#internal_kenburn_settings").hide(),e("#kenburnissue").hide();var i=new Image,a=RVS.SLIDER[RVS.S.slideId].slide,r=e("#slide_"+RVS.S.slideId+" .slots_wrapper"),s="external"===a.bg.type?a.bg.externalSrc:a.bg.image;r.data("inload")||(void 0===a.bg.lastLoadedImage||s!==a.bg.lastLoadedImage.src?(r.data("inload",!0),i.onload=function(){a.bg.lastLoadedImage={width:this.width,height:this.height,src:this.src},r.data("inload",!1),h(),RVS.F.kenBurnTimeline(),e("#internal_kenburn_settings").show()},i.onerror=function(){y(),e("#kenburnissue_info").html(RVS_LANG.imageCouldNotBeLoaded),e("#kenburnissue").show(),e(".slide_submodule_trigger").one("click",function(){e("#kenburnissue").hide()}),r.data("inload",!1)},i.onabort=function(){console.log("Pan Zoom Demo Image could not be Loaded"),e("#kenburnissue_info").html(RVS_LANG.imageCouldNotBeLoaded),e("#kenburnissue").show(),e(".slide_submodule_trigger").one("click",function(){e("#kenburnissue").hide()}),y(),r.data("inload",!1)},i.src=s):(e("#internal_kenburn_settings").show(),RVS.F.kenBurnTimeline()))}},RVS.F.kenBurnTimeline=function(t){RVS.F.updateCurTime({pos:!0,cont:!0,force:!0,left:0,refreshMainTimeLine:!0,caller:"GoToIdle"}),RVS.F.buildMainTimeLine(),RVS.F.updateCurTime({pos:!0,cont:!0,force:!1,left:0,refreshMainTimeLine:!0,caller:"GoToIdle"}),t=void 0===t?{prgs:1e-6}:t;var a=RVS.SLIDER[RVS.S.slideId].slide,r=e("#slide_"+RVS.S.slideId+" .slots_wrapper"),s={lastsrc:a.bg.lastLoadedImage.src,owidth:a.bg.lastLoadedImage.width,oheight:a.bg.lastLoadedImage.height,bgposition:"percentage"===a.bg.position?a.bg.positionX+"% "+a.bg.positionY+"%":a.bg.position,duration:parseInt(a.panzoom.duration,0),rotatestart:parseInt(a.panzoom.rotateStart,0),rotateend:parseInt(a.panzoom.rotateEnd,0),scalestart:parseInt(a.panzoom.fitStart,0),scaleend:parseInt(a.panzoom.fitEnd,0),offsetstart:a.panzoom.xStart+" "+a.panzoom.yStart,offsetend:a.panzoom.xEnd+" "+a.panzoom.yEnd,blurstart:parseInt(a.panzoom.blurStart,0),blurend:parseInt(a.panzoom.blurEnd,0),ease:a.panzoom.ease},o=s.lastsrc,l=r.width(),d=r.height();if(RVS.TL[RVS.S.slideId]&&RVS.TL[RVS.S.slideId].panzoom&&RVS.TL[RVS.S.slideId].panzoom.kill(),t.prgs=t.prgs||1e-6,void 0!==o){0===r.find(".rs-pzimg").length&&(r.find(".slotwrapper_cur").append('<rs-pzimg-wrap><img class="rs-pzimg" src="'+o+'" style="position:absolute;" width="'+t.owidth+'" height="'+s.oheight+'"></rs-pzimg-wrap>'),r.data("kenburn",r.find(".rs-pzimg")));var c=function(e,t,i,a,r,s,o){var n=e*i,l=t*i,d=Math.abs(a-n),c=Math.abs(r-l),S={};return S.l=(0-s)*d,S.r=S.l+n,S.t=(0-o)*c,S.b=S.t+l,S.h=s,S.v=o,S};void 0!==RVS.TL[RVS.S.slideId]&&null!=RVS.TL[RVS.S.slideId].panzoom&&(RVS.TL[RVS.S.slideId].panzoom.kill(),delete RVS.TL[RVS.S.slideId].panzoom);var S=r.data("kenburn"),p=S.parent(),u=function(e,t,i){var a=i.scalestart/100,r=i.scaleend/100,s=null!=i.offsetstart&&i.offsetstart.split(" ")||[0,0],o=null!=i.offsetend&&i.offsetend.split(" ")||[0,0];i.bgposition="center center"==i.bgposition?"50% 50%":i.bgposition;var n={start:{width:e,height:e/i.owidth*i.oheight},starto:{},end:{},endo:{}};n.start.height<t&&(n.start.width=n.start.width*(t/n.start.height),n.start.height=t),n.start.transformOrigin=i.bgposition,n.start.scale=a,n.end.scale=r,n.start.rotation=i.rotatestart+"deg",n.end.rotation=i.rotateend+"deg";var l=function(e,t,i,a,r){var s=e.bgposition.split(" ")||"center center",o="center"==s[0]?"50%":"left"==s[0]||"left"==s[1]?"0%":"right"==s[0]||"right"==s[1]?"100%":s[0],n="center"==s[1]?"50%":"top"==s[0]||"top"==s[1]?"0%":"bottom"==s[0]||"bottom"==s[1]?"100%":s[1];o=parseInt(o,0)/100||0,n=parseInt(n,0)/100||0;var l={};return l.start=c(r.start.width,r.start.height,r.start.scale,t,i,o,n),l.end=c(r.start.width,r.start.height,r.end.scale,t,i,o,n),l}(i,e,t,0,n);s[0]=parseFloat(s[0])+l.start.l,o[0]=parseFloat(o[0])+l.end.l,s[1]=parseFloat(s[1])+l.start.t,o[1]=parseFloat(o[1])+l.end.t;var d=l.start.r-l.start.l,S=l.start.b-l.start.t,p=l.end.r-l.end.l,u=l.end.b-l.end.t;return s[0]=s[0]>0?0:d+s[0]<e?e-d:s[0],o[0]=o[0]>0?0:p+o[0]<e?e-p:o[0],n.starto.x=s[0]+"px",n.endo.x=o[0]+"px",s[1]=s[1]>0?0:S+s[1]<t?t-S:s[1],o[1]=o[1]>0?0:u+o[1]<t?t-u:o[1],n.starto.y=s[1]+"px",n.endo.y=o[1]+"px",n.end.ease=n.endo.ease=i.ease,n.end.force3D=n.endo.force3D=!0,n}(l,d,s);if(RVS.TL[RVS.S.slideId]=void 0===RVS.TL[RVS.S.slideId]?{}:RVS.TL[RVS.S.slideId],RVS.TL[RVS.S.slideId].panzoom=new punchgs.TimelineLite,"play"===e("#kenburn_simulator")[0].dataset.state&&RVS.TL[RVS.S.slideId].panzoom.pause(),u.start.transformOrigin="0% 0%",u.starto.transformOrigin="0% 0%",RVS.TL[RVS.S.slideId].panzoom.add(punchgs.TweenLite.fromTo(S,s.duration/1e3,u.start,u.end),0),RVS.TL[RVS.S.slideId].panzoom.add(punchgs.TweenLite.fromTo(p,s.duration/1e3,u.starto,u.endo),0),void 0!==s.blurstart&&void 0!==s.blurend&&(0!==s.blurstart||0!==s.blurend)){var R={a:s.blurstart},V={a:s.blurend,ease:u.endo.ease};RVS.TL[RVS.S.slideId].blurAnimation=new punchgs.TweenLite(R,s.duration/1e3,V),RVS.TL[RVS.S.slideId].blurAnimation.eventCallback("onUpdate",function(e){punchgs.TweenLite.set(e,{filter:"blur("+R.a+"px)",webkitFilter:"blur("+R.a+"px)"})},[p]),RVS.TL[RVS.S.slideId].panzoom.add(punchgs.TweenLite.set(p,{filter:"blur(0px)",webkitFilter:"blur(0px)"}),0),RVS.TL[RVS.S.slideId].panzoom.add(RVS.TL[RVS.S.slideId].blurAnimation,.005)}RVS.TL[RVS.S.slideId].panzoom.progress(t.prgs),i.containerWidth=void 0===i.containerWidth?i.container.width():i.containerWidth,n({left:t.prgs*(i.containerWidth-i.pinWidth),auto:!0}),RVS.TL[RVS.S.slideId].panzoom.eventCallback("onUpdate",function(){i.containerWidth=void 0===i.containerWidth?i.container.width():i.containerWidth,n({left:RVS.TL[RVS.S.slideId].panzoom.progress()*(i.containerWidth-i.pinWidth),auto:!0})}),RVS.TL[RVS.S.slideId].panzoom.eventCallback("onComplete",function(){RVS.F.changeSwitchState({el:e("#kenburn_simulator")[0],state:"play"}),RVS.TL[RVS.S.slideId].panzoom.pause()})}},RVS.F.addSlideObj=function(t,i){var a=void 0===t||e.isEmptyObject(t);t=void 0===t?{}:t,a||"undefined"==typeof _rmig_||(t=_rmig_.migrateSlide(t));var r={};if(r.addOns=t.addOns||{},r.version=g(t.version,"6.0.0"),r.version=r.version<"6.0.0"?"6.0.0":r.version,r.static=g(t.static,{isstatic:!1,overflow:"hidden",position:"front",lastEdited:!0}),r.runtime=g(t.runtime,{collapsedGroups:[]}),r.title=g(t.title,"New Slide"),r.child=g(t.child,{parentId:"",language:""}),r.bg=g(t.bg,{type:"trans",color:"#ffffff",externalSrc:"",fit:"cover",fitX:"100",fitY:"100",position:"center center",positionX:"0",positionY:"0",repeat:"no-repeat",image:"",imageId:"",imageFromStream:!1,imageSourceType:"full",galleryType:"gallery",mpeg:"",ogv:"",webm:"",vimeo:"",youtube:"",mediaFilter:"none",video:{args:"",argsVimeo:"",dottedOverlay:"none",startAt:"",endAt:"",forceCover:!1,forceRewind:!0,loop:!0,pausetimer:!1,mute:!0,nextSlideAtEnd:!1,ratio:"16:9",speed:1,volume:0},videoId:"",videoFromStream:!1}),void 0!==r.bg.video&&void 0!==i&&(r.bg.video.loop=!0===r.bg.video.loop||void 0!==t&&void 0!==t.bg&&void 0!==t.bg.video&&("loopandnoslidestop"===t.bg.video.loop||"loop"===t.bg.video.loop||!0===t.bg.video.loop||"true"===t.bg.video.loop),r.bg.video.pausetimer=void 0===t.pausetimer||!0!==t.pausetimer&&!1!==t.pausetimer?void 0!==t&&void 0!==t.bg&&void 0!==t.bg.video&&"loop"===t.bg.video.loop:t.pausetimer,!0===r.bg.video.loop&&!0===r.bg.video.nextSlideAtEnd&&(r.bg.video.loop=!1)),r.thumb=g(t.thumb,{customThumbSrc:"",customThumbSrcId:"",customAdminThumbSrc:"",customAdminThumbSrcId:"",dimension:"orig"}),r.info=g(t.info,{params:[{v:"",l:10},{v:"",l:10},{v:"",l:10},{v:"",l:10},{v:"",l:10},{v:"",l:10},{v:"",l:10},{v:"",l:10},{v:"",l:10},{v:"",l:10}],description:""}),r.attributes=g(t.attributes,{title:"",titleOption:"media_library",class:"",data:"",id:"",attr:"",alt:"",altOption:"media_library"}),r.publish=g(t.publish,{from:"",to:"",state:"published"}),r.timeline=g(t.timeline,{stopOnPurpose:!1,delay:"Default",transition:["fade"],slots:[0],duration:[1e3],easeIn:["default"],easeOut:["default"],rotation:[0],loop:{set:!1,repeat:"unlimited",start:2500,end:4500}}),r.timeline.loop=void 0===r.timeline.loop?{set:!1,repeat:"unlimited",start:2500,end:4500}:r.timeline.loop,r.visibility=g(t.visibility,{hideAfterLoop:0,hideOnMobile:!1,hideFromNavigation:!1}),r.effects=g(t.effects,{parallax:"-",fade:"default",blur:"default",grayscale:"default"}),r.panzoom=g(t.panzoom,{set:!1,blurStart:0,blurEnd:0,duration:1e4,ease:"Linear.easeNone",fitEnd:100,fitStart:100,xEnd:0,yEnd:0,xStart:0,yStart:0,rotateStart:0,rotateEnd:0}),r.seo=g(t.seo,{set:!1,link:"",slideLink:"nothing",target:"_self",z:"front",type:"regular"}),r.nav=g(t.nav,{arrows:{presets:{}},thumbs:{presets:{}},tabs:{presets:{}},bullets:{presets:{}}}),r.store_permissions=g(t.store_permissions,!1),r.allow_stores={},t.allow_stores)for(var s in t.allow_stores)t.allow_stores.hasOwnProperty(s)&&(r.allow_stores[s]=t.allow_stores[s]);if(t.store_id){var o=t.store_id.split(",");for(var s in r.store_permissions=-1==o.indexOf("0"),o)o.hasOwnProperty(s)&&"0"!==o[s]&&(r.allow_stores["store"+o[s]]=!0)}return r},RVS.F.simplifySlide=function(e){return"zone"===e.type?RVS.F.safeExtend(!0,{},e):RVS.F.safeExtend(!0,{},RVS.F.simplifyObject(RVS.F.addSlideObj(void 0,!0),RVS.F.safeExtend(!0,{},e)))},RVS.F.simplifyAllSlide=function(t){for(var i in window.__Slides={},RVS.SLIDER.slideIDs)RVS.SLIDER.slideIDs.hasOwnProperty(i)&&(!e.isNumeric(RVS.SLIDER.slideIDs[i])&&RVS.SLIDER.slideIDs[i].indexOf("static")>=0||(window.__Slides[RVS.SLIDER.slideIDs[i]]=RVS.F.simplifySlide(RVS.SLIDER[RVS.SLIDER.slideIDs[i]].slide)))},RVS.F.expandSlide=function(e){return RVS.F.safeExtend(!0,RVS.F.addSlideObj(),e)}}()}($nwd_jQuery),RVS.S.ulDIM={width:0,height:0},function(e){!function(){var t,i,a,r,s,o,n,l,d,c,S,p,u,R,V,m,f={width:0,height:0},y={width:0,height:0},h={x:0,y:0},v={left:0,top:0},g={x:0,y:0};function _(t){void 0!==window.initQuickGuide&&window.initQuickGuide.page!=window.initQuickGuide.active&&(e("#mcg_page_"+window.initQuickGuide.page).addClass("mcg_selected"),punchgs.TweenLite.fromTo("#mcg_page_"+window.initQuickGuide.page,.5,{x:-1===t?"-100%":"100%"},{x:"0%",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.fromTo("#mcg_page_"+window.initQuickGuide.active,.5,{x:"0%"},{x:-1===t?"100%":"-100%",ease:punchgs.Power3.easeInOut,onComplete:function(){e("#mcg_page_"+window.initQuickGuide.active).removeClass("mcg_selected"),window.initQuickGuide.active=window.initQuickGuide.page}}))}function L(t){void 0===t||"init"===t?(RVS.S.rb_ScrollX=0,RVS.S.rb_ScrollY=0,V=e("#settings_sticky_info"),RVS.C.rb.RSScroll({wheelPropagation:!0,minScrollbarLength:100}),e("#the_right_toolbar_inner").RSScroll({wheelPropagation:!0,suppressScrollX:!0,minScrollbarLength:100}).on("ps-scroll-y",function(){this.scrollTop>50?V.show():V.hide(),RVS.S.respInfoBar&&RVS.S.respInfoBar.toolbar&&null!==RVS.S.respInfoBar.toolbar[0]&&(RVS.S.respInfoBar.toolbar[0].style.display="none")}),RVS.C.rb.on("ps-scroll-x",function(){RVS.S.rb_ScrollX=g.x=this.scrollLeft,RVS.F.setRulers()}),RVS.C.rb.on("ps-scroll-y",function(){g.x=this.scrollLeft,g.y=this.scrollTop,RVS.S.rb_ScrollY=g.y=this.scrollTop,RVS.F.setRulers()})):"update"===t&&(RVS.C.rb.RSScroll("update"),e("#the_right_toolbar_inner").RSScroll("update"))}function w(e,t){("force"===t||m||void 0===m)&&("flickr"===RVS.SLIDER.settings.sourcetype&&I(),"facebook"===RVS.SLIDER.settings.sourcetype&&x(),"youtube"===RVS.SLIDER.settings.sourcetype&&k()),m=!1,RVS.DOC.trigger("updatesliderthumb")}function b(t){e("rs-loader").css("background","").find("div").css("background","");var i,a=parseInt(RVS.SLIDER.settings.layout.spinner.type,10);if(NaN===a||a<6)i='<div class="dot1"></div><div class="dot2"></div><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div>';else{var r,s=[10,0,4,2,5,9,0,4,4,2][a-6];if(i='<div class="rs-spinner-inner"',t||(t=RVS.SLIDER.settings.layout.spinner.color),7===a)-1!==t.search("#")?r=RSColor.processRgba(t):-1!==t.search("rgb")&&(r=RSColor.rgbValues(t)).length>2&&(r=RSColor.rgbString(r[0].trim(),r[1].trim(),r[2].trim())),r&&"string"==typeof t&&(-1===(r=r.replace(")",", ")).search("rgba")&&(r=r.replace("rgb","rgba")),i+=' style="border-top-color: '+r+"0.65); border-bottom-color: "+r+"0.15); border-left-color: "+r+"0.65); border-right-color: "+r+'0.15)"');else 12===a&&(i+=' style="background:'+t+'"');i+=">";for(var o=0;o<s;o++)o>0&&(i+=" "),i+='<span style="background:'+t+'"></span>';i+="</div>"}return i}function F(t){t=void 0===t?RVS.SLIDER.settings.layout.spinner.color:t;var i=RVS.SLIDER.settings.layout.spinner.type;0!=i&&5!=i||(t="#ffffff");var a=e("rs-loader");0==i||1==i||2==i||5==i?a.css({backgroundColor:t}):3==i||4==i?(a.css({backgroundColor:"transparent"}),a.find("div").css({backgroundColor:t})):a.html(b(t))}function I(){var t=RVS.SLIDER.settings.source.flickr;if("photosets"==t.type)if(""!=t.userURL&&""!=t.apiKey){var i={url:t.userURL,key:t.apiKey,count:t.count,set:t.photoSet};RVS.F.ajaxRequest("get_flickr_photosets",i,function(i){e("#sr_src_flickr_photoset").html(i.data.html),RVS.F.setS2Option({select:e("#sr_src_flickr_photoset"),selectValue:t.photoSet})})}else e("#sr_src_flickr_photoset").html(""),RVS.F.setS2Option({select:e("#sr_src_flickr_photoset"),selectValue:""})}function x(){var t=RVS.SLIDER.settings.source.facebook;if("album"==t.typeSource)if(""!=t.appId&&""!=t.appSecret&&""!==t.pageURL){var i={url:t.pageURL,album:t.album,app_id:t.appId,app_secret:t.appSecret};RVS.F.ajaxRequest("get_facebook_photosets",i,function(i){e("#sr_src_facebok_album").html(i.html),RVS.F.setS2Option({select:e("#sr_src_facebok_album"),selectValue:t.album})})}else e("#sr_src_facebok_album").html(""),RVS.F.setS2Option({select:e("#sr_src_facebok_album"),selectValue:""})}function k(){var t=RVS.SLIDER.settings.source.youtube;if("playlist"==t.typeSource)if(""!=t.api&&""!=t.channelId){var i={api:t.api,id:t.channelId,playlist:t.playList};RVS.F.ajaxRequest("get_youtube_playlists",i,function(i){e("#sr_src_youtube_playlist").html(i.data.html),RVS.F.setS2Option({select:e("#sr_src_youtube_playlist"),selectValue:t.album})})}else e("#sr_src_youtube_playlist").html(""),RVS.F.setS2Option({select:e("#sr_src_youtube_playlist"),selectValue:""})}function T(e){var t=!1,i={w:RVS.SLIDER.settings.size.width.d,h:RVS.SLIDER.settings.size.height.d};for(var a in RVS.V.sizes)RVS.V.sizes.hasOwnProperty(a)&&(!t&&RVS.SLIDER.settings.size.custom[RVS.V.sizes[a]]&&(i.w=parseInt(RVS.SLIDER.settings.size.width[RVS.V.sizes[a]],0),i.h=parseInt(RVS.SLIDER.settings.size.height[RVS.V.sizes[a]],0)),RVS.V.sizes[a]===e&&(t=!0));return i}function D(r,s){var o=RVS.SLIDER.settings.size.custom[RVS.screen],n=T(RVS.screen),l=o?parseInt(RVS.SLIDER.settings.size.width[RVS.screen],0):Math.min(n.w,RVS.ENV.grid_sizes[RVS.screen]),c=o?parseInt(RVS.SLIDER.settings.size.height[RVS.screen],0):l/n.w*n.h,S="fullscreen"===RVS.SLIDER.settings.layouttype?RVS.SLIDER.settings.size.minHeightFullScreen:RVS.SLIDER.settings.size.minHeight,u="100%",V=c/l;S="none"!==S&&e.isNumeric()?S:0,S="fullscreen"===RVS.SLIDER.settings.layouttype?Math.max(Math.max(S,RVS.S.winh-RVS.ENV.globVerOffset),c+65):Math.max(S,c+65),S=RVS.SLIDER.settings.size.respectAspectRatio?Math.max(RVS.C.rb.width(),l)*V:S,RVS.F.updateMinSliderHeights(),S=Math.max(S,R+65),V=(c=Math.max(c,R))/l;var m=l,f=parseInt(RVS.SLIDER.settings.layout.bg.padding,0)||0;RVS.S.dim_offsets=RVS.F.sliderDimensionOffsets(),e.isNumeric(RVS.SLIDER.settings.size.maxWidth)&&RVS.SLIDER.settings.size.maxWidth>0&&(m=Math.min(parseInt(RVS.SLIDER.settings.size.maxWidth,0),l)+"px"),punchgs.TweenLite.set([i,".layer_grid"],{width:l+"px",maxWidth:"none",height:c+"px"}),punchgs.TweenLite.set(t,{minWidth:parseInt(m,0)+parseInt(f,0)+"px",maxWidth:"none",width:u,minHeight:parseInt(S,0)+parseInt(f,0)}),punchgs.TweenLite.set(a,{minHeight:S+RVS.ENV.globVerOffset}),RVS.S.ulDIM={width:t.width(),height:t.height()};var y=Math.max(0,(RVS.S.ulDIM.width+15)/2-l/2),h=Math.max(0,(RVS.S.ulDIM.height-65-c)/2);punchgs.TweenLite.set(t,{minHeight:RVS.S.ulDIM.height+RVS.S.dim_offsets.carouseloffset+RVS.S.dim_offsets.navtop+RVS.S.dim_offsets.navbottom,minWidth:m}),h=h+RVS.S.dim_offsets.carouseltop+RVS.S.dim_offsets.navtop+65,y=Math.max(15,y),h=Math.max(65,h),RVS.S.layer_grid_offset=void 0===RVS.S.layer_grid_offset?{left:0,top:h}:RVS.S.layer_grid_offset,RVS.S.layer_grid_offset.top=h,"carousel"===RVS.SLIDER.settings.type?(punchgs.TweenLite.set("#slide_"+RVS.S.slideId,{width:l,height:c,top:h,left:y,overflow:"hidden",borderRadius:RVS.SLIDER.settings.carousel.borderRadius}),punchgs.TweenLite.set([".layer_grid"],{x:0,y:0,left:"0px",top:"0px"}),punchgs.TweenLite.set(i,{x:0,y:0,left:y+"px",top:h}),punchgs.TweenLite.set(".slots_wrapper",{top:0,left:0,maxWidth:"none",maxHeight:"none"})):(punchgs.TweenLite.set("#slide_"+RVS.S.slideId,{width:"100%",height:"100%",top:0,left:0,overflow:"visible",borderRadius:0}),punchgs.TweenLite.set([i,".layer_grid"],{x:0,y:0,left:y+"px",top:h}),punchgs.TweenLite.set(".slots_wrapper",{top:65,left:15,maxWidth:Math.max(RVS.S.ulDIM.width,d.width()-15)+"px",maxHeight:RVS.S.ulDIM.height-65+"px"})),r&&function(){for(var t in RVS.V.sizes)if(RVS.V.sizes.hasOwnProperty(t)){var i=RVS.V.sizes[t],a=RVS.SLIDER.settings.size.custom[i],r=T(i),s=a?parseInt(RVS.SLIDER.settings.size.width[i],0):Math.min(r.w,RVS.ENV.grid_sizes[i]),o=a?parseInt(RVS.SLIDER.settings.size.height[i],0):s/r.w*r.h;s=Math.round(s),o=Math.round(o),e("#sr_size_width_"+i).val(s+"px"),e("#sr_size_height_"+i).val(o+"px")}var n="none"===RVS.SLIDER.settings.size.maxWidth||0===RVS.SLIDER.settings.size.maxWidth||""===RVS.SLIDER.settings.size.maxWidth?"none":RVS.SLIDER.settings.size.maxWidth;e("#sr_size_maxwidth").val(n),e("#sr_size_minheight").val(RVS.SLIDER.settings.size.minHeight),e("#sr_size_minheight_fs").val(RVS.SLIDER.settings.size.minHeightFullScreen),void 0!==p&&(p.innerHTML=parseInt(RVS.SLIDER.settings.size.width[RVS.screen],0)+"px")}(),s&&RVS.F.updateScreenShrinks(),RVS.F.updateContentDeltas(),"carousel"===RVS.SLIDER.settings.type?function(t){var i=RVS.SLIDER.settings,a=e("#fake_carousel_elements"),r=0,s=1,o="center"===i.carousel.horizontal?2:1,n=0,l=0;e(".fakecarouselslide").hide();for(var d=1;d<i.carousel.maxItems;d++){var c,S=e("#fakecarouselslide_"+d);0===S.length&&(S=e('<div class="fakecarouselslide" id="fakecarouselslide_'+d+'"></div>'),a.append(S)),r=d%2==1?parseFloat(r)+parseFloat(t.width)+parseInt(i.carousel.space,0):r,n=d%2==1?n+1:n,c={width:t.width,height:t.height,left:parseFloat(t.left)+s*r,top:t.top,borderRadius:i.carousel.borderRadius,display:"block"};var p=parseInt(i.carousel.scaleDown,0),u=parseInt(i.carousel.maxRotation,0),R=parseInt(i.carousel.maxOpacity,0);if(i.carousel.fadeOut)if(i.carousel.varyFade)c.autoAlpha=1-Math.abs(R/100/Math.ceil(i.carousel.maxItems/o)*n);else switch(i.carousel.horizontal){case"center":c.autoAlpha=Math.abs(n)<Math.ceil(i.carousel.maxItems/o-1)?1:1-(Math.abs(n)-Math.floor(Math.abs(n)));break;case"left":c.autoAlpha=n<1&&n>0?1-n:Math.abs(n)>i.carousel.maxItems-1?1-(Math.abs(n)-(i.carousel.maxItems-1)):1;break;case"right":c.autoAlpha=n>-1&&n<0?1-Math.abs(n):n>i.carousel.maxItems-1?1-(Math.abs(n)-(i.carousel.maxItems-1)):1}else c.autoAlpha=Math.abs(n)<Math.ceil(i.carousel.maxItems/o)?1:0;i.carousel.scale&&void 0!==i.carousel.scaleDown&&p>0?(i.carousel.varyScale?c.scale=1-Math.abs(p/100/Math.ceil(i.carousel.maxItems/o)*n):c.scale=n*s>=1||n*s<=-1?1-p/100:(100-p*Math.abs(n))/100,l=n*(c.width-c.width*c.scale)/2):c.scale=1,i.carousel.rotation&&void 0!==i.carousel.maxRotation&&0!=Math.abs(u)?(i.carousel.varyRotate?(c.rotationY=Math.abs(u)-Math.abs((1-Math.abs(1/Math.ceil(i.carousel.maxItems/o)*n))*u),c.autoAlpha=Math.abs(c.rotationY)>90?0:c.autoAlpha):c.rotationY=n*s>=1||n*s<=-1?u:Math.abs(n)*u,c.rotationY=c.rotationY*s*-1):c.rotationY=0,void 0!==c.scale&&1!==c.scale&&(c.left=s<0?c.left+l:c.left-l),c.zIndex=Math.round(100-Math.abs(5*n)),c.force3D=!0,c.transformStyle="flat",c.transformPerspective=1200,c.transformOrigin="50% "+i.carousel.vertical,punchgs.TweenLite.set(S,c),s*=-1}}({width:l,height:c,top:h,left:y}):e(".fakecarouselslide").remove(),RVS.F.sliderNavPositionUpdate({type:"arrows"}),RVS.F.sliderNavPositionUpdate({type:"bullets"}),RVS.F.sliderNavPositionUpdate({type:"tabs"}),RVS.F.sliderNavPositionUpdate({type:"thumbs"}),L("update")}function O(){punchgs.TweenLite.set(l,{backgroundImage:""});var t=RVS.SLIDER.settings,i=window.RSColor.get(t.layout.bg.color);i.indexOf("gradient")>=0?punchgs.TweenLite.set(l,{background:i}):punchgs.TweenLite.set(l,{backgroundColor:i}),t.layout.bg.useImage&&punchgs.TweenLite.set(l,{backgroundPosition:t.layout.bg.position,"background-size":t.layout.bg.fit,backgroundRepeat:t.layout.bg.repeat,backgroundImage:"url("+t.layout.bg.image+")"}),e("#slider_overlay").attr("class",t.layout.bg.dottedOverlay)}function C(){var t=e("#rev_progress_bar_wrap");RVS.SLIDER.settings.general.progressbar.set&&"hero"!==RVS.SLIDER.settings.type?(punchgs.TweenLite.set(t,{bottom:"bottom"===RVS.SLIDER.settings.general.progressbar.position?"0px":"auto",top:"top"===RVS.SLIDER.settings.general.progressbar.position?"65px":"auto",height:RVS.SLIDER.settings.general.progressbar.height,background:window.RSColor.get(RVS.SLIDER.settings.general.progressbar.color)}),t.removeClass("deactivated")):t.addClass("deactivated")}function z(i,a,r){var s=!1;if(void 0!==a?window.lastColorEditjObj=e(a):(void 0!==window.lastColorEditjObj&&(r=window.RSColor.get(window.lastColorEditjObj.val())),s=!0),void 0!==r)if(1==window.lastColorEditjObj[0].dataset.navcolor)RVS.F.drawNavigation({type:window.lastColorEditjObj[0].dataset.evtparam,color:r,attribute:window.lastColorEditjObj[0].name});else switch(window.lastColorEditjObj[0].name){case"sliderprogresscolor":punchgs.TweenLite.set(e("#rev_progress_bar_wrap"),{background:r});break;case"sliderbgcolor":s?O():punchgs.TweenLite.set(t,{background:r});break;case"sliderTabBgColor":RVS.F.bgUpdate("tabs",r);break;case"sliderThumbBgColor":RVS.F.bgUpdate("thumbs",r);break;case"module_spinner_color":F(r)}}function P(e){var t={};if(t.addOns=RVS.F.safeExtend(!0,{},e.addOns)||{},t.version=E(e.version,"6.0.0"),t.version=t.version<"6.0.0"?"6.0.0":t.version,t.alias=E(e.alias,""),t.shortcode=E(e.shortcode,""),t.type=E(e.type,"standard"),t.layouttype=E(e.layouttype,"fullwidth"),t.sourcetype=E(e.sourcetype,"gallery"),t.title=E(e.title,"New Slider"),t.googleFont=E(e.googleFont,[]),t.id=E(e.id,""),t.class=E(e.class,""),t.wrapperclass=E(e.wrapperclass,""),t.source=E(e.source,{gallery:{},post:{excerptLimit:55,maxPosts:30,fetchType:"cat_tag",category:"",sortBy:"ID",types:"post",list:"",sortDirection:"DESC",subType:"post"},woo:{excerptLimit:55,maxProducts:30,featuredOnly:!1,inStockOnly:!1,category:"",sortBy:"ID",types:"product",sortDirection:"DESC",regPriceFrom:"",regPriceTo:"",salePriceFrom:"",salePriceTo:""},instagram:{count:"",hashTag:"",transient:1200,type:"user",userId:""},facebook:{album:"",appId:"",appSecret:"",count:"",pageURL:"",transient:1200,typeSource:"album"},flickr:{apiKey:"",count:"",galleryURL:"",groupURL:"",photoSet:"",transient:1200,type:"publicphotos",userURL:""},twitter:{accessSecret:"",accessToken:"",consumerKey:"",consumerSecret:"",count:"",excludeReplies:!1,imageOnly:!1,includeRetweets:!1,transient:1200,userId:""},vimeo:{albumId:"",channelName:"",count:"",transient:1200,groupName:"",typeSource:"user",userName:""},youtube:{api:"",channelId:"",count:"",playList:"",transient:1200,typeSource:"channel"}}),t.def=E(e.def,{intelligentInherit:!0,autoResponsive:!0,responsiveChilds:!0,responsiveOffset:!0,transition:"fade",transitionDuration:300,delay:9e3,background:{fit:"cover",fitX:100,fitY:100,position:"center center",positionX:0,positionY:0,repeat:"no-repeat",imageSourceType:"full"},panZoom:{set:!1,blurStart:0,blurEnd:0,duration:1e4,ease:"Linear.easeNone",fitEnd:100,fitStart:100,xEnd:0,yEnd:0,xStart:0,yStart:0,rotateStart:0,rotateEnd:0}}),t.def.intelligentInherit=void 0===t.def.intelligentInherit||t.def.intelligentInherit,t.def.autoResponsive=void 0===t.def.autoResponsive||t.def.autoResponsive,t.def.responsiveChilds=void 0===t.def.responsiveChilds||t.def.responsiveChilds,t.def.responsiveOffset=void 0===t.def.responsiveOffset||t.def.responsiveOffset,t.size=E(e.size,{respectAspectRatio:!1,disableForceFullWidth:!1,custom:{d:!0,n:!1,t:!1,m:!1},minHeightFullScreen:"",minHeight:"",maxWidth:0,maxHeight:0,fullScreenOffsetContainer:"",fullScreenOffset:"",width:{d:1240,n:1024,t:778,m:480},height:{d:900,n:768,t:960,m:720},editorCache:{d:0,n:0,t:0,m:0},overflow:!1,gridEQModule:!1,forceOverflow:!1,keepBPHeight:!1}),t.size.editorCache=void 0===t.size.editorCache?{d:0,n:0,t:0,m:0}:t.size.editorCache,t.size.editorCache.d=0===t.size.editorCache.d?t.size.height.d:t.size.editorCache.d,t.size.editorCache.n=0===t.size.editorCache.n?t.size.height.n:t.size.editorCache.n,t.size.editorCache.t=0===t.size.editorCache.t?t.size.height.t:t.size.editorCache.t,t.size.editorCache.m=0===t.size.editorCache.m?t.size.height.m:t.size.editorCache.m,t.codes=E(e.codes,{css:"",javascript:""}),t.carousel=E(e.carousel,{borderRadius:0,borderRadiusUnit:"px",ease:"Power3.easeInOut",fadeOut:!0,scale:!1,horizontal:"center",vertical:"center",infinity:!1,maxItems:3,maxRotation:0,maxOpacity:100,paddingTop:0,paddingBottom:0,rotation:!1,scaleDown:50,space:0,speed:800,stretch:!1,varyFade:!1,varyRotate:!1,varyScale:!1,showAllLayers:!1}),t.hero=E(e.hero,{activeSlide:-1}),t.layout=E(e.layout,{bg:{color:"transparent",padding:0,dottedOverlay:"none",shadow:0,useImage:!1,image:"",fit:"cover",position:"center center",repeat:"no-repeat"},spinner:{color:"#ffffff",type:"0"},position:{marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,align:"center",fixedOnTop:!1,addClear:!1}}),t.visibility=E(e.visibility,{hideSelectedLayersUnderLimit:0,hideAllLayersUnderLimit:0,hideSliderUnderLimit:0}),t.general=E(e.general,{slideshow:{slideShow:!0,stopOnHover:!1,stopSlider:!1,stopAfterLoops:0,stopAtSlide:1,shuffle:!1,loopSingle:!1,viewPort:!1,viewPortStart:"wait",viewPortArea:RVS.F.cToResp({default:"200px"}),presetSliderHeight:!1,initDelay:0,waitForInit:!1},progressbar:{set:!1,height:5,position:"bottom",color:"rgba(255,255,255,0.5)"},firstSlide:{set:!1,duration:300,slotAmount:7,type:"fade",alternativeFirstSlideSet:!1,alternativeFirstSlide:1},layerSelection:!1,lazyLoad:"none",nextSlideOnFocus:!1,disableFocusListener:!1,disableOnMobile:!1,autoPlayVideoOnMobile:!0,disablePanZoomMobile:!1,useWPML:!1}),"object"!=typeof t.general.slideshow.viewPortArea&&(t.general.slideshow.viewPortArea=RVS.F.cToResp({default:t.general.slideshow.viewPortArea})),t.nav=E(e.nav,{preview:{width:50,height:100},swipe:{set:!1,setOnDesktop:!1,blockDragVertical:!1,direction:"horizontal",minTouch:1,velocity:75},keyboard:{direction:"horizontal",set:!1},mouse:{set:"off",reverse:"default"},arrows:{set:!1,rtl:!1,animSpeed:"1000ms",animDelay:"1000ms",style:"1000",preset:"default",presets:{},alwaysOn:!0,hideDelay:200,hideDelayMobile:1200,hideOver:!1,hideOverLimit:0,hideUnder:!1,hideUnderLimit:778,left:{anim:"fade",horizontal:"left",vertical:"center",offsetX:30,offsetY:0,align:"slider"},right:{anim:"fade",horizontal:"right",vertical:"center",offsetX:30,offsetY:0,align:"slider"}},thumbs:{anim:"fade",animSpeed:"1000ms",animDelay:"1000ms",set:!1,rtl:!1,style:"2000",preset:"default",presets:{},alwaysOn:!0,hideDelay:200,hideDelayMobile:1200,hideOver:!1,hideOverLimit:0,hideUnder:!1,hideUnderLimit:778,spanWrapper:!1,horizontal:"center",vertical:"bottom",amount:5,direction:"horizontal",height:50,width:100,widthMin:100,innerOuter:"inner",offsetX:0,offsetY:20,space:5,align:"slider",padding:5,wrapperColor:"transparent"},tabs:{anim:"fade",animSpeed:"1000ms",animDelay:"1000ms",set:!1,rtl:!1,style:"4000",preset:"default",presets:{},alwaysOn:!0,hideDelay:200,hideDelayMobile:1200,hideOver:!1,hideOverLimit:0,hideUnder:!1,hideUnderLimit:778,spanWrapper:!1,horizontal:"center",vertical:"bottom",amount:5,direction:"horizontal",height:50,width:100,widthMin:100,innerOuter:"inner",offsetX:0,offsetY:20,space:5,align:"slider",padding:5,wrapperColor:"transparent"},bullets:{anim:"fade",animSpeed:"1000ms",animDelay:"1000ms",set:!1,rtl:!1,style:"3000",preset:"default",presets:{},alwaysOn:!0,horizontal:"center",vertical:"bottom",direction:"horizontal",offsetX:0,offsetY:20,align:"slider",space:5,hideDelay:200,hideDelayMobile:1200,hideOver:!1,hideOverLimit:0,hideUnder:!1,hideUnderLimit:778}}),t.troubleshooting=E(e.troubleshooting,{ignoreHeightChanges:!1,ignoreHeightChangesUnderLimit:0,alternateImageType:"off",alternateURL:"",jsNoConflict:!1,jsInBody:!1,outPutFilter:"none",simplify_ie8_ios4:!1}),t.parallax=E(e.parallax,{set:!1,setDDD:!1,disableOnMobile:!1,levels:[5,10,15,20,25,30,35,40,45,46,47,48,49,50,51,30],ddd:{BGFreeze:!1,layerOverflow:!1,overflow:!1,shadow:!1,zCorrection:65},mouse:{speed:0,bgSpeed:0,layersSpeed:0,origo:"slideCenter",type:"scroll"}}),t.modal=E(e.modal,{bodyclass:"",horizontal:"center",vertical:"middle",cover:!0,coverColor:"rgba(0,0,0,0.5)"}),t.scrolleffects=E(e.scrolleffects,{set:!1,setBlur:!1,setFade:!1,setGrayScale:!1,bg:!1,direction:"both",layers:!1,maxBlur:10,multiplicator:"1.3",multiplicatorLayers:"1.3",disableOnMobile:!1,parallaxLayers:!1,staticLayers:!1,staticParallaxLayers:!1,tilt:30}),t.scrolltimeline=E(e.scrolltimeline,{set:!1,fixed:!1,fixedStart:2e3,fixedEnd:4e3,layers:!1,ease:"Linear.easeNone",speed:500}),t.use_access_permissions=E(e.use_access_permissions,!1),t.allow_groups={},e.allow_groups)for(var i in e.allow_groups)e.allow_groups.hasOwnProperty(i)&&("number"==typeof e.allow_groups[i]?t.allow_groups["group"+e.allow_groups[i]]=!0:t.allow_groups[i]=e.allow_groups[i]);return t.source.post.fetchType=void 0===t.source.post.fetchType?"cat_tag":t.source.post.fetchType,t.source.instagram.hashTag=void 0===t.source.instagram.hashTag?"":t.source.instagram.hashTag,t.source.instagram.transient=void 0===t.source.instagram.transient?1200:t.source.instagram.transient,t.source.instagram.type=void 0===t.source.instagram.type?"":t.source.instagram.type,t.source.flickr.transient=void 0===t.source.flickr.transient?1200:t.source.flickr.transient,t.source.vimeo.transient=void 0===t.source.vimeo.transient?1200:t.source.vimeo.transient,t.source.youtube.transient=void 0===t.source.youtube.transient?1200:t.source.youtube.transient,t.def.transition=void 0===t.def.transition?"fade":t.def.transition,t.def.background.imageSourceType=void 0===t.def.background.imageSourceType?"full":t.def.background.imageSourceType,t.def.panZoom.blurStart=void 0===t.def.panZoom.blurStart?0:t.def.panZoom.blurStart,t.def.panZoom.blurEnd=void 0===t.def.panZoom.blurEnd?0:t.def.panZoom.blurEnd,t.size.maxWidth=void 0===t.size.maxWidth?"":t.size.maxWidth,t.carousel.ease=void 0===t.carousel.ease?"Power3.easeInOut":t.carousel.ease,t.carousel.speed=void 0===t.carousel.speed?"800":t.carousel.speed,t.general.firstSlide.alternativeFirstSlideSet=void 0===t.general.firstSlide.alternativeFirstSlideSet?"":t.general.firstSlide.alternativeFirstSlideSet,t.nav.preview&&(t.nav.preview.width=void 0===t.nav.preview.width?50:t.nav.preview.width),t.nav.preview&&(t.nav.preview.height=void 0===t.nav.preview.height?100:t.nav.preview.height),t.nav.mouse&&(t.nav.mouse.reverse=void 0===t.nav.mouse.reverse?"default":t.nav.mouse.reverse),t.nav.arrows.left&&(t.nav.arrows.left.align=void 0===t.nav.arrows.left.align?"slider":t.nav.arrows.left.align),t.nav.arrows.right&&(t.nav.arrows.right.align=void 0===t.nav.arrows.right.align?"slider":t.nav.arrows.right.align),t.nav.bullets&&(t.nav.bullets.align=void 0===t.nav.bullets.align?"slider":t.nav.bullets.align),t.troubleshooting.ignoreHeightChangesUnderLimit=void 0===t.troubleshooting.ignoreHeightChangesUnderLimit?0:t.troubleshooting.ignoreHeightChangesUnderLimit,t.parallax.ddd.zCorrection=void 0===t.parallax.ddd.zCorrection?65:t.parallax.ddd.zCorrection,t.parallax.mouse.bgSpeed=void 0===t.parallax.mouse.bgSpeed?0:t.parallax.mouse.bgSpeed,t.parallax.mouse.layersSpeed=void 0===t.parallax.mouse.layersSpeed?1e3:t.parallax.mouse.layersSpeed,t.scrolleffects.bg=void 0!==t.scrolleffects.bg&&t.scrolleffects.bg,t.scrolleffects.direction=void 0===t.scrolleffects.direction?"both":t.scrolleffects.direction,t.scrolleffects.maxBlur=void 0===t.scrolleffects.maxBlur?10:t.scrolleffects.maxBlur,t.scrolleffects.multiplicator=void 0===t.scrolleffects.multiplicator?"1.3":t.scrolleffects.multiplicator,t.scrolleffects.multiplicatorLayers=void 0===t.scrolleffects.multiplicatorLayers?"1.3":t.scrolleffects.multiplicatorLayers,t.scrolleffects.tilt=void 0===t.scrolleffects.tilt?"":t.scrolleffects.tilt,t}function E(e,t){return null==e?t:e}RVS.F.setSlider=function(e){return e=void 0===e||0==e.length?{}:e,"undefined"!=typeof _rmig_&&(e=_rmig_.migrateSlider(e)),RVS.F.safeExtend(!0,P({}),P(e))},RVS.F.initSliderBuilder=function(){for(var u in RVS.C.rb=e("#rev_builder"),t=e("#rev_slider_ul"),l=e("#rev_slider_ul_inner"),i=e("#layer_grid"),a=e("#rev_slider_inbuild"),r=e("#ruler_top_offset"),s=e("#ruler_left_offset"),o=e("#ruler_hor_marker"),n=e("#ruler_ver_marker"),d=e("#rev_builder_inner"),e("#screenselector").on("change",function(t){RVS.screen=this.value,RVS.S.nextscreen="d"===RVS.screen?"none":"n"===RVS.screen?"d":"t"===RVS.screen?"n":"m"==RVS.screen?"t":"none",RVS.S.prevscreen="d"===RVS.screen?"n":"n"===RVS.screen?"t":"t"===RVS.screen?"m":"none",e(".screen_selector.selected").removeClass("selected"),e(".screen_selector.ss_"+RVS.screen).addClass("selected"),D(!1),RVS.DOC.trigger("sliderSizeChanged"),RVS.F.setRulers()}),RVS.DOC.on("click","#newslide, #add_blank_slide",function(){return RVS.F.addRemoveSlideWithBackupAfterSlideId({id:"addnewslide",step:"Add New Slide",icon:"fiber_new",slideObj:{slide:RVS.F.addSlideObj(),layers:{}},slideObjOld:{},beforeSelected:RVS.S.slideId,after:function(){RVS.DOC.trigger("changeToSlideMode")}}),!1}),RVS.DOC.on("addBulkSlides",function(e,t){return RVS.F.addRemoveSlideWithBackupAfterSlideId({id:"addnewslide",step:"Add New Slide",icon:"fiber_new",slideObj:{slide:RVS.F.addSlideObj(),layers:{}},slideObjOld:{},beforeSelected:RVS.S.slideId,urls:t.urlImage,endOfMain:function(){RVS.DOC.trigger("changeToSlideMode"),setTimeout(function(){RVS.DOC.trigger("saveslider")},500)}}),!1}),RVS.DOC.on("click","#add_template_slide",function(){RVS.F.openObjectLibrary({types:["moduletemplates","modules"],filter:"all",selected:["moduletemplates"],context:"editor",success:{slide:"addSlideFromTemplate"}})}),RVS.DOC.on("click","#add_module_slide",function(){RVS.F.openObjectLibrary({types:["modules","moduletemplates"],filter:"all",selected:["modules"],context:"editor",success:{slide:"addSlideFromTemplate"}})}),RVS.DOC.on("addSlideFromTemplate",function(e,t){RVS.F.ajaxRequest("install_template_slide",{slider_id:RVS.ENV.sliderID,slide_id:t},function(e){if(e.success){for(var t in e.slides)if(e.slides.hasOwnProperty(t)){var i={slide:RVS.F.addSlideObj(RVS.F.expandSlide(e.slides[t].params)),layers:{},id:e.slides[t].id};for(var a in e.slides[t].layers)if(e.slides[t].layers.hasOwnProperty(a)){var r=e.slides[t].layers[a],s=RVS.F.addLayerObj(RVS.F.safeExtend(!0,RVS.F.addLayerObj(r.type,void 0,!0),r));s&&(i.layers[s.uid]=s)}RVS.SLIDER[e.slides[t].id]=i,RVS.SLIDER.slideIDs.push(e.slides[t].id),RVS.F.addToSlideList({id:e.slides[t].id})}RVS.F.mainMode({mode:"slidelayout",set:!0,slide:e.slides[0].id})}})}),RVS.DOC.on("updatepublishicons",function(e,t){void 0!==t&&void 0!==t.val&&(document.getElementById("publish_toggle_icon_"+RVS.S.slideId).className=t.val+"slide")}),RVS.DOC.on("click",".publishedslide, .unpublishedslide",function(){var t=e(this).closest("li").data("ref");return RVS.SLIDER[t].slide.publish.state="published"===RVS.SLIDER[t].slide.publish.state?"unpublished":"published",this.className=RVS.SLIDER[t].slide.publish.state+"slide",RVS.F.updateEasyInputs({container:e("#form_slidegeneral_progstate"),path:t+".slide.",trigger:"init"}),RVS.SLIDER.inWork.push(t),!1}),RVS.DOC.on("deletesingleslide",function(){RVS.F.addRemoveSlideWithBackup({id:"deleteslide",step:"Remove Slide",icon:"remove",slideObjOld:RVS.F.safeExtend(!0,{},RVS.SLIDER[window.delete_slide_id]),slideId:window.delete_slide_id,slideObj:{},beforeSelected:RVS.S.slideId})}),RVS.DOC.on("click",".deleteslide, #do_delete_slide",function(){return window.delete_slide_id="do_delete_slide"===this.id?RVS.S.slideId:e(this).closest("li").data("ref"),RVS.F.RSDialog.create({bgopacity:.85,modalid:"rbm_decisionModal",icon:"delete",title:RVS_LANG.deleteslide,maintext:RVS_LANG.deletingslide,subtext:RVS_LANG.deleteselectedslide+" <strong>"+RVS.SLIDER[window.delete_slide_id].slide.title+"</strong> ?",do:{icon:"delete",text:RVS_LANG.yesdeleteslide,event:"deletesingleslide"},cancel:{icon:"cancel",text:RVS_LANG.cancel}}),!1}),RVS.DOC.on("click",".duplicateslide, #do_duplicate_slide",function(){var t="do_duplicate_slide"===this.id?RVS.S.slideId:e(this).closest("li").data("ref");return RVS.F.addRemoveSlideWithBackupAfterSlideId({id:"duplicateslide",step:"Duplicate Existing Slide",icon:"content_copy",slideObj:RVS.F.safeExtend(!0,{},RVS.SLIDER[t]),slideObjOld:{},beforeSelected:RVS.S.slideId}),!1}),RVS.DOC.on("click",".addchildslide, #do_addchild_slide",function(){var t="do_addchild_slide"===this.id?RVS.S.slideId:e(this).closest("li").data("ref");return RVS.F.addRemoveSlideWithBackupAfterSlideId({id:"duplicateslide",parentId:t,step:"Duplicate Existing Slide",icon:"content_copy",slideObj:RVS.F.safeExtend(!0,{},RVS.SLIDER[t]),slideObjOld:{},beforeSelected:RVS.S.slideId}),!1}),RVS.DOC.on("showhidescrollonssm",function(t,i){e(".sr_sbased_tab").hide(),e("#sr_sbased_"+i).show(),RVS.F.checkForFixedScroll()}),RVS.DOC.on("updateAutoRotate",function(t,i){if(void 0===i||void 0===i.val)RVS.SLIDER.settings.general.slideshow.slideShow||e("#generalslideshow").hide();else{RVS.F.openBackupGroup({id:"autorotate",txt:"Auto Slideshow",icon:"play_circle_outline"});var a="settings.general.slideshow.";i.val?RVS.F.updateSliderObj({path:a+"stopSlider",val:!1}):(RVS.F.updateSliderObj({path:a+"stopSlider",val:!0}),RVS.F.updateSliderObj({path:a+"stopAfterLoops",val:0}),RVS.F.updateSliderObj({path:a+"stopAtSlide",val:1})),RVS.F.closeBackupGroup({id:"autorotate"}),RVS.F.updateEasyInputs({container:e("#form_slidergeneral_slideshow"),trigger:"init",visualUpdate:!0})}}),RVS.DOC.on("screenSelectorChanged",function(){RVS.F.updateEasyInputs({container:e("#form_slidergeneral_general_viewport"),init:"true"})}),RVS.DOC.on("checkOnScrollSettings",function(){void 0!==RVS.TL&&void 0!==RVS.TL.TL&&(RVS.SLIDER.settings.scrolltimeline.set&&RVS.SLIDER.settings.scrolltimeline.fixed&&"auto"!==RVS.SLIDER.settings.layouttype?RVS.TL.TL.addClass("fixedscrollon"):RVS.TL.TL.removeClass("fixedscrollon"),RVS.DOC.trigger("checkLayerLoopswithOnScroll"))}),RVS.DOC.on("checkLayerLoopswithOnScroll",function(){clearTimeout(RVS.S.checkLayerLoopswithOnScroll),RVS.S.checkLayerLoopswithOnScroll=setTimeout(function(){if(!0===RVS.SLIDER.settings.scrolltimeline.set){var t=!1;for(var i in RVS.L)RVS.L.hasOwnProperty(i)&&void 0!==RVS.L[i].timeline&&void 0!==RVS.L[i].timeline.scrollBased&&("true"==RVS.L[i].timeline.scrollBased||"default"==RVS.L[i].timeline.scrollBased&&!0===RVS.SLIDER.settings.scrolltimeline.layers)&&(RVS.L[i].timeline.loop.use=!1,t=!0);t&&(RVS.F.updateEasyInputs({container:e("#layer_looping_wrap"),trigger:"init",visualUpdate:!0}),RVS.F.showInfo({content:RVS_LANG.layerloopdisabledduetimeline,type:"goodtoknow",showdelay:0,hidedelay:2,hideon:"",event:""}))}},200)}),RVS.DOC.on("click",".insertineditor",function(){return RVS.F.insertTextAtCursor(window.rs_jscss_editor,"\n"+e(this.dataset.insertfrom).val().replace("revapi.","revapi"+RVS.ENV.sliderID+".")+"\n"),!1}),RVS.DOC.on("click",".js_css_editor_tabs",function(){e(".js_css_editor_tabs").removeClass("selected"),e(this).addClass("selected"),RVS.SLIDER.settings.codes[window.rs_jscss_editor.getMode().name]=window.rs_jscss_editor.getValue(),window.rs_jscss_editor.setValue(RVS.SLIDER.settings.codes[this.dataset.mode]),window.rs_jscss_editor.setOption("mode",this.dataset.mode)}),RVS.DOC.on("click","#emc_toggle, #form_slidergeneral_advanced_api",function(){e(".emc_toggle_wrap").toggleClass("open")}),RVS.DOC.on("openSliderApi",RVS.F.openSliderApi),RVS.DOC.on("click","#rbm_slider_api .rbm_close",function(){RVS.SLIDER.settings.codes[window.rs_jscss_editor.getMode().name]=window.rs_jscss_editor.getValue(),RVS.F.RSDialog.close()}),RVS.DOC.on("device_area_dimension_update",function(){D(!0,!0),RVS.DOC.trigger("updateAllInheritedSize"),RVS.F.redrawSlideBG(),RVS.F.expandCollapseTimeLine(!0,"open")}),RVS.DOC.on("updatesliderlayout_main",function(e,t){RVS.DOC.trigger("checkOnScrollSettings"),RVS.DOC.trigger("updatesliderlayout",[e,t])}),RVS.DOC.on("updatesliderlayout",function(e,t){clearTimeout(window.updateSliderLayoutTimer),c=RVS.S.lgh,window.updateSliderLayoutTimer=setTimeout(function(){D(!1),RVS.F.redrawSlideBG(),"slidertype"===t&&C(),c!==RVS.S.lgh&&RVS.F.updateAllHTMLLayerPositions()},100)}),RVS.DOC.on("device_area_availibity",function(){D(!0),RVS.F.updateAvailableDevices(),RVS.F.updateDeviceOnOffBtns()}),RVS.DOC.on("check_custom_size",function(t,i){var a;a=i.eventparam,RVS.SLIDER.settings.size.custom[a]=!0,e("#sr_custom_"+a).attr("checked",RVS.SLIDER.settings.size.custom[a]),RVS.F.turnOnOffVisUpdate({input:e("#sr_custom_"+a)})}),RVS.DOC.on("windowresized",function(){y.width=d.width(),f.width=a.width(),D(!1),RVS.F.setRulers(),RVS.F.updateContentDeltas(),L("update")}),RVS.DOC.on("updateShortCode",function(){RVS.SLIDER.settings.alias=RVS.F.sanitize_input(RVS.SLIDER.settings.alias),RVS.SLIDER.settings.shortcode='{{block type="nwdrevslider/revslider" alias="'+RVS.SLIDER.settings.alias+'"}}',RVS.SLIDER.settings.modalshortcode='{{block type="nwdrevslider/revslider" usage="modal" alias="'+RVS.SLIDER.settings.alias+'"}}',RVS.F.updateEasyInputs({container:e("#form_module_title"),init:"true"}),RVS.F.updateEasyInputs({container:e("#form_slider_as_modal"),init:"true"})}),RVS.DOC.on("sliderBGUpdate",O),RVS.DOC.on("sliderProgressUpdate",C),RVS.DOC.on("coloredit colorcancel",z),RVS.DOC.on("updateParallaxLevelTexts",RVS.F.updateParallaxLevelTexts),RVS.DOC.on("updateParallaxdddBG",RVS.F.updateParallaxdddBG),RVS.DOC.on("updateSourcePostCategories",function(){RVS.F.updatePostCategories({postTypes:RVS.SLIDER.settings.source.post.types,categories:e("#post_category")})}),RVS.DOC.on("flickrsourcechange",I),RVS.DOC.on("facebooksourcechange",x),RVS.DOC.on("youtubesourcechange",k),RVS.DOC.on("loadStreamDependencies",w),RVS.DOC.on("revertEasyInputs.source",function(e,t){RVS.F.updateEasyInputs({container:t,trigger:"init",path:"settings."});var i=RVS.SLIDER.settings.source.flickr.apiKey!==RVS.F.revert.settings.source.flickr.apiKey||RVS.SLIDER.settings.source.flickr.userURL!==RVS.F.revert.settings.source.flickr.userURL||RVS.SLIDER.settings.source.flickr.apiKey!==RVS.F.revert.settings.source.flickr.apiKey,a=RVS.SLIDER.settings.source.facebook.pageURL!==RVS.F.revert.settings.source.facebook.pageURL||RVS.SLIDER.settings.source.facebook.appId!==RVS.F.revert.settings.source.facebook.appId||RVS.SLIDER.settings.source.facebook.appSecret!==RVS.F.revert.settings.source.facebook.appSecret,r=RVS.SLIDER.settings.source.youtube.api!==RVS.F.revert.settings.source.youtube.api||RVS.SLIDER.settings.source.youtube.channelId!==RVS.F.revert.settings.source.youtube.channelId;(i||a||r)&&(m=!0)}),RVS.DOC.on("moduleSpinnerChange",function(){var t=RVS.SLIDER.settings.layout.spinner.type;e("rs-loader").attr("class","spinner"+t).html(b()),(isNaN(t)||parseInt(t,10)<6)&&F()}),RVS.DOC.on("scrollUpdates",function(){L("update")}),function(){for(var e=0,i=0;i<480;i++){if(e%2!=0&&0!==e)r.append('<div class="rm_five" style="left:'+10*i+'px"></div>'),s.append('<div class="rm_five" style="top:'+10*i+'px"></div>');else if(0===e){var o=10*(i-120),n=(""+o).split(""),l=n.join("</br>");r.append('<div class="rm_hundred" style="left:'+10*i+'px">'+o+"</div>"),s.append('<div class="rm_hundred" style="top:'+10*i+'px">'+l+"</div>")}else r.append('<div class="rm_ten" style="left:'+10*i+'px"></div>'),s.append('<div class="rm_ten" style="top:'+10*i+'px"></div>');e=10==++e?0:e}f.width=a.width(),RVS.S.ulDIM={width:t.width(),height:t.height()},v=RVS.C.rb.offset()}(),RVS.F.sliderUpdateAllFields(),RVS.DOC.trigger("updateShortCode"),L(),S=document.getElementById("show_c_height"),void 0!==(p=document.getElementById("show_c_width"))&&(p.innerHTML=parseInt(RVS.SLIDER.settings.size.width[RVS.screen],0)+"px"),w(),RVS.F.checkSliderSource(),RVS.V.sizesold)RVS.V.sizesold.hasOwnProperty(u)&&(document.getElementById("global_size_"+RVS.V.sizesold[u]).innerHTML=0==u?"> "+RVS.ENV.glb_slizes[RVS.V.sizes[1]]:3==u?"< "+RVS.ENV.glb_slizes[RVS.V.sizes[u]]:parseInt(RVS.ENV.glb_slizes[RVS.V.sizes[u]],0)-1+"px - "+RVS.ENV.glb_slizes[RVS.V.sizes[parseInt(u,0)+1]])},RVS.F.updateAvailableDevices=function(){for(var t=!1,i=1;i<4;i++)RVS.SLIDER.settings.size.custom[RVS.V.sizes[i]]?e("#screen_selecotr_ss_"+RVS.V.sizes[i]).removeClass("ssnotavailable"):(e("#screen_selecotr_ss_"+RVS.V.sizes[i]).addClass("ssnotavailable"),RVS.screen==RVS.V.sizes[i]&&(t=!0));t&&e("#screen_selecotr_ss_d").trigger("click"),RVS.DOC.trigger("updateAllInheritedSize")},RVS.F.checkForFixedScroll=function(){"slider"===RVS.eMode.top&&"#form_module_scroll"==RVS.eMode.menu&&e("#timeline_slider_tab").hasClass("selected")?(RVS.TL.TL.addClass("fixedscrolledit"),RVS.TL.FixedScrollEdit=!0):RVS.TL.FixedScrollEdit&&(RVS.TL.TL.removeClass("fixedscrolledit"),RVS.TL.FixedScrollEdit=!1)},RVS.F.updateDeviceOnOffBtns=function(t){for(var i in RVS.V.sizes)if(RVS.V.sizes.hasOwnProperty(i)&&"d"!==RVS.V.sizes[i]){var a=e("#sr_custom_"+RVS.V.sizes[i]),r=e("#sr_custom_"+RVS.V.sizes[i]+"_opt");a.attr("checked",RVS.SLIDER.settings.size.custom[RVS.V.sizes[i]]),r.attr("checked",RVS.SLIDER.settings.size.custom[RVS.V.sizes[i]]),t||(RVS.F.turnOnOffVisUpdate({input:a}),RVS.F.turnOnOffVisUpdate({input:r}))}},RVS.F.sliderUpdateAllFields=function(i){D(!0);var a=RVS.SLIDER.settings;for(var r in e('input[name="sliderlayouttype_guide"][value="'+a.layouttype+'"]').attr("checked","checked"),e('input[name="sliderlayouttype"][value="'+a.layouttype+'"]').attr("checked","checked"),e('input[name="slidertype"][value="'+a.type+'"]').attr("checked","checked"),e('input[name="slidertype_guide"][value="'+a.type+'"]').attr("checked","checked"),RVS.F.updateDeviceOnOffBtns(!0),RVS.F.updateAvailableDevices(),e("#sr_size_minheight").val(parseInt(a.size.minHeight,0)||""),e("#sr_size_maxheight").val(parseInt(a.size.maxHeight,0)||""),e("#sr_size_minheight_fs").val(parseInt(a.size.minHeightFullScreen,0)||""),e("#sr_size_maxwidth").val(parseInt(a.size.maxWidth,0)||""),e("#slidermodalcolor").val(a.modal.coverColor).rsColorPicker("refresh"),e("#sliderbgcolor").val(a.layout.bg.color).rsColorPicker("refresh"),e("#sr_layout_padding").val(parseInt(a.layout.bg.padding,0)||""),e("#sliderprogresscolor").val(a.general.progressbar.color).rsColorPicker("refresh"),e("#sr_pb_height").val(parseInt(a.general.progressbar.height,0)||10),i&&(e(".slider_general_collector .tponoffwrap").each(function(){RVS.F.turnOnOff(e(this),!1)}),RVS.F.updateEasyInputs({container:e(".slider_general_collector"),path:"settings."})),RVS.F.updateEasyInputs({container:e("#screen_selector_top_list"),path:"settings."}),RVS.F.updateEasyInputs({container:e("#slider_settings"),path:"settings."}),RVS.F.updateEasyInputs({container:e("#nav_form_collector"),path:"settings."}),e("#sliderTabBgColor").val(a.nav.tabs.wrapperColor).rsColorPicker("refresh"),e("#sliderThumbBgColor").val(a.nav.thumbs.wrapperColor).rsColorPicker("refresh"),e("#slider_title").html(RVS.SLIDER.settings.title),RVS.DOC.trigger("updateSourcePostCategories"),RVS.DOC.trigger("updatesliderthumb"),RVS.DOC.trigger("moduleSpinnerChange"),RVS.DOC.trigger("updateAutoRotate"),RVS.SLIDER.settings.addOns)RVS.SLIDER.settings.addOns.hasOwnProperty(r)&&RVS.SLIDER.settings.addOns[r].enable&&RVS.DOC.trigger(r+"_init");RVS.F.updateContentDeltas(),RVS.F.updateAllNavigationContainer(!0),C(),O(),RVS.S.ulDIM={width:t.width(),height:t.height()},RVS.F.updateParallaxLevelTexts(),RVS.F.updateParallaxdddBG(),RVS.DOC.trigger("checkOnScrollSettings")},RVS.F.updateAllNavigationContainer=function(e){RVS.SLIDER.settings.nav.arrows.set&&RVS.F.updateNavStyleSelection({init:e,type:"arrows"}),RVS.SLIDER.settings.nav.bullets.set&&RVS.F.updateNavStyleSelection({init:e,type:"bullets"}),RVS.SLIDER.settings.nav.tabs.set&&RVS.F.updateNavStyleSelection({init:e,type:"tabs"}),RVS.SLIDER.settings.nav.thumbs.set&&RVS.F.updateNavStyleSelection({init:e,type:"thumbs"})},RVS.F.redrawAllNavigationContainer=function(e){RVS.SLIDER.settings.nav.arrows.set&&RVS.F.drawNavigation({init:e,type:"arrows"}),RVS.SLIDER.settings.nav.bullets.set&&RVS.F.drawNavigation({init:e,type:"bullets"}),RVS.SLIDER.settings.nav.tabs.set&&RVS.F.drawNavigation({init:e,type:"tabs"}),RVS.SLIDER.settings.nav.thumbs.set&&RVS.F.drawNavigation({init:e,type:"thumbs"})},RVS.F.setRulers=function(e){h.x=Math.max(15,6+(f.width-parseInt(RVS.SLIDER.settings.size.width[RVS.screen],0))/2),h.y=Math.max(15,RVS.S.layer_grid_offset.top),function(e){if(void 0===e||void 0===e.offset.x||void 0===e.offset.y)return;var t={x:parseInt(e.offset.x,0)-g.x+"px",y:65-g.y+RVS.S.dim_offsets.navtop+"px"};punchgs.TweenLite.set(r,{x:t.x}),punchgs.TweenLite.set(s,{y:t.y})}({offset:{x:h.x,y:h.y}})},RVS.F.setRulerMarkers=function(e){e=void 0===e?{top:0,left:0}:e;var t="overruler"===RVS.S.builderHover||"overbuilder"===RVS.S.builderHover?"block":"hidden",i=e.x,a=Math.max(15,e.y-v.top);punchgs.TweenLite.set(o,{left:i+"px",height:"15px",display:t}),punchgs.TweenLite.set(n,{top:a+"px",width:"15px",display:t})},RVS.F.updateContentDeltas=function(){if(void 0!==RVS.C.layergrid||void 0!==i){var e=t.offset(),a="slidelayout"===RVS.S.vWmode?void 0===RVS.C.layergrid?i.offset():RVS.C.layergrid.offset():void 0===i?RVS.C.layergrid.offset():i.offset();RVS.S.layer_grid_offset=a,RVS.S.layer_wrap_offset.x=a.left-e.left,RVS.S.layer_wrap_offset.y=a.top-e.top,RVS.S.layer_wrap_offset.xr=t.width()-i.width()-RVS.S.layer_wrap_offset.x,RVS.S.lgw=i.width(),RVS.S.lgh=i.height(),RVS.SLIDER.settings.size.editorCache[RVS.screen]=RVS.S.lgh,void 0!==S&&(S.innerHTML=parseInt(RVS.S.lgh,0)+"px"),void 0!==p&&(p.innerHTML=parseInt(RVS.SLIDER.settings.size.width[RVS.screen],0)+"px"),window.contentDeltaFirstRun=!0}},RVS.F.panSlider=function(e){},RVS.F.updateParallaxLevelTexts=function(){e(".prallaxlevelselect").each(function(){for(var t=e(this),i=1;i<16;i++)t[0].options[i].text=i+". ("+RVS.SLIDER.settings.parallax.levels[i-1]+" %)";t.select2RS({minimumResultsForSearch:"Infinity"})})},RVS.F.checkSliderSource=function(){var e=!0,t=RVS.SLIDER.settings.source[RVS.SLIDER.settings.sourcetype],i=t.count;switch(i=void 0===i||""==i?0:i,RVS.SLIDER.settings.sourcetype){case"facebook":e=""!==t.apiId&&""!==t.appSecret&&(""!==t.pageURL||""!==t.album)&&0!=i;break;case"flickr":e=""!==t.apiKey&&""!==t.appSecret&&(""!==t.galleryURL||""!==t.groupURL||""!==t.photoSet||""!==t.userURL)&&0!=i;break;case"instagram":e=""!==t.userId&&0!=i;break;case"vimeo":e=!0===(e=("channel"!=t.typeSource||""!=t.channelName)&&(("user"!=t.typeSource||""!=t.userName)&&(("group"!=t.typeSource||""!=t.groupName)&&("album"!=t.typeSource||""!=t.albumId))))&&0!=i;break;case"youtube":e=""!==t.api&&""!==t.channelId&&0!=i;break;case"twitter":e=""!==t.accessSecret&&""!==t.accessToken&&""!==t.consumerKey&&""!=t.consumerSecret&&""!==t.userId&&0!=i}e||RVS.F.showInfo({content:RVS_LANG.somesourceisnotcorrect,type:"goodtoknow",showdelay:2,hidedelay:5,hideon:"click",event:""})},RVS.F.updateParallaxdddBG=function(){clearTimeout(window.updateParallaxDDDBGTimer),window.updateParallaxDDDBGTimer=setTimeout(function(){RVS.F.updateEasyInputs({container:e(".slider_ddd_subsettings"),init:!0})},50)},RVS.F.reSortSlides=function(){for(var t in RVS.SLIDER.slideIDs)RVS.SLIDER.slideIDs.hasOwnProperty(t)&&-1===(""+RVS.SLIDER.slideIDs[t]).indexOf("static_")&&e("#slidelist").append(e("#slide_list_element_"+RVS.SLIDER.slideIDs[t]))},RVS.F.openNewGuide=function(){window.initQuickGuide?window.initQuickGuide.page=0:(RVS.DOC.on("click","#rbm_quickguide .rbm_close, .mcg_quit_page",function(){RVS.F.RSDialog.close(),RVS.F.sliderUpdateAllFields(!0)}),RVS.DOC.on("click",".mcg_next_page",function(){window.initQuickGuide.page++,_()}),RVS.DOC.on("click",".mcg_prev_page",function(){window.initQuickGuide.page--,_(-1)}),window.initQuickGuide={page:0,active:0},RVS.DOC.on("click",".guide_combi_resize",function(){switch(e(".guide_combi_resize").removeClass("selected"),this.className+=" selected",this.id){case"guide_classic":RVS.SLIDER.settings.def.intelligentInherit=!1,RVS.SLIDER.settings.def.autoResponsive=!1,RVS.SLIDER.settings.def.responsiveChilds=!1,RVS.SLIDER.settings.def.responsiveOffset=!1,RVS.SLIDER.settings.size.custom.n=!1,RVS.SLIDER.settings.size.custom.t=!1,RVS.SLIDER.settings.size.custom.m=!1;break;case"guide_intelligent":RVS.SLIDER.settings.def.intelligentInherit=!0,RVS.SLIDER.settings.def.autoResponsive=!0,RVS.SLIDER.settings.def.responsiveChilds=!0,RVS.SLIDER.settings.def.responsiveOffset=!0;break;case"guide_manual":RVS.SLIDER.settings.def.intelligentInherit=!1,RVS.SLIDER.settings.def.autoResponsive=!1,RVS.SLIDER.settings.def.responsiveChilds=!1,RVS.SLIDER.settings.def.responsiveOffset=!1,RVS.SLIDER.settings.size.custom.n=!0,RVS.SLIDER.settings.size.custom.t=!0,RVS.SLIDER.settings.size.custom.m=!0}RVS.F.sliderUpdateAllFields(!0),D(!0),RVS.F.updateAvailableDevices(),RVS.F.updateDeviceOnOffBtns()})),_(),e("#guide_classic").removeClass("selected"),e("#guide_intelligent").removeClass("selected"),e("#guide_manual").removeClass("selected"),RVS.SLIDER.settings.def.intelligentInherit?e("#guide_intelligent").addClass("selected"):RVS.SLIDER.settings.size.custom.n||RVS.SLIDER.settings.size.custom.t||RVS.SLIDER.settings.size.custom.m?e("#guide_manual").addClass("selected"):e("#guide_classic").addClass("selected"),RVS.F.updateEasyInputs({container:e("#rbm_quickguide"),path:"settings."}),RVS.F.RSDialog.create({modalid:"rbm_quickguide",bgopacity:.85})},RVS.F.openSliderApi=function(){"FAIL"!==window.rs_jscss_editor&&("undefined"==typeof CodeMirror||void 0===CodeMirror?(RVS.F.showWaitAMinute({fadeIn:500,text:RVS_LANG.loadingcodemirror}),RVS.F.loadCSS(RVS.ENV.plugin_url+"/admin/assets/css/codemirror.css"),e.getScript(RVS.ENV.plugin_url+"/admin/assets/js/plugins/codemirror.js",function(){setTimeout(function(){RVS.F.showWaitAMinute({fadeOut:500})},100),RVS.F.openSliderApi()}).fail(function(e,t,i){setTimeout(function(){RVS.F.showWaitAMinute({fadeOut:500})},100),window.rs_jscss_editor="FAIL"})):void 0===window.rs_jscss_editor?(window.rs_jscss_editor=CodeMirror(document.getElementById("rs_css_js_area"),{value:RVS.SLIDER.settings.codes.css,mode:"css",theme:"hopscotch",lineWrapping:!0,lineNumbers:!0}),window.rs_jscss_editor.on("focus",function(){window.rs_jscss_editor.refresh()}),setTimeout(RVS.F.openSliderApi,200)):(RVS.F.RSDialog.create({modalid:"rbm_slider_api",bgopacity:.5}),e(".emc_toggle_inner").RSScroll({suppressScrollX:!0}),setTimeout(function(){window.rs_jscss_editor.refresh()},600)))},RVS.F.sliderDimensionOffsets=function(){var e={};return e.carouseltop="carousel"===RVS.SLIDER.settings.type?parseInt(RVS.SLIDER.settings.carousel.paddingTop,0):0,e.carouselbottom="carousel"===RVS.SLIDER.settings.type?parseInt(RVS.SLIDER.settings.carousel.paddingBottom,0):0,e.carouseloffset="carousel"===RVS.SLIDER.settings.type?e.carouseltop+e.carouselbottom:0,e.navtop="outer-top"===RVS.SLIDER.settings.nav.thumbs.innerOuter&&RVS.SLIDER.settings.nav.thumbs.set?RVS.S.navOffset.thumbs.top:0,e.navtop="outer-top"===RVS.SLIDER.settings.nav.tabs.innerOuter&&RVS.SLIDER.settings.nav.tabs.set?RVS.S.navOffset.tabs.top:e.navtop,e.navbottom="outer-bottom"===RVS.SLIDER.settings.nav.thumbs.innerOuter&&RVS.SLIDER.settings.nav.thumbs.set?RVS.S.navOffset.thumbs.bottom:0,e.navbottom="outer-bottom"===RVS.SLIDER.settings.nav.tabs.innerOuter&&RVS.SLIDER.settings.nav.tabs.set?RVS.S.navOffset.tabs.bottom:e.navbottom,e.navleft="outer-left"===RVS.SLIDER.settings.nav.thumbs.innerOuter&&RVS.SLIDER.settings.nav.thumbs.set?RVS.S.navOffset.thumbs.left:0,e.navleft="outer-left"===RVS.SLIDER.settings.nav.tabs.innerOuter&&RVS.SLIDER.settings.nav.tabs.set?RVS.S.navOffset.tabs.left:e.navleft,e.navright="outer-right"===RVS.SLIDER.settings.nav.thumbs.innerOuter&&RVS.SLIDER.settings.nav.thumbs.set?RVS.S.navOffset.thumbs.right:0,e.navright="outer-right"===RVS.SLIDER.settings.nav.tabs.innerOuter&&RVS.SLIDER.settings.nav.tabs.set?RVS.S.navOffset.tabs.right:e.navright,e.louter="outer-left"===RVS.SLIDER.settings.nav.thumbs.innerOuter&&RVS.SLIDER.settings.nav.thumbs.set||"outer-left"===RVS.SLIDER.settings.nav.tabs.innerOuter&&RVS.SLIDER.settings.nav.tabs.set,e.router="outer-right"===RVS.SLIDER.settings.nav.thumbs.innerOuter&&RVS.SLIDER.settings.nav.thumbs.set||"outer-right"===RVS.SLIDER.settings.nav.tabs.innerOuter&&RVS.SLIDER.settings.nav.tabs.set,e},RVS.F.updateMinSliderHeights=function(){return u=void 0===R?0:R,R=void 0!==RVS.C.layergrid?RVS.C.rZone.top.height()+RVS.C.rZone.middle.height()+RVS.C.rZone.bottom.height():0,u!==R},RVS.F.updateScreenShrinks=function(){var e=parseInt(RVS.SLIDER.settings.size.width.d,0);for(var t in RVS.V.sizes)if(RVS.V.sizes.hasOwnProperty(t)){var i=RVS.V.sizes[t],a=RVS.SLIDER.settings.size.custom[i]?parseInt(RVS.SLIDER.settings.size.width[i],0):Math.min(e,RVS.ENV.grid_sizes[i]);RVS.S.shrink[i]=a/e,e=a}}}()}($nwd_jQuery),RVS.S.nextscreen="none",RVS.S.prevscreen="n",RVS.S.uniqueIds=[],RVS.S.uniqueId=0,RVS.S.selLayerTypes={row:!1,column:!1,group:!1,text:!1,image:!1,shape:!1,object:!1,button:!1,audio:!1,video:!1,bottom:!1,top:!1,middle:!1},RVS.S.selElements=[],RVS.selLayers=[],RVS.screen="d",RVS.TL={currentTime:0,c:{}},RVS.C.rZone={top:"",middle:"",bottom:""},RVS.S.slideTrans=0,function(e){!function(){var t,i;RVS.F.initAdmin(),RVS.SLIDER={},RVS.F.loadBuilder=function(t){var i=void 0!==t&&void 0!==t.id&&t.id;!1!==i&&RVS.F.setEditorUrl(i),RVS.V.ignoreAutoStart=!0,e("#builderView").length>0&&e("#builderView").remove(),RVS.F.ajaxRequest("load_builder",{},function(t){e("#wpbody").append(t.data),!1!==i&&RVS.F.loadSlider({id:i})})},RVS.F.loadSlider=function(t){(void 0!==t.id&&""!==t.id||void 0!==t.alias&&""!==t.alias)&&(RVS.F.showWaitAMinute({fadeIn:0,text:RVS_LANG.loadingcontent}),setTimeout(function(){RVS.F.ajaxRequest("get_full_slider_object",void 0!==t.alias&&""!==t.alias?{alias:t.alias}:{id:t.id},function(t){if(void 0===t.id)RVS.F.showWaitAMinute({fadeIn:500,text:RVS_LANG.redirectingtooverview}),RVS.F.backToOverview();else{for(var i in RVS.F.showWaitAMinute({fadeIn:500,text:RVS_LANG.preparingdatas}),RVS.SLIDER.id=t.id,RVS.ENV.sliderID=t.id,t.slider_params.alias=t.alias,t.slider_params.title=t.title,s(t.slider_params),t.slides)if(t.slides.hasOwnProperty(i)){let a=t.slides[i];a.params=void 0!==a.params&&e.isArray(a.params)?void 0:RVS.F.expandSlide(a.params),r({slideid:a.id,uid:a.id,slide:a.params,layers:a.layers})}a(t.static_slide),o(),RVS.F.showWaitAMinute({fadeOut:500,text:RVS_LANG.preparingdatas}),void 0===t.slider_params.layout&&RVS.F.openNewGuide()}},void 0,!0),RVS.F.showWaitAMinute({fadeOut:0,text:RVS_LANG.loadingcontent})},100))},RVS.F.addOnsBasics=function(){for(var e in RVS.LIB.ADDONS)RVS.LIB.ADDONS.hasOwnProperty(e)&&(RVS.SLIDER.settings.addOns[e]=void 0===RVS.SLIDER.settings.addOns[e]?{enable:!1}:RVS.SLIDER.settings.addOns[e])};var a=function(e){var t=void 0!==e.params?RVS.F.addSlideObj():RVS.F.addSlideObj(e.slide);t.title=RVS_LANG.globalLayers,t.static.isstatic=!0,void 0!==e.params&&void 0!==e.params.static&&(t.static.overflow=void 0===e.params.static.overflow?"hidden":e.params.static.overflow,t.static.position=void 0===e.params.static.position?"front":e.params.static.position,t.static.lastEdited=void 0===e.params.static.lastEdited?"front":e.params.static.lastEdited),e.id=void 0===e.id?RVS.ENV.sliderID:e.id,r({slideid:"static_"+e.id,uid:e.id,slide:t,layers:e.layers,order:999}),RVS.SLIDER.staticSlideId="static_"+e.id},r=function(e){e.layers=void 0===e.layers?{}:e.layers,e.slide=void 0===e.slide?{}:e.slide,RVS.SLIDER.slideIDs=void 0===RVS.SLIDER.slideIDs?[]:RVS.SLIDER.slideIDs;var t={slide:RVS.F.addSlideObj(e.slide),layers:{},id:e.uid};for(var i in e.layers)if(e.layers.hasOwnProperty(i)){var a=e.layers[i],r=RVS.F.addLayerObj(RVS.F.safeExtend(!0,RVS.F.addLayerObj(a.type,void 0,!1,!0),a));"zone"===r.type&&"bottom"!==r.uid&&"middle"!==r.uid&&"top"!==r.uid||r&&(t.layers[r.uid]=r)}RVS.SLIDER[e.slideid]=t,RVS.SLIDER.slideIDs.push(e.slideid),RVS.S.slideId=e.slideid,RVS.F.addToSlideList({id:e.slideid})},s=function(e){RVS.SLIDER.settings=RVS.F.setSlider(e)},o=function(){RVS.F.generateAttachmentMetaData(),RVS.C.vW=e("#builderView"),RVS.C.rb=e("#rev_builder"),RVS.C.rb_tlw=e("#rb_tlw"),RVS.S.slideId=RVS.F.getEditorUrl(),""+RVS.S.slideId.indexOf("slider-")>=0&&(RVS.S.slideId=RVS.SLIDER.slideIDs[0],""+RVS.S.slideId.indexOf("static_")>0&&RVS.SLIDER.slideIDs.length>1&&(RVS.S.slideId=RVS.SLIDER.slideIDs[1])),RVS.DOC.on("revertEasyInputs",function(e,t){RVS.F.updateEasyInputs({container:t,trigger:"init",path:"settings."})}),RVS.F.initNavigation(),RVS.F.initialiseInputBoxes(),RVS.F.initSliderBuilder(),RVS.F.initTimeLineModules(),RVS.F.initTimeLineConstruct(),RVS.F.initSlideBuilder(),RVS.F.initLayerTools(),RVS.F.initLayerActions(),RVS.F.initLayerBuilder(),RVS.F.initLayerListBuilder(),RVS.F.initQuickStyle(),RVS.F.updateInputBoxes(),RVS.F.initOnOff(),RVS.F.switchButtonInit(),e("#undoredowrap").RSScroll({wheelPropagation:!1,suppressScrollX:!0,minScrollbarLength:100}),punchgs.TweenLite.set("#adminmenumain, #wpadminbar",{opacity:0}),window.onbeforeunload=function(e){if(RVS.F.showWaitAMinute({fadeIn:500,text:t?RVS_LANG.redirectingtooverview:RVS_LANG.leavingpage}),RVS.S.need_to_save){t=!1,RVS.F.showWaitAMinute({fadeOut:500});var e=e||window.event;return e&&(e.returnValue=RVS_LANG.leaving),RVS_LANG.leaving}},RVS.DOC.on("enablePXModule",function(t,i){void 0!==i&&("slideparallax"===i&&!0!==RVS.SLIDER.settings.parallax.set&&"-"!==RVS.SLIDER[RVS.S.slideId].slide.effects.parallax||"object"==typeof i&&"-"!==RVS.L[i.layerid].effects.parallax&&!0!==RVS.SLIDER.settings.parallax.set)&&(RVS.SLIDER.settings.parallax.set=!0,RVS.F.updateEasyInputs({container:e("#form_slidergeneral_effects_scroll"),trigger:"init",visualUpdate:!0}),RVS.F.showInfo({content:RVS_LANG.parallaxsettoenabled,type:"goodtoknow",showdelay:0,hidedelay:2,hideon:"",event:""}))}),RVS.DOC.on("enableScrollEffectModule",function(t,i){void 0!==i&&("object"!=typeof i&&("fade"===i||"blur"===i||"grayscale"===i)&&!0!==RVS.SLIDER.settings.parallax.set&&"true"==RVS.SLIDER[RVS.S.slideId].slide.effects[i]||"object"==typeof i&&null==i.layerid&&void 0!==i.val&&"true"==i.val&&!0!==RVS.SLIDER.settings.scrolleffects.set||"object"==typeof i&&void 0!==i.layerid&&"true"==RVS.L[i.layerid].effects.effect&&!0!==RVS.SLIDER.settings.scrolleffects.set)&&(RVS.SLIDER.settings.scrolleffects.set=!0,RVS.F.updateEasyInputs({container:e("#form_slidergeneral_effects_scroll"),trigger:"init",visualUpdate:!0}),RVS.F.showInfo({content:RVS_LANG.feffectscrollsettoenabled,type:"goodtoknow",showdelay:0,hidedelay:2,hideon:"",event:""}))}),RVS.DOC.on("enableScrollModule",function(t,i){void 0!==i&&void 0!==i.layerid&&("true"==RVS.L[i.layerid].timeline.scrollBased&&!0!==RVS.SLIDER.settings.scrolltimeline.set&&(RVS.SLIDER.settings.scrolltimeline.set=!0,RVS.F.updateEasyInputs({container:e("#form_slidergeneral_effects_scroll"),trigger:"init",visualUpdate:!0}),RVS.F.showInfo({content:RVS_LANG.timelinescrollsettoenabled,type:"goodtoknow",showdelay:0,hidedelay:2,hideon:"",event:""})),!0===RVS.SLIDER.settings.scrolltimeline.set&&("true"==RVS.L[i.layerid].timeline.scrollBased||"default"==RVS.L[i.layerid].timeline.scrollBased&&!0===RVS.SLIDER.settings.scrolltimeline.layers)&&(RVS.L[i.layerid].timeline.loop.use=!1,RVS.F.updateEasyInputs({container:e("#layer_looping_wrap"),trigger:"init",visualUpdate:!0}),RVS.F.showInfo({content:RVS_LANG.layerloopdisabledduetimeline,type:"goodtoknow",showdelay:0,hidedelay:2,hideon:"",event:""})))}),RVS.DOC.on("click",".action_collection_wrap",function(){e(this).toggleClass("showmore")}),RVS.DOC.on("click","#rb_editor_logo",function(){clearTimeout(i),e(".rs-builder-mode.hideallwp").addClass("showwpmenus"),e(".nav-bar").addClass("show_magento_menu"),punchgs.TweenLite.to(".nav-bar",.5,{opacity:1})}),RVS.DOC.on("mouseenter",".nav-bar, #wpadminbar",function(){clearTimeout(i),e(".rs-builder-mode.hideallwp").addClass("showwpmenus"),punchgs.TweenLite.to(".nav-bar",.5,{opacity:1})}),RVS.DOC.on("mouseleave",".nav-bar, #wpadminbar",function(){i=setTimeout(function(){punchgs.TweenLite.to(".nav-bar, #wpadminbar",.1,{opacity:0,onComplete:function(){e(".rs-builder-mode.hideallwp").removeClass("showwpmenus"),e(".nav-bar").removeClass("show_magento_menu")}})},200)}),RVS.DOC.on("mouseleave",".action_collection_wrap",function(){e(this).removeClass("showmore")}),RVS.DOC.on("mouseover",".aable",function(t){e(".aable.hovered").removeClass("hovered");var i=e(t.toElement);i.hasClass("aable")?i.addClass("aable").addClass("hovered"):i.closest(".aable").addClass("hovered")}),RVS.DOC.on("mouseleave",".aable",function(t){var i=e(this);i.hasClass("aable")?i.removeClass("hovered"):i.closest(".aable").removeClass("hovered")}),RVS.DOC.on("click",".markable",function(){if(!RVS.S.justresized)return function(t){if(void 0===t||"object"!=typeof t||void 0===t.element&&void 0===t.jelement&&void 0===t.id)return!1;void 0!==t.id&&(t.jelement=e("#"+t.id)),void 0===t.element&&(t.element=t.jelement[0]),void 0===t.jelement&&(t.jelement=e(t.element)),void 0===t.id&&(t.id=t.element.id),void 0!==t.jelement&&(function(e){var t=[];for(var i in RVS.S.selElements)RVS.S.selElements.hasOwnProperty(i)&&(RVS.S.selElements[i].id===e?t.push(RVS.S.selElements[i]):RVS.S.selElements[i].jobj.removeClass("marked"));RVS.S.selElements=t,RVS.DOC.trigger("cursorselection"),RVS.F.selectLayers({ignoreModeChange:!0,overwrite:!0})}(t.element.id),RVS.S.selElements=[],RVS.S.selElements.push({jobj:t.jelement,multiplemark:t.element.dataset.multiplemark,forms:t.jelement.data("forms"),id:t.element.id}),t.jelement.addClass("marked"))}({id:this.id}),RVS.F.openSettings({forms:e(this).data("forms"),uncollapse:this.dataset.collapse}),!1}),RVS.DOC.on("click",".slide_list_element, .slide_list_child_element",function(){var t=RVS.SLIDER[RVS.S.slideId].slide.static.isstatic;RVS.S.lastShownSlideId=RVS.S.slideId;var i=RVS.C.vW.hasClass("mode__slidestyle");return RVS.F.mainMode({mode:"slidelayout",slide:this.dataset.ref}),i?(RVS.DOC.trigger("changeToSlideMode"),!RVS.SLIDER[RVS.S.slideId].slide.static.isstatic&&t&&(e(".slide_submodule_trigger.selected").removeClass("selected"),RVS.F.showForms("#form_slidebg",!0))):RVS.DOC.trigger("changeToLayerMode"),!1}),RVS.DOC.on("click",".callEventButton",function(){void 0!==this.dataset.evt&&RVS.DOC.trigger(this.dataset.evt,this.dataset.evtparam)}),e("#back_to_overview").on("click",function(){RVS.F.setCookie("rs6_shortly_edited_slider",RVS.ENV.sliderID,17e-5),t=!0,RVS.S.need_to_save||RVS.F.showWaitAMinute({fadeIn:500,text:RVS_LANG.redirectingtooverview}),RVS.F.backToOverview()}),RVS.DOC.on("click","#undo, #undo_redo_wrap",function(){RVS.F.undo({step:1})}),RVS.DOC.on("click","#redo",function(){RVS.F.redo({step:1})}),RVS.DOC.on("click",".undoredostep",function(){"redolist"===this.parentElement.id?RVS.F.redo({step:parseInt(e(this).index(),0)+1}):RVS.F.undo({step:e("#undolist li").length-e(this).index()-1})}),RVS.DOC.on("click","#noactiondone_undo",function(){RVS.F.undo({step:e("#undolist li").length})}),RVS.DOC.on("keydown",function(e){if(("none"===RVS.S.inFocus||void 0===RVS.S.inFocus)&&("MacOS"===RVS.S.OSName&&e.metaKey&&!e.ctrlKey||e.ctrlKey))switch(e.keyCode){case 83:return e.preventDefault(),RVS.DOC.trigger("saveslider"),!1;case 90:return RVS.F.undo({step:1}),!1;case 89:return RVS.F.redo({step:1}),!1}}),RVS.DOC.on("click",".close_and_accept",function(){var t=e(this.closest(".form_collector"));t.hide(),void 0!==t.data("underlay")&&(e(t.data("underlay")).hide(),punchgs.TweenLite.set("#the_container",{filter:"none"})),void 0!==this.dataset.evt&&RVS.DOC.trigger(this.dataset.evt,this.dataset.evtparam)}),RVS.DOC.on("mouseover",".callhoverevt",function(e){void 0!==this.dataset.hoverevt&&RVS.DOC.trigger(this.dataset.hoverevt,this.dataset.hoverevtparam)}),RVS.DOC.on("mouseleave",".callhoverevt",function(e){void 0!==this.dataset.leaveevt&&RVS.DOC.trigger(this.dataset.leaveevt,this.dataset.leaveevtparam)}),RVS.DOC.on("mouseover","#ruler_top, #ruler_left",function(e){return RVS.S.builderHover="overruler",!1}),RVS.DOC.on("mouseover","#timeline_settings",function(e){return RVS.S.builderHover="overtimeline",!1}),RVS.DOC.on("mouseover","#rev_builder_inner",function(e){return RVS.S.builderHover="overbuilder",!1}),RVS.DOC.on("mouseleave","#rev_builder_wrapper",function(e){return RVS.S.builderHover=!1,RVS.F.setRulerMarkers(),!1}),RVS.DOC.on("mouseleave","#the_right_toolbar_inner",function(e){return RVS.S.builderHover=!1,RVS.F.setRulerMarkers(),!1}),RVS.DOC.on("click","#save_slider",function(){RVS.F.convertIDStoTxt(),RVS.F.convertArrayToObjects(),RVS.DOC.trigger("saveslider")}),RVS.DOC.on("click","#preview_slider",function(){RVS.F.openPreivew({title:RVS.SLIDER.settings.title,alias:RVS.SLIDER.settings.alias,id:RVS.SLIDER.id,mode:this.dataset.mode})}),RVS.DOC.on("saveslider",function(){RVS.F.saveSlides({index:0,slides:RVS.SLIDER.slideIDs,trigger:RVS.F.saveSliderSettings,works:RVS.SLIDER.inWork})}),e(".form_collector").each(function(t){var i=e(this);void 0===i.attr("id")&&i.attr("id","form_collector_id_"+t)}),RVS.F.fixTools(),punchgs.TweenLite.fromTo(e("#builderView"),.001,{x:"100%"},{x:"0%",ease:punchgs.Power3.easeInOut}),setTimeout(function(){RVS.F.mainMode({mode:"slidelayout",forms:["*slidelayout**mode__slidecontent*#form_layer_content"],set:!0,uncollapse:!0,slide:RVS.S.slideId}),RVS.F.mainMode({mode:"sliderlayout",forms:["*sliderlayout*#form_module_title"],set:!0,uncollapse:!0,slide:RVS.S.slideId}),e("body.rs-builder-mode").addClass("hideallwp"),e("#ui_preset_toggle").click(function(){var t=e(this);t.hasClass("windowmode")?(t.removeClass("windowmode"),RVS.F.fixTools()):(t.addClass("windowmode"),RVS.F.releaseDarkTools())}),"MacOS"===RVS.F.os()&&(e(".shortcut_cmdctrl").html("⌘"),e(".shortcuttext").addClass("osx"))},1)};RVS.F.fixTools=function(){e(".form_collector").each(function(t){var i=e(this);i.hasClass("__inmodal")||i.appendTo(e("#the_right_toolbar_inner"))})}}()}($nwd_jQuery);